<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />
  <link rel="icon shortcut" href="/favicon.ico" sizes="32x32" />
<link rel="icon" href="/favicon.svg" type="image/svg+xml" />
<link rel="icon" href="/favicon-dark.svg" type="image/svg+xml" media="(prefers-color-scheme: dark)" />
<link rel="icon" href="/favicon-16x16.png" type="image/png" sizes="16x16" />
<link rel="icon" href="/favicon-32x32.png" type="image/png" sizes="32x32" />
<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180" />
<link fetchpriority="low" href="/site.webmanifest" rel="manifest" />

  <title>Dynamic Programming – Yixian Wang</title>
  <meta name="description" content="Covered all topics of Dynamic Programming" />

  

<meta property="og:title" content="Dynamic Programming" />
<meta property="og:description" content="Covered all topics of Dynamic Programming" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yixianwang.github.io/blog/dynamic_programming/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2022-12-15T10:36:13-04:00" />
<meta property="article:modified_time" content="2022-12-15T10:36:13-04:00" />

  <meta itemprop="name" content="Dynamic Programming">
<meta itemprop="description" content="Covered all topics of Dynamic Programming"><meta itemprop="datePublished" content="2022-12-15T10:36:13-04:00" />
<meta itemprop="dateModified" content="2022-12-15T10:36:13-04:00" />
<meta itemprop="wordCount" content="22224">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Dynamic Programming"/>
<meta name="twitter:description" content="Covered all topics of Dynamic Programming"/>

    <link rel="preload" href="/css/compiled/main.min.16b68a354e65cf45bc12a9b9a023854fe5d743c179103958df82062ebdb2af3a.css" as="style" integrity="sha256-FraKNU5lz0W8Eqm5oCOFT&#43;XXQ8F5EDlY34IGLr2yrzo=" />
    <link href="/css/compiled/main.min.16b68a354e65cf45bc12a9b9a023854fe5d743c179103958df82062ebdb2af3a.css" rel="stylesheet" integrity="sha256-FraKNU5lz0W8Eqm5oCOFT&#43;XXQ8F5EDlY34IGLr2yrzo=" />



  <link href="/css/custom.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" rel="stylesheet" integrity="sha256-47DEQpj8HBSa&#43;/TImW&#43;5JCeuQeRkm5NMpJWZG3hSuFU=" />



  


  <script>
     
    if (localStorage.getItem("color-theme") === "dark" || (!("color-theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
      document.documentElement.classList.add("dark");
      document.documentElement.style.colorScheme = "dark";
    } else {
      document.documentElement.classList.remove("dark");
      document.documentElement.style.colorScheme = "light";
    }
  </script>

  
</head>
<body dir="ltr"><div class="nav-container sticky top-0 z-20 w-full bg-transparent print:hidden">
  <div class="nav-container-blur pointer-events-none absolute z-[-1] h-full w-full bg-white dark:bg-dark shadow-[0_2px_4px_rgba(0,0,0,.02),0_1px_0_rgba(0,0,0,.06)] contrast-more:shadow-[0_0_0_1px_#000] dark:shadow-[0_-1px_0_rgba(255,255,255,.1)_inset] contrast-more:dark:shadow-[0_0_0_1px_#fff]"></div>

  <nav class="mx-auto flex items-center justify-end gap-2 h-16 px-6 max-w-[90rem]">
    <a class="flex items-center hover:opacity-75 ltr:mr-auto rtl:ml-auto" href="/">
        <img class="block dark:hidden" src="/images/logo.svg" alt="Yixian Wang" height="20" width="20" />
        <img class="hidden dark:block" src="/images/logo.svg" alt="Yixian Wang" height="20" width="20" />
        <span class="mx-2 font-extrabold inline select-none" title="Yixian Wang">Yixian Wang</span>
    </a><a
            title="Home"
            href="/"
            
            class="text-sm contrast-more:text-gray-700 contrast-more:dark:text-gray-100 relative -ml-2 hidden whitespace-nowrap p-2 md:inline-block text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"
          >
            <span class="text-center">Home</span>
          </a><a
            title="Projects"
            href="/projects/"
            
            class="text-sm contrast-more:text-gray-700 contrast-more:dark:text-gray-100 relative -ml-2 hidden whitespace-nowrap p-2 md:inline-block text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"
          >
            <span class="text-center">Projects</span>
          </a><a
            title="Blog"
            href="/blog/"
            
            class="text-sm contrast-more:text-gray-700 contrast-more:dark:text-gray-100 relative -ml-2 hidden whitespace-nowrap p-2 md:inline-block font-medium"
          >
            <span class="text-center">Blog</span>
          </a><a
            title="Notes"
            href="/notes/"
            
            class="text-sm contrast-more:text-gray-700 contrast-more:dark:text-gray-100 relative -ml-2 hidden whitespace-nowrap p-2 md:inline-block text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"
          >
            <span class="text-center">Notes</span>
          </a><div class="search-wrapper relative md:w-64">
  <div class="relative flex items-center text-gray-900 contrast-more:text-gray-800 dark:text-gray-300 contrast-more:dark:text-gray-300">
    <input
      placeholder="Search..."
      class="search-input block w-full appearance-none rounded-lg px-3 py-2 transition-colors text-base leading-tight md:text-sm bg-black/[.05] dark:bg-gray-50/10 focus:bg-white dark:focus:bg-dark placeholder:text-gray-500 dark:placeholder:text-gray-400 contrast-more:border contrast-more:border-current"
      type="search"
      value=""
      spellcheck="false"
    />
    <kbd
      class="absolute my-1.5 select-none ltr:right-1.5 rtl:left-1.5 h-5 rounded bg-white px-1.5 font-mono text-[10px] font-medium text-gray-500 border dark:border-gray-100/20 dark:bg-dark/50 contrast-more:border-current contrast-more:text-current contrast-more:dark:border-current items-center gap-1 transition-opacity pointer-events-none hidden sm:flex"
    >
      CTRL K
    </kbd>
  </div>

  <div>
    <ul
      class="search-results hextra-scrollbar hidden border border-gray-200 bg-white text-gray-100 dark:border-neutral-800 dark:bg-neutral-900 absolute top-full z-20 mt-2 overflow-auto overscroll-contain rounded-xl py-2.5 shadow-xl max-h-[min(calc(50vh-11rem-env(safe-area-inset-bottom)),400px)] md:max-h-[min(calc(100vh-5rem-env(safe-area-inset-bottom)),400px)] inset-x-0 ltr:md:left-auto rtl:md:right-auto contrast-more:border contrast-more:border-gray-900 contrast-more:dark:border-gray-50 w-screen min-h-[100px] max-w-[min(calc(100vw-2rem),calc(100%+20rem))]"
      style="transition: max-height 0.2s ease 0s;"
    ></ul>
  </div>
</div>
<a class="p-2 text-current" target="_blank" rel="noreferer" href="https://github.com/yixianwang" title="GitHub"><svg height=24 fill="currentColor" viewBox="3 3 18 18">
  <path d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"></path>
</svg>
<span class="sr-only">GitHub</span>
          </a><button type="button" aria-label="Menu" class="hamburger-menu -mr-2 rounded p-2 active:bg-gray-400/20 md:hidden"><svg height=24 fill="none" viewBox="0 0 24 24" stroke="currentColor"><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8H20"></path></g><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16H20"></path></g></svg></button>
  </nav>
</div>

  <div class='mx-auto flex max-w-screen-xl'>
    
    <aside class="sidebar-container flex flex-col print:hidden md:top-16 md:shrink-0 md:w-64 md:self-start max-md:[transform:translate3d(0,-100%,0)] md:hidden">
  
  <div class="px-4 pt-4 md:hidden">
    <div class="search-wrapper relative md:w-64">
  <div class="relative flex items-center text-gray-900 contrast-more:text-gray-800 dark:text-gray-300 contrast-more:dark:text-gray-300">
    <input
      placeholder="Search..."
      class="search-input block w-full appearance-none rounded-lg px-3 py-2 transition-colors text-base leading-tight md:text-sm bg-black/[.05] dark:bg-gray-50/10 focus:bg-white dark:focus:bg-dark placeholder:text-gray-500 dark:placeholder:text-gray-400 contrast-more:border contrast-more:border-current"
      type="search"
      value=""
      spellcheck="false"
    />
    <kbd
      class="absolute my-1.5 select-none ltr:right-1.5 rtl:left-1.5 h-5 rounded bg-white px-1.5 font-mono text-[10px] font-medium text-gray-500 border dark:border-gray-100/20 dark:bg-dark/50 contrast-more:border-current contrast-more:text-current contrast-more:dark:border-current items-center gap-1 transition-opacity pointer-events-none hidden sm:flex"
    >
      CTRL K
    </kbd>
  </div>

  <div>
    <ul
      class="search-results hextra-scrollbar hidden border border-gray-200 bg-white text-gray-100 dark:border-neutral-800 dark:bg-neutral-900 absolute top-full z-20 mt-2 overflow-auto overscroll-contain rounded-xl py-2.5 shadow-xl max-h-[min(calc(50vh-11rem-env(safe-area-inset-bottom)),400px)] md:max-h-[min(calc(100vh-5rem-env(safe-area-inset-bottom)),400px)] inset-x-0 ltr:md:left-auto rtl:md:right-auto contrast-more:border contrast-more:border-gray-900 contrast-more:dark:border-gray-50 w-screen min-h-[100px] max-w-[min(calc(100vw-2rem),calc(100%+20rem))]"
      style="transition: max-height 0.2s ease 0s;"
    ></ul>
  </div>
</div>

  </div>
  <div class="hextra-scrollbar overflow-y-auto overflow-x-hidden p-4 grow md:h-[calc(100vh-var(--navbar-height)-var(--menu-height))]">
    <ul class="flex flex-col gap-1 md:hidden">
      
      
        <li class="open"><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/blog/"
    
  >Blog
        <span class="hextra-sidebar-collapsible-button"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"></path></svg></span>
    </a><div class="pt-1 ltr:pr-0 overflow-hidden transition-all ease-in-out duration-200">
        <ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/blog/d_dynamic_programming_backpack/"
    
  >Draft: Dynamic Programming Backpack
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/blog/d_tt/"
    
  >Draft: TT
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/blog/d_thread_communication/"
    
  >Draft: Inter-threads Communication
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/blog/deadlock/"
    
  >Deadlock
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/blog/thread_vs_process/"
    
  >Thread vs Process
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/blog/d_monotonic_stack/"
    
  >Draft: Monotonic Stack
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/blog/d_note_system/"
    
  >Draft: System Design
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/blog/segment_tree/"
    
  >Segment Tree &amp; Binary Index Tree
    </a>
              
            </li><li class="flex flex-col gap-1 open"><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      sidebar-active-item bg-primary-100 font-semibold text-primary-800 contrast-more:border contrast-more:border-primary-500 dark:bg-primary-400/10 dark:text-primary-600 contrast-more:dark:border-primary-500"
    href="/blog/dynamic_programming/"
    
  >Dynamic Programming
    </a>
  
    <ul class='flex flex-col gap-1 relative before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] dark:before:bg-neutral-800 ltr:pl-3 ltr:before:left-0 rtl:pr-3 rtl:before:right-0 ltr:ml-3 rtl:mr-3'><li>
              <a
                href="#chapter-1-dp-%e5%85%a5%e9%97%a8"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 1: DP 入门</a>
            </li>
          <li>
              <a
                href="#chapter-2-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%88%9d%e6%8e%a2--%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%bd%8d%e6%93%8d%e4%bd%9c%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 2: 动态规划初探 &#43; 坐标型动态规划 &#43; 位操作型动态规划</a>
            </li>
          <li>
              <a
                href="#chapter-3-%e6%89%93%e5%8a%ab%e6%88%bf%e5%b1%8b-%e5%9d%90%e6%a0%87%e5%9e%8b%e5%89%8d%e7%bc%80%e5%9e%8b"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 3: 打劫房屋: 坐标型，前缀型</a>
            </li>
          <li>
              <a
                href="#chapter-4-%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2--%e6%9c%80%e5%a4%a7%e7%9b%b4%e6%96%b9%e5%9b%be%e5%9d%90%e6%a0%87%e5%9e%8b"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 4: 最大矩形 &amp;amp;&amp;amp; 最大直方图：坐标型</a>
            </li>
          <li>
              <a
                href="#chapter-5-%e6%9c%80%e7%9f%ad%e5%81%87%e6%9c%9f%e5%9d%90%e6%a0%87%e5%9e%8b"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 5: 最短假期：坐标型</a>
            </li>
          <li>
              <a
                href="#chapter-6-%e6%9c%80%e5%b0%8f%e8%b0%83%e6%95%b4%e4%bb%a3%e4%bb%b7%e8%83%8c%e5%8c%85%e5%9e%8b"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 6: 最小调整代价：背包型</a>
            </li>
          <li>
              <a
                href="#chapter-7-%e9%a6%99%e6%a7%9f%e5%a1%94%e5%9d%90%e6%a0%87%e5%9e%8b"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 7: 香槟塔：坐标型</a>
            </li>
          <li>
              <a
                href="#chapter-8-%e9%a3%9e%e8%a1%8c%e6%a3%8bi"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 8: 飞行棋I</a>
            </li>
          <li>
              <a
                href="#chapter-9-%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 9: 序列型动态规划</a>
            </li>
          <li>
              <a
                href="#chapter-10-%e9%aa%b0%e5%ad%90%e6%b1%82%e5%92%8c%e8%83%8c%e5%8c%85%e5%9e%8b"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 10: 骰子求和：背包型</a>
            </li>
          <li>
              <a
                href="#chapter-11-%e6%9c%80%e9%95%bf%e6%9c%89%e6%95%88%e6%8b%ac%e5%8f%b7%e5%90%8e%e7%bc%80%e5%9e%8b%e4%b8%8e%e5%89%8d%e7%bc%80%e5%9e%8b%e5%8f%aa%e5%8c%ba%e5%88%ab%e4%b8%8e%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 11: 最长有效括号：后缀型(与前缀型只区别与计算顺序)</a>
            </li>
          <li>
              <a
                href="#chapter-12-%e6%9c%80%e5%a4%a7%e5%ad%90%e6%95%b0%e7%bb%84%e5%b7%ae"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 12: 最大子数组差</a>
            </li>
          <li>
              <a
                href="#chapter-13-%e5%b7%a5%e4%bd%9c%e5%ae%89%e6%8e%92%e5%9d%90%e6%a0%87%e5%9e%8b"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 13: 工作安排：坐标型</a>
            </li>
          <li>
              <a
                href="#chapter-14-%e6%9f%93%e8%89%b2%e9%97%ae%e9%a2%98%e5%9d%90%e6%a0%87%e5%9e%8b"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 14: 染色问题：坐标型</a>
            </li>
          <li>
              <a
                href="#chapter-15-%e6%9c%80%e5%b0%8f%e7%9a%84%e7%aa%97%e5%8f%a3%e5%ad%90%e5%ba%8f%e5%88%97%e5%8c%b9%e9%85%8d%e5%9e%8b"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 15: 最小的窗口子序列：匹配型</a>
            </li>
          <li>
              <a
                href="#chapter-16-%e5%88%92%e5%88%86%e5%9e%8b%e5%8d%9a%e5%bc%88%e5%9e%8b-%e5%92%8c-%e8%83%8c%e5%8c%85%e5%9e%8b-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 16: 划分型、博弈型 和 背包型 动态规划</a>
            </li>
          <li>
              <a
                href="#chapter-17-%e8%83%8c%e5%8c%85%e5%9e%8b-%e5%92%8c-%e5%8c%ba%e9%97%b4%e5%9e%8b-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 17: 背包型 和 区间型 动态规划</a>
            </li>
          <li>
              <a
                href="#chapter-18-%e7%9f%b3%e5%a4%b4%e7%a2%b0%e6%92%9e%e8%83%8c%e5%8c%85%e5%9e%8b"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 18: 石头碰撞：背包型</a>
            </li>
          <li>
              <a
                href="#chapter-19-%e5%90%88%e5%b9%b6%e9%87%91%e5%b8%81%e5%8c%ba%e9%97%b4%e5%9e%8b"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 19: 合并金币：区间型</a>
            </li>
          <li>
              <a
                href="#chapter-20-%e5%a4%96%e5%8d%96%e6%bb%a1%e5%87%8f01%e8%83%8c%e5%8c%85"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 20: 外卖满减：01背包</a>
            </li>
          <li>
              <a
                href="#chapter-21-%e8%80%83%e8%af%95%e7%ad%96%e7%95%a50051%e8%83%8c%e5%8c%85"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 21: 考试策略：0/0.5/1背包</a>
            </li>
          <li>
              <a
                href="#chapter-22-%e5%8f%8c%e5%ba%8f%e5%88%97%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 22: 双序列动态规划</a>
            </li>
          <li>
              <a
                href="#chapter-23-%e6%af%95%e4%b8%9a%e6%97%85%e8%a1%8c"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 23: 毕业旅行</a>
            </li>
          <li>
              <a
                href="#chapter-24-%e5%8f%8c%e8%89%b2%e5%a1%94"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 24: 双色塔</a>
            </li>
          <li>
              <a
                href="#chapter-25-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 25: 编辑距离</a>
            </li>
          <li>
              <a
                href="#chapter-23-%e6%af%95%e4%b8%9a%e6%97%85%e8%a1%8c-1"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 23: 毕业旅行</a>
            </li>
          <li>
              <a
                href="#chapter-24-%e5%8f%8c%e8%89%b2%e5%a1%94-1"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 24: 双色塔</a>
            </li>
          <li>
              <a
                href="#chapter-25-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb-1"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 25: 编辑距离</a>
            </li>
          <li>
              <a
                href="#chapter-26-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e9%9a%be%e9%a2%98%e4%b8%93%e5%9c%ba"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Chapter 26: 动态规划难题专场</a>
            </li>
          <li>
              <a
                href="#others-note"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Others Note</a>
            </li>
          <li>
              <a
                href="#others-note-1"
                class="flex rounded px-2 py-1.5 text-sm transition-colors [word-break:break-word] cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:border flex gap-2 before:opacity-25 before:content-['#'] text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:text-gray-900 contrast-more:dark:text-gray-50 contrast-more:border-transparent contrast-more:hover:border-gray-900 contrast-more:dark:hover:border-gray-50"
              >Others Note</a>
            </li>
          </ul>
  
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/blog/note_recursion/"
    
  >Recursion
    </a>
              
            </li></ul>
      </div></li>
        <li class=""><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/"
    
  >Notes
        <span class="hextra-sidebar-collapsible-button"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"></path></svg></span>
    </a><div class="pt-1 ltr:pr-0 overflow-hidden transition-all ease-in-out duration-200">
        <ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/latex/"
    
  >Latex
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/template_pi/"
    
  >Template PI
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/sql/"
    
  >SQL
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/trie_techlead/"
    
  >Trie Techlead
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/al_note/"
    
  >Algorithms Notebook
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/aws_connection/"
    
  >AWS
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/colab_tips/"
    
  >Colab Tips
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/colab_upload/"
    
  >Colab Upload
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/conda/"
    
  >Conda
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/cpp/"
    
  >Cpp
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/cuda/"
    
  >CUDA
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/ds/"
    
  >Data Science Knowledge
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/django/"
    
  >Django
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/git/"
    
  >Git
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/google_cloud/"
    
  >Google Cloud
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/hexo/"
    
  >Hexo
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/hugo/"
    
  >Hugo
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/java/"
    
  >Java
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/al_note_legacy/"
    
  >Legacy Algorithms Notebook
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/linear_algebra/"
    
  >Linear Algebra
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/ood/"
    
  >OOD
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/pytest/"
    
  >Pytest
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/python_script/"
    
  >Python Scripts
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/utils_notebook/"
    
  >Utils Notebook
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/vim/"
    
  >Vim
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/notes/markdown/"
    
  >Markdown
    </a>
              
            </li></ul>
      </div></li>
        <li class=""><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/projects/"
    
  >Projects
        <span class="hextra-sidebar-collapsible-button"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"></path></svg></span>
    </a><div class="pt-1 ltr:pr-0 overflow-hidden transition-all ease-in-out duration-200">
        <ul class='relative flex flex-col gap-1 before:absolute before:inset-y-1 before:w-px before:bg-gray-200 before:content-[""] ltr:ml-3 ltr:pl-3 ltr:before:left-0 rtl:mr-3 rtl:pr-3 rtl:before:right-0 dark:before:bg-neutral-800'><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/projects/android_business_management/"
    
  >Android App: Business Management &amp; Accountant
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/projects/mpi_barnes_hut/"
    
  >Exploring Parallel Processes Programming with MPICH Simulating Barnes Hut Algorithm
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/projects/go_tree_comparison/"
    
  >Exploring Concurrency Programming with Go
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/projects/cuda_kmeans/"
    
  >Exploring GPU Programming with CUDA/CUDA Shared Memory/Thrust Solving K-Means Algorithm
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/projects/pthreads_prefix_sum/"
    
  >Exploring Multithreaded Programming with Pthreads Solving Parallel Prefix Scan Algorithm
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/projects/supertuxkart/"
    
  >Draft: Self-driving SuperTuxKart with Pytorch
    </a>
              
            </li><li class="flex flex-col gap-1 "><a
    class="flex items-center justify-between gap-2 cursor-pointer rounded px-2 py-1.5 text-sm transition-colors [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] [word-break:break-word]
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 contrast-more:border contrast-more:border-transparent contrast-more:text-gray-900 contrast-more:hover:border-gray-900 dark:text-neutral-400 dark:hover:bg-primary-100/5 dark:hover:text-gray-50 contrast-more:dark:text-gray-50 contrast-more:dark:hover:border-gray-50"
    href="/projects/nlp_semantic_parsing_encoder_decoder/"
    
  >Semantic Parsing with Encoder-Decoder Models
    </a>
              
            </li></ul>
      </div></li>
    </ul>

    </div>
  
  
  <div class="md:hidden  sticky bottom-0 bg-white dark:bg-dark mx-4 py-4 shadow-[0_-12px_16px_#fff] flex items-center gap-2 dark:border-neutral-800 dark:shadow-[0_-12px_16px_#111] contrast-more:border-neutral-400 contrast-more:shadow-none contrast-more:dark:shadow-none border-t" data-toggle-animation="show">
      <div class="flex grow flex-col">
        <button
  title="Change theme"
  data-theme="light"
  class="theme-toggle group h-7 rounded-md px-2 text-left text-xs font-medium text-gray-600 transition-colors dark:text-gray-400 hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-primary-100/5 dark:hover:text-gray-50"
  type="button"
  aria-label="Toggle Dark Mode"
>
  <div class="flex items-center gap-2 capitalize"><svg height=12 class="group-data-[theme=light]:hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span class="group-data-[theme=light]:hidden">Light</span><svg height=12 class="group-data-[theme=dark]:hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg><span class="group-data-[theme=dark]:hidden">Dark</span></div>
</button>

      </div>
    </div>
</aside>
    
<nav class="hextra-toc order-last hidden w-64 shrink-0 xl:block print:hidden px-4" aria-label="table of contents">
    <div class="hextra-scrollbar sticky top-16 overflow-y-auto pr-4 pt-6 text-sm [hyphens:auto] max-h-[calc(100vh-var(--navbar-height)-env(safe-area-inset-bottom))] ltr:-mr-4 rtl:-ml-4"><p class="mb-4 font-semibold tracking-tight">On this page</p><ul>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-1-dp-%e5%85%a5%e9%97%a8">Chapter 1: DP 入门
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#how-to-realize-a-dp-problem">How to realize a DP problem
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%b8%b8%e8%a7%81dp%e7%b1%bb%e5%9e%8b">常见DP类型：
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e9%a2%98%e7%9b%ae%e7%89%b9%e7%82%b9">DP题目特点
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e6%9c%80%e5%80%bc%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81">最值型动态规划 &amp;&amp; DP组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e9%80%92%e5%bd%92%e5%86%99%e6%b3%95%e7%9a%84%e4%b8%8d%e5%8f%af%e8%a1%8c%e6%80%a7">递归写法的不可行性
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e9%80%92%e5%bd%92%e5%86%99%e6%b3%95">递归写法
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e9%80%92%e5%bd%92%e5%86%99%e6%b3%95%e7%9a%84%e9%97%ae%e9%a2%98">递归写法的问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b%e5%88%b0%e6%ad%a4%e5%af%b9%e4%ba%86%e4%b8%80%e5%8d%8a%e6%af%94%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81%e7%ae%80%e5%8d%95%e4%b8%80%e4%ba%9b">DP组成部分二：转移方程（到此对了一半，比确定状态简单一些）
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5">DP组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f">DP组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#time-complexity">Time Complexity
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-669">Coding 669
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e8%ae%a1%e6%95%b0%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">计数型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81">DP组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b">DP组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-1">DP组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-1">DP组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding">Coding
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%98%e5%9c%a8%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">存在型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-1">DP组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-1">DP组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-2">DP组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-2">DP组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-1">Coding
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#in-summary">In summary
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise1-%e9%87%91%e5%ad%97%e5%a1%94">Exercise1: 金字塔
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise2-%e4%b9%98%e7%a7%af%e6%9c%80%e5%a4%a7%e5%ad%90%e5%ba%8f%e5%88%97">Exercise2: 乘积最大子序列
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-2-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%88%9d%e6%8e%a2--%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%bd%8d%e6%93%8d%e4%bd%9c%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">Chapter 2: 动态规划初探 + 坐标型动态规划 + 位操作型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%88%9d%e6%8e%a2-%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">初探 坐标型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90">题目分析
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5">初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-2">Coding
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%88%9d%e6%8e%a2-%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">初探 序列型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-3">Coding
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#in-summary-seq-type">In summary: seq-type
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%88%9d%e6%8e%a2-%e5%88%92%e5%88%86%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">初探 划分型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-1">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-1">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-1">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-1">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-1">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-4">Coding
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e6%9c%80%e5%b0%8f%e8%b7%af%e5%be%84%e5%92%8c">坐标型动态规划：最小路径和
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e6%9c%80%e5%b0%8f%e8%b7%af%e5%be%84%e5%92%8c--%e8%b7%af%e5%be%84%e6%89%93%e5%8d%b0">坐标型动态规划：最小路径和&ndash;路径打印
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e6%9c%80%e5%b0%8f%e8%b7%af%e5%be%84%e5%92%8c--%e7%a9%ba%e9%97%b4%e4%bc%98%e5%8c%96">坐标型动态规划：最小路径和&ndash;空间优化
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%82%b8%e5%bc%b9%e8%a2%ad%e5%87%bb">坐标型动态规划：炸弹袭击
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-2">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-2">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-2">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-2">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-2">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%9b%9b%e4%b8%aa%e6%96%b9%e5%90%91">四个方向
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-5">Coding
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92-%e6%80%bb%e7%bb%93">坐标型动态规划 总结
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e4%bd%8d%e6%93%8d%e4%bd%9c%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92counting-bits">位操作型动态规划：Counting Bits
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-1">题目分析
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-3">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-3">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-3">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-3">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-3">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-6">Coding
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise-%e6%9c%80%e9%95%bf%e4%b8%8a%e5%8d%87%e5%ad%90%e5%ba%8f%e5%88%97">Exercise: 最长上升子序列
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-3-%e6%89%93%e5%8a%ab%e6%88%bf%e5%b1%8b-%e5%9d%90%e6%a0%87%e5%9e%8b%e5%89%8d%e7%bc%80%e5%9e%8b">Chapter 3: 打劫房屋: 坐标型，前缀型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%9d%90%e6%a0%87%e5%9e%8b">坐标型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e4%bb%a3%e7%a0%81%e6%80%9d%e8%b7%af">代码思路
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%89%8d%e7%bc%80%e5%9e%8b">前缀型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-4-%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2--%e6%9c%80%e5%a4%a7%e7%9b%b4%e6%96%b9%e5%9b%be%e5%9d%90%e6%a0%87%e5%9e%8b">Chapter 4: 最大矩形 &amp;&amp; 最大直方图：坐标型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2">最大矩形
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e7%9b%b4%e6%96%b9%e5%9b%be%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2%e8%a6%86%e7%9b%96">直方图最大矩形覆盖
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-5-%e6%9c%80%e7%9f%ad%e5%81%87%e6%9c%9f%e5%9d%90%e6%a0%87%e5%9e%8b">Chapter 5: 最短假期：坐标型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise-%e7%9b%b8%e5%85%b3%e9%a2%98%e7%9b%ae">Exercise: 相关题目
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-6-%e6%9c%80%e5%b0%8f%e8%b0%83%e6%95%b4%e4%bb%a3%e4%bb%b7%e8%83%8c%e5%8c%85%e5%9e%8b">Chapter 6: 最小调整代价：背包型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e7%8a%b6%e6%80%81">状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b">转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e6%80%9d%e8%b7%af">思路
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#1%e4%b8%b4%e7%95%8c%e5%80%bc">1.临界值：
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#2%e7%8a%b6%e6%80%81%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b">2.状态转移方程：
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-7">Coding
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-7-%e9%a6%99%e6%a7%9f%e5%a1%94%e5%9d%90%e6%a0%87%e5%9e%8b">Chapter 7: 香槟塔：坐标型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#step-1--%e5%a6%82%e4%bd%95%e5%ae%9a%e4%b9%89%e7%8a%b6%e6%80%81">Step 1 : 如何定义状态？
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#step-2--%e4%b8%b4%e7%95%8c%e5%80%bc%e6%98%af%e4%bb%80%e4%b9%88">Step 2 : 临界值是什么？
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#step-3--%e7%8a%b6%e6%80%81%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b%e6%80%8e%e4%b9%88%e5%86%99">Step 3 : 状态转移方程怎么写？
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#step-4--dp%e7%bb%93%e6%9e%9c%e6%98%af%e4%bb%80%e4%b9%88">Step 4 : DP结果是什么？
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e7%a9%ba%e9%97%b4%e4%bc%98%e5%8c%96">空间优化：
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#soluton-1-row--2">Soluton 1: row % 2
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#soluton-2-%e4%b8%80%e7%bb%b4%e6%95%b0%e7%bb%84">Soluton 2: 一维数组
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-8-%e9%a3%9e%e8%a1%8c%e6%a3%8bi">Chapter 8: 飞行棋I
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#step-1--%e5%a6%82%e4%bd%95%e5%ae%9a%e4%b9%89%e7%8a%b6%e6%80%81-1">Step 1 : 如何定义状态？
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#step-2--%e4%b8%b4%e7%95%8c%e5%80%bc%e6%98%af%e4%bb%80%e4%b9%88-1">Step 2 : 临界值是什么？
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#step-3--%e7%8a%b6%e6%80%81%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b%e6%80%8e%e4%b9%88%e5%86%99-1">Step 3 : 状态转移方程怎么写？
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#step-4--dp%e7%bb%93%e6%9e%9c%e6%98%af%e4%bb%80%e4%b9%88-1">Step 4 : DP结果是什么？
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp-solution">DP Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-9-%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">Chapter 9: 序列型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e7%ae%80%e4%bb%8b">序列型动态规划&ndash;简介
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e6%95%b0%e5%ad%97%e7%bf%bb%e8%bd%ac">序列型动态规划&ndash;数字翻转
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-4">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-4">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-4">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-4">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-8">Coding
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#mine-correct-solution">Mine Correct Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-solution">Official Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%9a%84%e6%97%b6%e9%97%b4%e4%bc%98%e5%8c%96--%e6%88%bf%e5%b1%8b%e6%9f%93%e8%89%b2ii">序列型动态规划的时间优化&ndash;房屋染色II
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#mine-correct-answer-onk2">Mine Correct Answer O(nk^2)
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e6%97%b6%e9%97%b4%e4%bc%98%e5%8c%96">时间优化
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#mine-correct-time-optimized-solution">Mine correct time optimized solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-time-optimized-solution">Official time optimized solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a81">序列型动态规划&ndash;买卖股票1
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e8%a7%a3%e6%b3%95">动态规划解法
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#mine-correct-solution-1">Mine correct solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-solution-better">Official solution: Better
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a82">序列型动态规划&ndash;买卖股票2
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-2">题目分析
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-solution-1">Official solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a83-%e5%ba%8f%e5%88%97%e5%9e%8b">序列型动态规划&ndash;买卖股票3: 序列型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-3">题目分析
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-5">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e8%ae%b0%e5%bd%95%e9%98%b6%e6%ae%b5">记录阶段
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-continued">动态规划组成部分一：确定状态 continued
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-4">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-5">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-5">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-5">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-solution-2">Official Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a84">序列型动态规划&ndash;买卖股票4
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-4">题目分析
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e8%ae%b0%e5%bd%95%e9%98%b6%e6%ae%b5-1">记录阶段
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-6">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-6">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-6">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-solution-3">Official Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-solution--rolling-array-optimization">Official Solution : rolling array optimization
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e5%b0%8f%e7%bb%93">序列型动态规划&ndash;小结
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%88%9d%e6%8e%a2-%e6%9c%80%e9%95%bf%e4%b8%8a%e5%8d%87%e5%ad%90%e5%ba%8f%e5%88%97lis">初探 最长上升子序列(LIS)
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e6%9c%80%e9%95%bf%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">最长序列型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-6">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-5">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-7">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-7">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-7">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e6%80%9d%e8%80%83%e5%a6%82%e4%bd%95%e5%81%9a%e5%88%b0%e6%97%b6%e9%97%b4%e5%a4%8d%e6%9d%82%e5%ba%a6onlogn">思考：如何做到时间复杂度O(nlogn)
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-solution-on2">Official Solution: O(n^2)
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#phone-interview">phone interview
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise-602-%e4%bf%84%e7%bd%97%e6%96%af%e5%a5%97%e5%a8%83%e4%bf%a1%e5%b0%81">Exercise 602 俄罗斯套娃信封
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#mine-first-solution-time-limit-exceeded-dp">Mine first solution: Time Limit Exceeded: dp
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#mine-second-solution-time-limit-exceeded-dfs">Mine second solution: Time Limit Exceeded: dfs
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#correct-forum-official-solution">Correct forum official solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e8%af%be%e5%90%8e%e4%b9%a0%e9%a2%98">课后习题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-10-%e9%aa%b0%e5%ad%90%e6%b1%82%e5%92%8c%e8%83%8c%e5%8c%85%e5%9e%8b">Chapter 10: 骰子求和：背包型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e8%83%8c%e5%8c%85%e5%9e%8b">背包型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-11-%e6%9c%80%e9%95%bf%e6%9c%89%e6%95%88%e6%8b%ac%e5%8f%b7%e5%90%8e%e7%bc%80%e5%9e%8b%e4%b8%8e%e5%89%8d%e7%bc%80%e5%9e%8b%e5%8f%aa%e5%8c%ba%e5%88%ab%e4%b8%8e%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f">Chapter 11: 最长有效括号：后缀型(与前缀型只区别与计算顺序)
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-12-%e6%9c%80%e5%a4%a7%e5%ad%90%e6%95%b0%e7%bb%84%e5%b7%ae">Chapter 12: 最大子数组差
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#mine-solution">Mine solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-solution-with-some-greedy-idea">Official Solution: with some Greedy idea
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e7%9b%b8%e5%85%b3%e9%a2%98%e7%9b%ae">相关题目
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-13-%e5%b7%a5%e4%bd%9c%e5%ae%89%e6%8e%92%e5%9d%90%e6%a0%87%e5%9e%8b">Chapter 13: 工作安排：坐标型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-14-%e6%9f%93%e8%89%b2%e9%97%ae%e9%a2%98%e5%9d%90%e6%a0%87%e5%9e%8b">Chapter 14: 染色问题：坐标型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-15-%e6%9c%80%e5%b0%8f%e7%9a%84%e7%aa%97%e5%8f%a3%e5%ad%90%e5%ba%8f%e5%88%97%e5%8c%b9%e9%85%8d%e5%9e%8b">Chapter 15: 最小的窗口子序列：匹配型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#the-first-solution-with-on2--n--m-approximate-to-on3">The first solution with O(n^2 * (n + m)) approximate to O(n^3)
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#the-second-solution-with-on--n--m-approximate-to-on2-we-should-let-time-less-than-108-if-n-is-20000-then-it-becomes-4--108--108-which-is-not-good">The second solution with O(n * (n + m)) approximate to O(n^2), we should let time less than 10^8, if n is 20000, then it becomes 4 * 10^8 &gt; 10^8, which is not good
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#the-thrid-solution-dynamic-programming-time-on--m-space-on--m">The thrid solution: Dynamic Programming: Time O(n * m) Space O(n * m)
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#relative-problems">Relative Problems
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-16-%e5%88%92%e5%88%86%e5%9e%8b%e5%8d%9a%e5%bc%88%e5%9e%8b-%e5%92%8c-%e8%83%8c%e5%8c%85%e5%9e%8b-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">Chapter 16: 划分型、博弈型 和 背包型 动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%88%92%e5%88%86%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">划分型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-513-perfect-square%e5%88%92%e5%88%86%e5%9e%8b">Example: Lintcode 513 Perfect Square：划分型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-7">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-8">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-8">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-8">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-solution">Coding Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#follow-up">Follow up
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-108-palindrome-partitioning-ii">Example: Lintcode 108 Palindrome Partitioning II
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-8">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-6">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-9">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-9">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-9">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%9b%9e%e6%96%87%e4%b8%b2%e5%88%a4%e6%96%ad">回文串判断
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-16 rtl:pr-16 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%9b%9e%e6%96%87%e4%b8%b2%e7%a7%8d%e7%b1%bb">回文串种类
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-16 rtl:pr-16 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e7%94%9f%e6%88%90%e5%9b%9e%e6%96%87%e4%b8%b2">生成回文串
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-16 rtl:pr-16 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%9c%a8%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%ad%e6%89%be%e5%88%b0%e6%89%80%e6%9c%89%e5%9b%9e%e6%96%87%e4%b8%b2">在字符串中找到所有回文串
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-16 rtl:pr-16 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e8%ae%b0%e5%bd%95%e5%9b%9e%e6%96%87%e4%b8%b2">记录回文串
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%9b%9e%e5%88%b0%e5%8e%9f%e9%a2%98">回到原题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-437-copy-books">Example: Lintcode 437 Copy Books
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-5">题目分析
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-9">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-7">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-10">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-10">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-10">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-the-first-solution-with-dp">Coding: The First Solution with DP
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-the-second-solution-with-binary-search">Coding: The Second Solution with Binary Search
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#summary">Summary
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8d%9a%e5%bc%88%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">博弈型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-394-coins-in-a-line">Example: Lintcode 394 Coins in a Line
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-10">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8d%9a%e5%bc%88%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%bf%85%e8%83%9c-vs-%e5%bf%85%e8%b4%a5">博弈型动态规划：必胜 vs 必败
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-8">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-11">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-11">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-11">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-solution-4">Official Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#the-second-solution-with-time-o1-space-o1">The Second Solution with Time O(1) Space O(1)
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e8%83%8c%e5%8c%85%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">背包型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e7%9b%b4%e8%a7%89">直觉
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-92-backpack">Example: Lintcode 92 Backpack
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-11">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-9">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-12">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-12">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-12">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#dp-official-solution">DP Official Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#backpack-official-solution">Backpack Official Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#summary-1">Summary
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-563-backpack-v">Example: Lintcode 563 Backpack V
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-12">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-10">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-13">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-13">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-13">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-solution-5">Official Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e8%bf%9b%e4%b8%80%e6%ad%a5%e7%a9%ba%e9%97%b4%e4%bc%98%e5%8c%96">进一步空间优化
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#my-correct-solution">My Correct Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise-lintcode-564-backpack-iv-%e7%bb%84%e5%90%88%e6%80%bb%e5%92%8c-iv">Exercise: Lintcode 564 BackPack IV (组合总和 IV)
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-6">题目分析
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-13">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-11">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-14">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-14">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-14">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#offical-solution">Offical Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#summary-2">Summary
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise-single-choice">Exercise: Single Choice
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-17-%e8%83%8c%e5%8c%85%e5%9e%8b-%e5%92%8c-%e5%8c%ba%e9%97%b4%e5%9e%8b-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">Chapter 17: 背包型 和 区间型 动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#01-backpack">01 backpack
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e6%89%93%e5%8d%b0%e8%b7%af%e5%be%84">打印路径
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#complete-backpack">complete backpack
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#multiple-backpack">multiple backpack
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8c%ba%e9%97%b4%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">区间型动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-667-longest-palindrome-subsequence">Example: Lintcode 667 Longest Palindrome Subsequence
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-14">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-12">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-15">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-15">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-15">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#official-solution-6">Official Solution
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e8%ae%b0%e5%bf%86%e5%8c%96%e6%90%9c%e7%b4%a2%e6%96%b9%e6%b3%95">记忆化搜索方法
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e4%b8%8e%e9%80%92%e6%8e%a8%e6%96%b9%e6%b3%95%e6%af%94%e8%be%83">与递推方法比较
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#coding-with-template-important">Coding with Template (important)
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-396-coins-in-a-line-iii-%e5%8c%ba%e9%97%b4%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%8d%9a%e5%bc%88%e9%97%ae%e9%a2%98">Example: Lintcode 396 Coins in A Line III （区间型动态规划—博弈问题）
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8d%9a%e5%bc%88">博弈
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-15">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8d%9a%e5%bc%88%e5%ad%90%e9%97%ae%e9%a2%98">博弈子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-16">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-16">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-16">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-430-scramble-string">Example: Lintcode 430 Scramble String
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-16">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-13">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-17">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-17">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-17">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-17">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e8%ae%b0%e5%bf%86%e5%8c%96%e6%90%9c%e7%b4%a2">记忆化搜索
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-168-%e5%90%b9%e6%b0%94%e7%90%83-%e6%b6%88%e5%8e%bb%e5%9e%8b----%e5%8c%ba%e9%97%b4%e5%9e%8b">Example: Lintcode 168 吹气球 (消去型 &ndash;&gt; 区间型)
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-18">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-14">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-18">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-18">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-18">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#summary-3">Summary
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-18-%e7%9f%b3%e5%a4%b4%e7%a2%b0%e6%92%9e%e8%83%8c%e5%8c%85%e5%9e%8b">Chapter 18: 石头碰撞：背包型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-19-%e5%90%88%e5%b9%b6%e9%87%91%e5%b8%81%e5%8c%ba%e9%97%b4%e5%9e%8b">Chapter 19: 合并金币：区间型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-20-%e5%a4%96%e5%8d%96%e6%bb%a1%e5%87%8f01%e8%83%8c%e5%8c%85">Chapter 20: 外卖满减：01背包
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise-lintcode-92-backpack">Exercise Lintcode 92 backpack
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise-lintcode-125-backpack-ii">Exercise Lintcode 125 backpack II
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise-lintcode-563-backpack-v">Exercise Lintcode 563 backpack V
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-21-%e8%80%83%e8%af%95%e7%ad%96%e7%95%a50051%e8%83%8c%e5%8c%85">Chapter 21: 考试策略：0/0.5/1背包
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise-lintcode-1538-%e5%8d%a1%e7%89%8c%e6%b8%b8%e6%88%8f-ii">Exercise Lintcode 1538 卡牌游戏 II
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#exercise-lintcode-700-%e6%9d%86%e5%ad%90%e5%88%86%e5%89%b2">Exercise Lintcode 700 杆子分割
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-22-%e5%8f%8c%e5%ba%8f%e5%88%97%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">Chapter 22: 双序列动态规划
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-77-%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97">Example: Lintcode 77 最长公共子序列
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-7">题目分析
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-19">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-15">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-19">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-19">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-19">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e6%89%93%e5%8d%b0%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97">打印最长公共子序列
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-29-%e4%ba%a4%e5%8f%89%e5%ad%97%e7%ac%a6%e4%b8%b2">Example: Lintcode 29 交叉字符串
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-20">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-16">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-20">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-20">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-20">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e6%bb%9a%e5%8a%a8%e6%95%b0%e7%bb%84%e4%bc%98%e5%8c%96">滚动数组优化
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-119-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb">Example: Lintcode 119 编辑距离
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-21">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-17">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-21">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-21">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-21">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e6%bb%9a%e5%8a%a8%e6%95%b0%e7%bb%84%e4%bc%98%e5%8c%96-1">滚动数组优化
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb%e7%9a%84%e5%ae%9e%e9%99%85%e7%94%a8%e9%80%94">编辑距离的实际用途
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-154-regular-expression-matching">Example: Lintcode 154 Regular Expression Matching
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-22">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-18">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-22">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-22">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-22">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-192-wildcard-matching">Example: Lintcode 192 Wildcard Matching
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-23">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-19">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-23">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-23">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-23">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-668-ones-and-zeroes%e5%8f%8c%e8%83%8c%e5%8c%85">Example: Lintcode 668 Ones and Zeroes：双背包
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-24">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-24">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-24">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-24">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-118-distinct-subsequences">Example: Lintcode 118 Distinct Subsequences
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-23-%e6%af%95%e4%b8%9a%e6%97%85%e8%a1%8c">Chapter 23: 毕业旅行
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#solution-1-%e6%8e%92%e5%88%97%e5%9e%8bdfs">Solution 1: 排列型DFS
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%88%86%e6%9e%90">分析
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#ac">AC
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#optimize-pruning">Optimize: Pruning
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#solution-2-%e7%8a%b6%e6%80%81%e5%8e%8b%e7%bc%a9%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92">Solution 2: 状态压缩型动态规划???
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-24-%e5%8f%8c%e8%89%b2%e5%a1%94">Chapter 24: 双色塔
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-25-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb">Chapter 25: 编辑距离
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-119-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb-1">Example: Lintcode 119 编辑距离
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-25">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-20">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-25">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-25">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-25">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e6%bb%9a%e5%8a%a8%e6%95%b0%e7%bb%84%e4%bc%98%e5%8c%96-2">滚动数组优化
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb%e7%9a%84%e5%ae%9e%e9%99%85%e7%94%a8%e9%80%94-1">编辑距离的实际用途
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-154-regular-expression-matching-1">Example: Lintcode 154 Regular Expression Matching
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-26">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-21">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-26">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-26">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-26">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-192-wildcard-matching-1">Example: Lintcode 192 Wildcard Matching
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-27">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%ad%90%e9%97%ae%e9%a2%98-22">子问题
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-27">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-27">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-27">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-668-ones-and-zeroes%e5%8f%8c%e8%83%8c%e5%8c%85-1">Example: Lintcode 668 Ones and Zeroes：双背包
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-28">动态规划组成部分一：确定状态
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-28">动态规划组成部分二：转移方程
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-28">动态规划组成部分三：初始条件和边界情况
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-28">动态规划组成部分四：计算顺序
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#example-lintcode-118-distinct-subsequences-1">Example: Lintcode 118 Distinct Subsequences
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-23-%e6%af%95%e4%b8%9a%e6%97%85%e8%a1%8c-1">Chapter 23: 毕业旅行
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#solution-1-%e6%8e%92%e5%88%97%e5%9e%8bdfs-1">Solution 1: 排列型DFS
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%88%86%e6%9e%90-1">分析
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#ac-1">AC
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#optimize-pruning-1">Optimize: Pruning
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#solution-2-%e7%8a%b6%e6%80%81%e5%8e%8b%e7%bc%a9%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92-1">Solution 2: 状态压缩型动态规划???
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-24-%e5%8f%8c%e8%89%b2%e5%a1%94-1">Chapter 24: 双色塔
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-25-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb-1">Chapter 25: 编辑距离
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#really-important-the-most-relevant-problem">(Really Important) The most relevant problem
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#relevant-problems">Relevant Problems
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#chapter-26-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e9%9a%be%e9%a2%98%e4%b8%93%e5%9c%ba">Chapter 26: 动态规划难题专场
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#lintcode-752-rogue-knight-sven">Lintcode 752 Rogue Knight Sven
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#others-note">Others Note
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%9a%84%e9%a2%98%e5%9e%8b">动态规划的题型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e7%ae%80%e5%8e%86-%e6%9c%80%e5%a5%bd%e4%b8%80%e9%a1%b5">简历: 最好一页
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#how-to-use-heap-in-c">How to use heap in c++
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#others-note-1">Others Note
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%9a%84%e9%a2%98%e5%9e%8b-1">动态规划的题型
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#%e7%ae%80%e5%8e%86-%e6%9c%80%e5%a5%bd%e4%b8%80%e9%a1%b5-1">简历: 最好一页
        </a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="ltr:pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 contrast-more:text-gray-900 contrast-more:underline contrast-more:dark:text-gray-50 w-full break-words" href="#how-to-use-heap-in-c-1">How to use heap in c++
        </a>
      </li></ul>
      <div class="mt-8 border-t bg-white pt-8 shadow-[0_-12px_16px_white] dark:bg-dark dark:shadow-[0_-12px_16px_#111] sticky bottom-0 flex flex-col items-start gap-2 pb-8 dark:border-neutral-800 contrast-more:border-t contrast-more:border-neutral-400 contrast-more:shadow-none contrast-more:dark:border-neutral-400">
        <button aria-hidden="true" id="backToTop" onClick="scrollUp();" class="transition-all transition duration-75 opacity-0 text-xs font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 contrast-more:text-gray-800 contrast-more:dark:text-gray-50">
          <span>Scroll to top</span>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="inline ml-1 h-3.5 w-3.5 border rounded-full border-gray-500 hover:border-gray-900 dark:border-gray-400 dark:hover:border-gray-100 contrast-more:border-gray-800 contrast-more:dark:border-gray-50">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />
          </svg>
        </button>
      </div>
    </div>
  </nav>


    <article class="w-full break-words flex min-h-[calc(100vh-var(--navbar-height))] min-w-0 justify-center pb-8 pr-[calc(env(safe-area-inset-right)-1.5rem)]">
      <main class="w-full min-w-0 max-w-6xl px-6 pt-4 md:px-12">
        <div class="mt-1.5 flex items-center gap-1 overflow-hidden text-sm text-gray-500 dark:text-gray-400 contrast-more:text-current">
      <div class="whitespace-nowrap transition-colors min-w-[24px] overflow-hidden text-ellipsis hover:text-gray-900 dark:hover:text-gray-100">
        <a href="https://yixianwang.github.io/blog/">Blog</a>
      </div><svg class="w-3.5 shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg><div class="whitespace-nowrap transition-colors font-medium text-gray-700 contrast-more:font-bold contrast-more:text-current dark:text-gray-100 contrast-more:dark:text-current">Dynamic Programming</div>
</div>

        <div class="content">
          <h1>Dynamic Programming</h1>
          <p>Covered all topics of Dynamic Programming</p>
<!-- vim-markdown-toc GFM -->
<ul>
<li><a href="#chapter-1-dp-%e5%85%a5%e9%97%a8" >Chapter 1: DP 入门</a>
<ul>
<li><a href="#dp%e9%a2%98%e7%9b%ae%e7%89%b9%e7%82%b9" >DP题目特点</a></li>
<li><a href="#%e6%9c%80%e5%80%bc%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81" >最值型动态规划 &amp;&amp; DP组成部分一：确定状态</a></li>
<li><a href="#%e9%80%92%e5%bd%92%e5%86%99%e6%b3%95%e7%9a%84%e4%b8%8d%e5%8f%af%e8%a1%8c%e6%80%a7" >递归写法的不可行性</a>
<ul>
<li><a href="#%e9%80%92%e5%bd%92%e5%86%99%e6%b3%95" >递归写法</a></li>
<li><a href="#%e9%80%92%e5%bd%92%e5%86%99%e6%b3%95%e7%9a%84%e9%97%ae%e9%a2%98" >递归写法的问题</a></li>
</ul>
</li>
<li><a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b%e5%88%b0%e6%ad%a4%e5%af%b9%e4%ba%86%e4%b8%80%e5%8d%8a%e6%af%94%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81%e7%ae%80%e5%8d%95%e4%b8%80%e4%ba%9b" >DP组成部分二：转移方程（到此对了一半，比确定状态简单一些）</a></li>
<li><a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5" >DP组成部分三：初始条件和边界情况</a></li>
<li><a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f" >DP组成部分四：计算顺序</a></li>
<li><a href="#time-complexity" >Time Complexity</a></li>
<li><a href="#coding-669" >Coding 669</a></li>
<li><a href="#%e8%ae%a1%e6%95%b0%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >计数型动态规划</a>
<ul>
<li><a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81" >DP组成部分一：确定状态</a></li>
<li><a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b" >DP组成部分二：转移方程</a></li>
<li><a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-1" >DP组成部分三：初始条件和边界情况</a></li>
<li><a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-1" >DP组成部分四：计算顺序</a></li>
<li><a href="#coding" >Coding</a></li>
</ul>
</li>
<li><a href="#%e5%ad%98%e5%9c%a8%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >存在型动态规划</a>
<ul>
<li><a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-1" >DP组成部分一：确定状态</a></li>
<li><a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-1" >DP组成部分二：转移方程</a></li>
<li><a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-2" >DP组成部分三：初始条件和边界情况</a></li>
<li><a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-2" >DP组成部分四：计算顺序</a></li>
<li><a href="#coding-1" >Coding</a></li>
</ul>
</li>
<li><a href="#in-summary" >In summary</a></li>
<li><a href="#exercise1-%e9%87%91%e5%ad%97%e5%a1%94" >Exercise1: 金字塔</a></li>
<li><a href="#exercise2-%e4%b9%98%e7%a7%af%e6%9c%80%e5%a4%a7%e5%ad%90%e5%ba%8f%e5%88%97" >Exercise2: 乘积最大子序列</a></li>
</ul>
</li>
<li><a href="#chapter-2-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%88%9d%e6%8e%a2--%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%bd%8d%e6%93%8d%e4%bd%9c%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >Chapter 2: 动态规划初探 + 坐标型动态规划 + 位操作型动态规划</a>
<ul>
<li><a href="#%e5%88%9d%e6%8e%a2-%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >初探 坐标型动态规划</a>
<ul>
<li><a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90" >题目分析</a></li>
<li><a href="#%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5" >初始条件和边界情况</a></li>
<li><a href="#coding-2" >Coding</a></li>
</ul>
</li>
<li><a href="#%e5%88%9d%e6%8e%a2-%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >初探 序列型动态规划</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#coding-3" >Coding</a></li>
<li><a href="#in-summary-seq-type" >In summary: seq-type</a></li>
</ul>
</li>
<li><a href="#%e5%88%9d%e6%8e%a2-%e5%88%92%e5%88%86%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >初探 划分型动态规划</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-1" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-1" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-1" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-1" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-1" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#coding-4" >Coding</a></li>
</ul>
</li>
<li><a href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e6%9c%80%e5%b0%8f%e8%b7%af%e5%be%84%e5%92%8c" >坐标型动态规划：最小路径和</a></li>
<li><a href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e6%9c%80%e5%b0%8f%e8%b7%af%e5%be%84%e5%92%8c--%e8%b7%af%e5%be%84%e6%89%93%e5%8d%b0" >坐标型动态规划：最小路径和&ndash;路径打印</a></li>
<li><a href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e6%9c%80%e5%b0%8f%e8%b7%af%e5%be%84%e5%92%8c--%e7%a9%ba%e9%97%b4%e4%bc%98%e5%8c%96" >坐标型动态规划：最小路径和&ndash;空间优化</a></li>
<li><a href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%82%b8%e5%bc%b9%e8%a2%ad%e5%87%bb" >坐标型动态规划：炸弹袭击</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-2" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-2" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-2" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-2" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-2" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#%e5%9b%9b%e4%b8%aa%e6%96%b9%e5%90%91" >四个方向</a></li>
<li><a href="#coding-5" >Coding</a></li>
<li><a href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92-%e6%80%bb%e7%bb%93" >坐标型动态规划 总结</a></li>
</ul>
</li>
<li><a href="#%e4%bd%8d%e6%93%8d%e4%bd%9c%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92counting-bits" >位操作型动态规划：Counting Bits</a>
<ul>
<li><a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-1" >题目分析</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-3" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-3" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-3" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-3" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-3" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#coding-6" >Coding</a></li>
</ul>
</li>
<li><a href="#exercise-%e6%9c%80%e9%95%bf%e4%b8%8a%e5%8d%87%e5%ad%90%e5%ba%8f%e5%88%97" >Exercise: 最长上升子序列</a></li>
</ul>
</li>
<li><a href="#chapter-3-%e6%89%93%e5%8a%ab%e6%88%bf%e5%b1%8b-%e5%9d%90%e6%a0%87%e5%9e%8b%e5%89%8d%e7%bc%80%e5%9e%8b" >Chapter 3: 打劫房屋: 坐标型，前缀型</a>
<ul>
<li><a href="#%e5%9d%90%e6%a0%87%e5%9e%8b" >坐标型</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >动态规划</a></li>
<li><a href="#%e4%bb%a3%e7%a0%81%e6%80%9d%e8%b7%af" >代码思路</a></li>
</ul>
</li>
<li><a href="#%e5%89%8d%e7%bc%80%e5%9e%8b" >前缀型</a></li>
</ul>
</li>
<li><a href="#chapter-4-%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2--%e6%9c%80%e5%a4%a7%e7%9b%b4%e6%96%b9%e5%9b%be%e5%9d%90%e6%a0%87%e5%9e%8b" >Chapter 4: 最大矩形 &amp;&amp; 最大直方图：坐标型</a>
<ul>
<li><a href="#%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2" >最大矩形</a></li>
<li><a href="#%e7%9b%b4%e6%96%b9%e5%9b%be%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2%e8%a6%86%e7%9b%96" >直方图最大矩形覆盖</a></li>
</ul>
</li>
<li><a href="#chapter-5-%e6%9c%80%e7%9f%ad%e5%81%87%e6%9c%9f%e5%9d%90%e6%a0%87%e5%9e%8b" >Chapter 5: 最短假期：坐标型</a>
<ul>
<li><a href="#exercise-%e7%9b%b8%e5%85%b3%e9%a2%98%e7%9b%ae" >Exercise: 相关题目</a></li>
</ul>
</li>
<li><a href="#chapter-6-%e6%9c%80%e5%b0%8f%e8%b0%83%e6%95%b4%e4%bb%a3%e4%bb%b7%e8%83%8c%e5%8c%85%e5%9e%8b" >Chapter 6: 最小调整代价：背包型</a>
<ul>
<li><a href="#%e7%8a%b6%e6%80%81" >状态</a></li>
<li><a href="#%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b" >转移方程</a></li>
<li><a href="#%e6%80%9d%e8%b7%af" >思路</a>
<ul>
<li><a href="#1%e4%b8%b4%e7%95%8c%e5%80%bc" >1.临界值：</a></li>
<li><a href="#2%e7%8a%b6%e6%80%81%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b" >2.状态转移方程：</a></li>
</ul>
</li>
<li><a href="#coding-7" >Coding</a></li>
</ul>
</li>
<li><a href="#chapter-7-%e9%a6%99%e6%a7%9f%e5%a1%94%e5%9d%90%e6%a0%87%e5%9e%8b" >Chapter 7: 香槟塔：坐标型</a>
<ul>
<li><a href="#step-1--%e5%a6%82%e4%bd%95%e5%ae%9a%e4%b9%89%e7%8a%b6%e6%80%81" >Step 1 : 如何定义状态？</a></li>
<li><a href="#step-2--%e4%b8%b4%e7%95%8c%e5%80%bc%e6%98%af%e4%bb%80%e4%b9%88" >Step 2 : 临界值是什么？</a></li>
<li><a href="#step-3--%e7%8a%b6%e6%80%81%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b%e6%80%8e%e4%b9%88%e5%86%99" >Step 3 : 状态转移方程怎么写？</a></li>
<li><a href="#step-4--dp%e7%bb%93%e6%9e%9c%e6%98%af%e4%bb%80%e4%b9%88" >Step 4 : DP结果是什么？</a></li>
<li><a href="#%e7%a9%ba%e9%97%b4%e4%bc%98%e5%8c%96" >空间优化：</a>
<ul>
<li><a href="#soluton-1-row--2" >Soluton 1: row % 2</a></li>
<li><a href="#soluton-2-%e4%b8%80%e7%bb%b4%e6%95%b0%e7%bb%84" >Soluton 2: 一维数组</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#chapter-8-%e9%a3%9e%e8%a1%8c%e6%a3%8bi" >Chapter 8: 飞行棋I</a>
<ul>
<li><a href="#step-1--%e5%a6%82%e4%bd%95%e5%ae%9a%e4%b9%89%e7%8a%b6%e6%80%81-1" >Step 1 : 如何定义状态？</a></li>
<li><a href="#step-2--%e4%b8%b4%e7%95%8c%e5%80%bc%e6%98%af%e4%bb%80%e4%b9%88-1" >Step 2 : 临界值是什么？</a></li>
<li><a href="#step-3--%e7%8a%b6%e6%80%81%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b%e6%80%8e%e4%b9%88%e5%86%99-1" >Step 3 : 状态转移方程怎么写？</a></li>
<li><a href="#step-4--dp%e7%bb%93%e6%9e%9c%e6%98%af%e4%bb%80%e4%b9%88-1" >Step 4 : DP结果是什么？</a></li>
<li><a href="#dp-solution" >DP Solution</a></li>
</ul>
</li>
<li><a href="#chapter-9-%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >Chapter 9: 序列型动态规划</a>
<ul>
<li><a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e7%ae%80%e4%bb%8b" >序列型动态规划&ndash;简介</a></li>
<li><a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e6%95%b0%e5%ad%97%e7%bf%bb%e8%bd%ac" >序列型动态规划&ndash;数字翻转</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-4" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-4" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-4" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-4" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#coding-8" >Coding</a>
<ul>
<li><a href="#mine-correct-solution" >Mine Correct Solution</a></li>
<li><a href="#official-solution" >Official Solution</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%9a%84%e6%97%b6%e9%97%b4%e4%bc%98%e5%8c%96--%e6%88%bf%e5%b1%8b%e6%9f%93%e8%89%b2ii" >序列型动态规划的时间优化&ndash;房屋染色II</a>
<ul>
<li><a href="#mine-correct-answer-onk2" >Mine Correct Answer O(nk^2)</a></li>
<li><a href="#%e6%97%b6%e9%97%b4%e4%bc%98%e5%8c%96" >时间优化</a>
<ul>
<li><a href="#mine-correct-time-optimized-solution" >Mine correct time optimized solution</a></li>
<li><a href="#official-time-optimized-solution" >Official time optimized solution</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a81" >序列型动态规划&ndash;买卖股票1</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e8%a7%a3%e6%b3%95" >动态规划解法</a>
<ul>
<li><a href="#mine-correct-solution-1" >Mine correct solution</a></li>
<li><a href="#official-solution-better" >Official solution: Better</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a82" >序列型动态规划&ndash;买卖股票2</a>
<ul>
<li><a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-2" >题目分析</a></li>
<li><a href="#official-solution-1" >Official solution</a></li>
</ul>
</li>
<li><a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a83-%e5%ba%8f%e5%88%97%e5%9e%8b" >序列型动态规划&ndash;买卖股票3: 序列型</a>
<ul>
<li><a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-3" >题目分析</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-5" >动态规划组成部分一：确定状态</a>
<ul>
<li><a href="#%e8%ae%b0%e5%bd%95%e9%98%b6%e6%ae%b5" >记录阶段</a></li>
</ul>
</li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-continued" >动态规划组成部分一：确定状态 continued</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-4" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-5" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-5" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-5" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#official-solution-2" >Official Solution</a></li>
</ul>
</li>
<li><a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a84" >序列型动态规划&ndash;买卖股票4</a>
<ul>
<li><a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-4" >题目分析</a></li>
<li><a href="#%e8%ae%b0%e5%bd%95%e9%98%b6%e6%ae%b5-1" >记录阶段</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-6" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-6" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-6" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#official-solution-3" >Official Solution</a></li>
<li><a href="#official-solution--rolling-array-optimization" >Official Solution : rolling array optimization</a></li>
</ul>
</li>
<li><a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e5%b0%8f%e7%bb%93" >序列型动态规划&ndash;小结</a></li>
<li><a href="#%e5%88%9d%e6%8e%a2-%e6%9c%80%e9%95%bf%e4%b8%8a%e5%8d%87%e5%ad%90%e5%ba%8f%e5%88%97lis" >初探 最长上升子序列(LIS)</a>
<ul>
<li><a href="#%e6%9c%80%e9%95%bf%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >最长序列型动态规划</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-6" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-5" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-7" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-7" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-7" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#%e6%80%9d%e8%80%83%e5%a6%82%e4%bd%95%e5%81%9a%e5%88%b0%e6%97%b6%e9%97%b4%e5%a4%8d%e6%9d%82%e5%ba%a6onlogn" >思考：如何做到时间复杂度O(nlogn)</a></li>
<li><a href="#official-solution-on2" >Official Solution: O(n^2)</a></li>
</ul>
</li>
<li><a href="#phone-interview" >phone interview</a></li>
<li><a href="#exercise-602-%e4%bf%84%e7%bd%97%e6%96%af%e5%a5%97%e5%a8%83%e4%bf%a1%e5%b0%81" >Exercise 602 俄罗斯套娃信封</a>
<ul>
<li><a href="#mine-first-solution-time-limit-exceeded-dp" >Mine first solution: Time Limit Exceeded: dp</a></li>
<li><a href="#mine-second-solution-time-limit-exceeded-dfs" >Mine second solution: Time Limit Exceeded: dfs</a></li>
<li><a href="#correct-forum-official-solution" >Correct forum official solution</a></li>
</ul>
</li>
<li><a href="#%e8%af%be%e5%90%8e%e4%b9%a0%e9%a2%98" >课后习题</a></li>
</ul>
</li>
<li><a href="#chapter-10-%e9%aa%b0%e5%ad%90%e6%b1%82%e5%92%8c%e8%83%8c%e5%8c%85%e5%9e%8b" >Chapter 10: 骰子求和：背包型</a>
<ul>
<li><a href="#%e8%83%8c%e5%8c%85%e5%9e%8b" >背包型</a></li>
</ul>
</li>
<li><a href="#chapter-11-%e6%9c%80%e9%95%bf%e6%9c%89%e6%95%88%e6%8b%ac%e5%8f%b7%e5%90%8e%e7%bc%80%e5%9e%8b%e4%b8%8e%e5%89%8d%e7%bc%80%e5%9e%8b%e5%8f%aa%e5%8c%ba%e5%88%ab%e4%b8%8e%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f" >Chapter 11: 最长有效括号：后缀型(与前缀型只区别与计算顺序)</a></li>
<li><a href="#chapter-12-%e6%9c%80%e5%a4%a7%e5%ad%90%e6%95%b0%e7%bb%84%e5%b7%ae" >Chapter 12: 最大子数组差</a>
<ul>
<li><a href="#mine-solution" >Mine solution</a></li>
<li><a href="#official-solution-with-some-greedy-idea" >Official Solution: with some Greedy idea</a></li>
<li><a href="#%e7%9b%b8%e5%85%b3%e9%a2%98%e7%9b%ae" >相关题目</a></li>
</ul>
</li>
<li><a href="#chapter-13-%e5%b7%a5%e4%bd%9c%e5%ae%89%e6%8e%92%e5%9d%90%e6%a0%87%e5%9e%8b" >Chapter 13: 工作安排：坐标型</a></li>
<li><a href="#chapter-14-%e6%9f%93%e8%89%b2%e9%97%ae%e9%a2%98%e5%9d%90%e6%a0%87%e5%9e%8b" >Chapter 14: 染色问题：坐标型</a></li>
<li><a href="#chapter-15-%e6%9c%80%e5%b0%8f%e7%9a%84%e7%aa%97%e5%8f%a3%e5%ad%90%e5%ba%8f%e5%88%97%e5%8c%b9%e9%85%8d%e5%9e%8b" >Chapter 15: 最小的窗口子序列：匹配型</a>
<ul>
<li><a href="#the-first-solution-with-on2--n--m-approximate-to-on3" >The first solution with O(n^2 * (n + m)) approximate to O(n^3)</a></li>
<li><a href="#the-second-solution-with-on--n--m-approximate-to-on2-we-should-let-time-less-than-108-if-n-is-20000-then-it-becomes-4--108--108-which-is-not-good" >The second solution with O(n * (n + m)) approximate to O(n^2), we should let time less than 10^8, if n is 20000, then it becomes 4 * 10^8 &gt; 10^8, which is not good</a></li>
<li><a href="#the-thrid-solution-dynamic-programming-time-on--m-space-on--m" >The thrid solution: Dynamic Programming: Time O(n * m) Space O(n * m)</a></li>
<li><a href="#relative-problems" >Relative Problems</a></li>
</ul>
</li>
<li><a href="#chapter-16-%e5%88%92%e5%88%86%e5%9e%8b%e5%8d%9a%e5%bc%88%e5%9e%8b-%e5%92%8c-%e8%83%8c%e5%8c%85%e5%9e%8b-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >Chapter 16: 划分型、博弈型 和 背包型 动态规划</a>
<ul>
<li><a href="#%e5%88%92%e5%88%86%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >划分型动态规划</a>
<ul>
<li><a href="#example-lintcode-513-perfect-square%e5%88%92%e5%88%86%e5%9e%8b" >Example: Lintcode 513 Perfect Square：划分型</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-7" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-8" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-8" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-8" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#coding-solution" >Coding Solution</a></li>
<li><a href="#follow-up" >Follow up</a></li>
</ul>
</li>
<li><a href="#example-lintcode-108-palindrome-partitioning-ii" >Example: Lintcode 108 Palindrome Partitioning II</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-8" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-6" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-9" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-9" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-9" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#%e5%9b%9e%e6%96%87%e4%b8%b2%e5%88%a4%e6%96%ad" >回文串判断</a>
<ul>
<li><a href="#%e5%9b%9e%e6%96%87%e4%b8%b2%e7%a7%8d%e7%b1%bb" >回文串种类</a></li>
<li><a href="#%e7%94%9f%e6%88%90%e5%9b%9e%e6%96%87%e4%b8%b2" >生成回文串</a></li>
<li><a href="#%e5%9c%a8%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%ad%e6%89%be%e5%88%b0%e6%89%80%e6%9c%89%e5%9b%9e%e6%96%87%e4%b8%b2" >在字符串中找到所有回文串</a></li>
<li><a href="#%e8%ae%b0%e5%bd%95%e5%9b%9e%e6%96%87%e4%b8%b2" >记录回文串</a></li>
</ul>
</li>
<li><a href="#%e5%9b%9e%e5%88%b0%e5%8e%9f%e9%a2%98" >回到原题</a></li>
</ul>
</li>
<li><a href="#example-lintcode-437-copy-books" >Example: Lintcode 437 Copy Books</a>
<ul>
<li><a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-5" >题目分析</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-9" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-7" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-10" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-10" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-10" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#coding-the-first-solution-with-dp" >Coding: The First Solution with DP</a></li>
<li><a href="#coding-the-second-solution-with-binary-search" >Coding: The Second Solution with Binary Search</a></li>
</ul>
</li>
<li><a href="#summary" >Summary</a></li>
</ul>
</li>
<li><a href="#%e5%8d%9a%e5%bc%88%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >博弈型动态规划</a>
<ul>
<li><a href="#example-lintcode-394-coins-in-a-line" >Example: Lintcode 394 Coins in a Line</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-10" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%8d%9a%e5%bc%88%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%bf%85%e8%83%9c-vs-%e5%bf%85%e8%b4%a5" >博弈型动态规划：必胜 vs 必败</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-8" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-11" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-11" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-11" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#official-solution-4" >Official Solution</a></li>
<li><a href="#the-second-solution-with-time-o1-space-o1" >The Second Solution with Time O(1) Space O(1)</a></li>
</ul>
</li>
<li><a href="#%e8%83%8c%e5%8c%85%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >背包型动态规划</a>
<ul>
<li><a href="#%e7%9b%b4%e8%a7%89" >直觉</a></li>
<li><a href="#example-lintcode-92-backpack" >Example: Lintcode 92 Backpack</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-11" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-9" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-12" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-12" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-12" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#dp-official-solution" >DP Official Solution</a></li>
<li><a href="#backpack-official-solution" >Backpack Official Solution</a></li>
<li><a href="#summary-1" >Summary</a></li>
</ul>
</li>
<li><a href="#example-lintcode-563-backpack-v" >Example: Lintcode 563 Backpack V</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-12" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-10" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-13" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-13" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-13" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#official-solution-5" >Official Solution</a></li>
<li><a href="#%e8%bf%9b%e4%b8%80%e6%ad%a5%e7%a9%ba%e9%97%b4%e4%bc%98%e5%8c%96" >进一步空间优化</a></li>
<li><a href="#my-correct-solution" >My Correct Solution</a></li>
</ul>
</li>
<li><a href="#exercise-lintcode-564-backpack-iv-%e7%bb%84%e5%90%88%e6%80%bb%e5%92%8c-iv" >Exercise: Lintcode 564 BackPack IV (组合总和 IV)</a>
<ul>
<li><a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-6" >题目分析</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-13" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-11" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-14" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-14" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-14" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#offical-solution" >Offical Solution</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#summary-2" >Summary</a>
<ul>
<li><a href="#exercise-single-choice" >Exercise: Single Choice</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#chapter-17-%e8%83%8c%e5%8c%85%e5%9e%8b-%e5%92%8c-%e5%8c%ba%e9%97%b4%e5%9e%8b-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >Chapter 17: 背包型 和 区间型 动态规划</a>
<ul>
<li><a href="#01-backpack" >01 backpack</a>
<ul>
<li><a href="#%e6%89%93%e5%8d%b0%e8%b7%af%e5%be%84" >打印路径</a></li>
</ul>
</li>
<li><a href="#complete-backpack" >complete backpack</a></li>
<li><a href="#multiple-backpack" >multiple backpack</a></li>
<li><a href="#%e5%8c%ba%e9%97%b4%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >区间型动态规划</a>
<ul>
<li><a href="#example-lintcode-667-longest-palindrome-subsequence" >Example: Lintcode 667 Longest Palindrome Subsequence</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-14" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-12" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-15" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-15" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-15" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#official-solution-6" >Official Solution</a></li>
</ul>
</li>
<li><a href="#%e8%ae%b0%e5%bf%86%e5%8c%96%e6%90%9c%e7%b4%a2%e6%96%b9%e6%b3%95" >记忆化搜索方法</a>
<ul>
<li><a href="#%e4%b8%8e%e9%80%92%e6%8e%a8%e6%96%b9%e6%b3%95%e6%af%94%e8%be%83" >与递推方法比较</a></li>
<li><a href="#coding-with-template-important" >Coding with Template (important)</a></li>
</ul>
</li>
<li><a href="#example-lintcode-396-coins-in-a-line-iii-%e5%8c%ba%e9%97%b4%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%8d%9a%e5%bc%88%e9%97%ae%e9%a2%98" >Example: Lintcode 396 Coins in A Line III （区间型动态规划—博弈问题）</a>
<ul>
<li><a href="#%e5%8d%9a%e5%bc%88" >博弈</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-15" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%8d%9a%e5%bc%88%e5%ad%90%e9%97%ae%e9%a2%98" >博弈子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-16" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-16" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-16" >动态规划组成部分四：计算顺序</a></li>
</ul>
</li>
<li><a href="#example-lintcode-430-scramble-string" >Example: Lintcode 430 Scramble String</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-16" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-13" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-17" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-17" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-17" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-17" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#%e8%ae%b0%e5%bf%86%e5%8c%96%e6%90%9c%e7%b4%a2" >记忆化搜索</a></li>
</ul>
</li>
<li><a href="#example-lintcode-168-%e5%90%b9%e6%b0%94%e7%90%83-%e6%b6%88%e5%8e%bb%e5%9e%8b----%e5%8c%ba%e9%97%b4%e5%9e%8b" >Example: Lintcode 168 吹气球 (消去型 &ndash;&gt; 区间型)</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-18" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-14" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-18" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-18" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-18" >动态规划组成部分四：计算顺序</a></li>
</ul>
</li>
<li><a href="#summary-3" >Summary</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#chapter-18-%e7%9f%b3%e5%a4%b4%e7%a2%b0%e6%92%9e%e8%83%8c%e5%8c%85%e5%9e%8b" >Chapter 18: 石头碰撞：背包型</a></li>
<li><a href="#chapter-19-%e5%90%88%e5%b9%b6%e9%87%91%e5%b8%81%e5%8c%ba%e9%97%b4%e5%9e%8b" >Chapter 19: 合并金币：区间型</a></li>
<li><a href="#chapter-20-%e5%a4%96%e5%8d%96%e6%bb%a1%e5%87%8f01%e8%83%8c%e5%8c%85" >Chapter 20: 外卖满减：01背包</a>
<ul>
<li><a href="#exercise-lintcode-92-backpack" >Exercise Lintcode 92 backpack</a></li>
<li><a href="#exercise-lintcode-125-backpack-ii" >Exercise Lintcode 125 backpack II</a></li>
<li><a href="#exercise-lintcode-563-backpack-v" >Exercise Lintcode 563 backpack V</a></li>
</ul>
</li>
<li><a href="#chapter-21-%e8%80%83%e8%af%95%e7%ad%96%e7%95%a50051%e8%83%8c%e5%8c%85" >Chapter 21: 考试策略：0/0.5/1背包</a>
<ul>
<li><a href="#exercise-lintcode-1538-%e5%8d%a1%e7%89%8c%e6%b8%b8%e6%88%8f-ii" >Exercise Lintcode 1538 卡牌游戏 II</a></li>
<li><a href="#exercise-lintcode-700-%e6%9d%86%e5%ad%90%e5%88%86%e5%89%b2" >Exercise Lintcode 700 杆子分割</a></li>
</ul>
</li>
<li><a href="#chapter-22-%e5%8f%8c%e5%ba%8f%e5%88%97%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >Chapter 22: 双序列动态规划</a>
<ul>
<li><a href="#example-lintcode-77-%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97" >Example: Lintcode 77 最长公共子序列</a>
<ul>
<li><a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-7" >题目分析</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-19" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-15" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-19" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-19" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-19" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#%e6%89%93%e5%8d%b0%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97" >打印最长公共子序列</a></li>
</ul>
</li>
<li><a href="#example-lintcode-29-%e4%ba%a4%e5%8f%89%e5%ad%97%e7%ac%a6%e4%b8%b2" >Example: Lintcode 29 交叉字符串</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-20" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-16" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-20" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-20" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-20" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#%e6%bb%9a%e5%8a%a8%e6%95%b0%e7%bb%84%e4%bc%98%e5%8c%96" >滚动数组优化</a></li>
</ul>
</li>
<li><a href="#example-lintcode-119-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb" >Example: Lintcode 119 编辑距离</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-21" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-17" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-21" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-21" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-21" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#%e6%bb%9a%e5%8a%a8%e6%95%b0%e7%bb%84%e4%bc%98%e5%8c%96-1" >滚动数组优化</a></li>
<li><a href="#%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb%e7%9a%84%e5%ae%9e%e9%99%85%e7%94%a8%e9%80%94" >编辑距离的实际用途</a></li>
</ul>
</li>
<li><a href="#example-lintcode-154-regular-expression-matching" >Example: Lintcode 154 Regular Expression Matching</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-22" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-18" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-22" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-22" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-22" >动态规划组成部分四：计算顺序</a></li>
</ul>
</li>
<li><a href="#example-lintcode-192-wildcard-matching" >Example: Lintcode 192 Wildcard Matching</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-23" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-19" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-23" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-23" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-23" >动态规划组成部分四：计算顺序</a></li>
</ul>
</li>
<li><a href="#example-lintcode-668-ones-and-zeroes%e5%8f%8c%e8%83%8c%e5%8c%85" >Example: Lintcode 668 Ones and Zeroes：双背包</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-24" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-24" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-24" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-24" >动态规划组成部分四：计算顺序</a></li>
</ul>
</li>
<li><a href="#example-lintcode-118-distinct-subsequences" >Example: Lintcode 118 Distinct Subsequences</a></li>
</ul>
</li>
<li><a href="#chapter-23-%e6%af%95%e4%b8%9a%e6%97%85%e8%a1%8c" >Chapter 23: 毕业旅行</a>
<ul>
<li><a href="#solution-1-%e6%8e%92%e5%88%97%e5%9e%8bdfs" >Solution 1: 排列型DFS</a>
<ul>
<li><a href="#%e5%88%86%e6%9e%90" >分析</a></li>
<li><a href="#ac" >AC</a></li>
<li><a href="#optimize-pruning" >Optimize: Pruning</a></li>
</ul>
</li>
<li><a href="#solution-2-%e7%8a%b6%e6%80%81%e5%8e%8b%e7%bc%a9%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" >Solution 2: 状态压缩型动态规划???</a></li>
</ul>
</li>
<li><a href="#chapter-24-%e5%8f%8c%e8%89%b2%e5%a1%94" >Chapter 24: 双色塔</a></li>
<li><a href="#chapter-25-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb" >Chapter 25: 编辑距离</a>
<ul>
<li><a href="#example-lintcode-119-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb-1" >Example: Lintcode 119 编辑距离</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-25" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-20" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-25" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-25" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-25" >动态规划组成部分四：计算顺序</a></li>
<li><a href="#%e6%bb%9a%e5%8a%a8%e6%95%b0%e7%bb%84%e4%bc%98%e5%8c%96-2" >滚动数组优化</a></li>
<li><a href="#%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb%e7%9a%84%e5%ae%9e%e9%99%85%e7%94%a8%e9%80%94-1" >编辑距离的实际用途</a></li>
</ul>
</li>
<li><a href="#example-lintcode-154-regular-expression-matching-1" >Example: Lintcode 154 Regular Expression Matching</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-26" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-21" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-26" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-26" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-26" >动态规划组成部分四：计算顺序</a></li>
</ul>
</li>
<li><a href="#example-lintcode-192-wildcard-matching-1" >Example: Lintcode 192 Wildcard Matching</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-27" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%ad%90%e9%97%ae%e9%a2%98-22" >子问题</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-27" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-27" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-27" >动态规划组成部分四：计算顺序</a></li>
</ul>
</li>
<li><a href="#example-lintcode-668-ones-and-zeroes%e5%8f%8c%e8%83%8c%e5%8c%85-1" >Example: Lintcode 668 Ones and Zeroes：双背包</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-28" >动态规划组成部分一：确定状态</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-28" >动态规划组成部分二：转移方程</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-28" >动态规划组成部分三：初始条件和边界情况</a></li>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-28" >动态规划组成部分四：计算顺序</a></li>
</ul>
</li>
<li><a href="#example-lintcode-118-distinct-subsequences-1" >Example: Lintcode 118 Distinct Subsequences</a></li>
</ul>
</li>
<li><a href="#chapter-23-%e6%af%95%e4%b8%9a%e6%97%85%e8%a1%8c-1" >Chapter 23: 毕业旅行</a>
<ul>
<li><a href="#solution-1-%e6%8e%92%e5%88%97%e5%9e%8bdfs-1" >Solution 1: 排列型DFS</a>
<ul>
<li><a href="#%e5%88%86%e6%9e%90-1" >分析</a></li>
<li><a href="#ac-1" >AC</a></li>
<li><a href="#optimize-pruning-1" >Optimize: Pruning</a></li>
</ul>
</li>
<li><a href="#solution-2-%e7%8a%b6%e6%80%81%e5%8e%8b%e7%bc%a9%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92-1" >Solution 2: 状态压缩型动态规划???</a></li>
</ul>
</li>
<li><a href="#chapter-24-%e5%8f%8c%e8%89%b2%e5%a1%94-1" >Chapter 24: 双色塔</a></li>
<li><a href="#chapter-25-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb-1" >Chapter 25: 编辑距离</a>
<ul>
<li><a href="#really-important-the-most-relevant-problem" >(Really Important) The most relevant problem</a></li>
<li><a href="#relevant-problems" >Relevant Problems</a></li>
</ul>
</li>
<li><a href="#chapter-26-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e9%9a%be%e9%a2%98%e4%b8%93%e5%9c%ba" >Chapter 26: 动态规划难题专场</a>
<ul>
<li><a href="#lintcode-752-rogue-knight-sven" >Lintcode 752 Rogue Knight Sven</a></li>
</ul>
</li>
<li><a href="#others-note" >Others Note</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%9a%84%e9%a2%98%e5%9e%8b" >动态规划的题型</a></li>
<li><a href="#%e7%ae%80%e5%8e%86-%e6%9c%80%e5%a5%bd%e4%b8%80%e9%a1%b5" >简历: 最好一页</a></li>
<li><a href="#how-to-use-heap-in-c" >How to use heap in c++</a></li>
</ul>
</li>
<li><a href="#others-note-1" >Others Note</a>
<ul>
<li><a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%9a%84%e9%a2%98%e5%9e%8b-1" >动态规划的题型</a></li>
<li><a href="#%e7%ae%80%e5%8e%86-%e6%9c%80%e5%a5%bd%e4%b8%80%e9%a1%b5-1" >简历: 最好一页</a></li>
<li><a href="#how-to-use-heap-in-c-1" >How to use heap in c++</a></li>
</ul>
</li>
</ul>
<!-- vim-markdown-toc -->
<h2>Chapter 1: DP 入门<span class="absolute -mt-20" id="chapter-1-dp-入门"></span>
    <a href="#chapter-1-dp-%e5%85%a5%e9%97%a8" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><h3>How to realize a DP problem<span class="absolute -mt-20" id="how-to-realize-a-dp-problem"></span>
    <a href="#how-to-realize-a-dp-problem" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>First, if the question is asking for the
<ol>
<li><code>How many ways</code></li>
<li><code>Maximum or Minimum</code></li>
<li><code>Yes/No</code></li>
</ol>
</li>
<li>Second, we have to make decisions that may depend on previously made decisions</li>
</ul>
<h3>常见DP类型：<span class="absolute -mt-20" id="常见dp类型"></span>
    <a href="#%e5%b8%b8%e8%a7%81dp%e7%b1%bb%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p>坐标型（20%）</p>
</li>
<li>
<p>序列型（20%）</p>
</li>
<li>
<p>划分型（20%）</p>
</li>
<li>
<p>区间型（15%）</p>
</li>
<li>
<p>背包型（10%）</p>
</li>
<li>
<p>最长序列型（5%）</p>
</li>
<li>
<p>博弈型（5%）</p>
</li>
<li>
<p>综合型（5%）</p>
</li>
<li>
<p>DP时间空间优化</p>
<ul>
<li>FollowUp 常考：滚动数组 或者 降维</li>
</ul>
</li>
<li>
<p>DP打印路径</p>
</li>
</ul>
<h3>DP题目特点<span class="absolute -mt-20" id="dp题目特点"></span>
    <a href="#dp%e9%a2%98%e7%9b%ae%e7%89%b9%e7%82%b9" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ol>
<li>计数(求方案数)
<ul>
<li>有多少种方式走到右下角</li>
<li>有多少种方法选出<code>k</code>个数使得和是sum</li>
<li>How many ways (can you / does it)?</li>
</ul>
</li>
<li>求最大最小值(求最值)
<ul>
<li>从左上角走到右下角路径的最大数字和</li>
<li>最长上升子序列长度</li>
<li>Maximum/ Minimum/ Longest/ Shortest/ Minimum Cost &hellip;</li>
</ul>
</li>
<li>存在性(判断可行性)
<ul>
<li>取石子游戏，先手是否必胜</li>
<li>能不能选出<code>k</code>个数使得和是sum</li>
<li>Yes/No, True/False, 0/1</li>
</ul>
</li>
</ol>
<blockquote>
<p>DP都有方向性：数组顺序固定或不可变(方向性: 从头到尾或者从尾到头)</p>
</blockquote>
<blockquote>
<p>状态：把你觉得会影响结果的信息，全部放到数组的下标中去: 觉得有两个信息影响结果，就弄成二维数组；觉得有三个信息影响结果，就弄成三位数组</p>
</blockquote>
<blockquote>
<p>状态转移：永远考虑最后一次干了什么事情，最后一步从哪儿来，最后一次做了什么操作</p>
</blockquote>
<blockquote>
<p>初始条件：其实就是 用转移方程算不出来，但又需要它的定义，此时需要手工定义
初始条件和边界情况 <em><strong>(人话)</strong></em>：最小的值搞定一下和不要数组越界</p>
</blockquote>
<blockquote>
<p>计算顺序：的确定只有一个原则，当你要算<code>f[X]</code>等式左边的时候，右边用到的状态都已经算过了</p>
</blockquote>
<h3>最值型动态规划 &amp;&amp; DP组成部分一：确定状态<span class="absolute -mt-20" id="最值型动态规划--dp组成部分一确定状态"></span>
    <a href="#%e6%9c%80%e5%80%bc%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/669/" target="_blank" rel="noopener">Lintcode 669: Coin Change</a></li>
</ul>
<ol>
<li>DP组成部分一：确定状态
<ul>
<li>状态在DP中的作用属于定海神针</li>
<li>简单的说，解DP的时候需要开一个数组，数组的每个元素<code>f[i]</code>或者<code>f[i][j]</code>代表什么
<ul>
<li>类似于解数学题中 X, Y, Z 代表什么</li>
</ul>
</li>
<li>确定状态需要两个意识：
<ol>
<li>最后一步：最优策略中的最后一个决策
<ul>
<li>当前问题：</li>
<li>虽然我们不知道最优策略是什么，但是最优策略肯定是<code>K</code>枚硬币<code>a1, a2, ..., ak</code>面值加起来是<code>27</code></li>
<li>所以一定有一枚<strong>最后的</strong>硬币：<code>ak</code></li>
<li>除掉这枚硬币，前面硬币的面值加起来是<code>27 - ak</code></li>
<li><em><strong>Key 1</strong></em>: 我们不关心前面的<code>K - 1</code>枚硬币是怎么拼出<code>27 - ak</code>的（可能有<code>1</code>种拼法，可能有<code>100</code>种拼法），而且我们现在甚至还不知道<code>ak</code>和<code>K</code>，但是我们确定前面的硬币拼出了<code>27 - ak</code></li>
<li><em><strong>Key 2</strong></em>: 因为是最优策略，所以拼出<code>27 - ak</code>的硬币数一定要最少，否则这就不是最优策略了</li>
</ul>
</li>
<li>子问题
<ul>
<li>所以我们就要求：<strong>最少用多少枚硬币拼出<code>27 - ak</code></strong></li>
<li>愿问题是 <strong>最少用多少枚硬币拼出<code>27</code></strong></li>
<li>我们将原问题转化成了一个子问题，而且规模更小：<code>27 - ak</code></li>
<li>为了简化定义，我们设状态<code>f(X) = </code><strong>最少用多少枚硬币拼出X</strong></li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ol>
<h3>递归写法的不可行性<span class="absolute -mt-20" id="递归写法的不可行性"></span>
    <a href="#%e9%80%92%e5%bd%92%e5%86%99%e6%b3%95%e7%9a%84%e4%b8%8d%e5%8f%af%e8%a1%8c%e6%80%a7" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><p>
    <img src="../images_dp/1.1.png" alt="1.1.png" loading="lazy" /></p>
<h4>递归写法<span class="absolute -mt-20" id="递归写法"></span>
    <a href="#%e9%80%92%e5%bd%92%e5%86%99%e6%b3%95" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-0"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">f</span><span class="p">(</span><span class="kt">int</span> <span class="n">X</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// f(X)=最少用多少枚硬币拼出X
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">if</span> <span class="p">(</span><span class="n">X</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 0元钱只要0枚硬币
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span> <span class="c1">// INT_MAX; // 初始化用无穷大
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">if</span> <span class="p">(</span><span class="n">X</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 最后一枚硬币是2元
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">result</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">X</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">X</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 最后一枚硬币是5元
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">result</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">X</span> <span class="o">-</span> <span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">X</span> <span class="o">&gt;=</span> <span class="mi">7</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 最后一枚硬币是7元
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">result</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">X</span> <span class="o">-</span> <span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-0"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>递归写法的问题<span class="absolute -mt-20" id="递归写法的问题"></span>
    <a href="#%e9%80%92%e5%bd%92%e5%86%99%e6%b3%95%e7%9a%84%e9%97%ae%e9%a2%98" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>做了很多重复计算，效率低下</li>
<li>如何避免？
<ul>
<li>DP：将计算结果保存下来，并改变计算顺序</li>
</ul>
</li>
</ul>
<h3>DP组成部分二：转移方程（到此对了一半，比确定状态简单一些）<span class="absolute -mt-20" id="dp组成部分二转移方程到此对了一半比确定状态简单一些"></span>
    <a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b%e5%88%b0%e6%ad%a4%e5%af%b9%e4%ba%86%e4%b8%80%e5%8d%8a%e6%af%94%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81%e7%ae%80%e5%8d%95%e4%b8%80%e4%ba%9b" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ol start="2">
<li>DP组成部分二：转移方程
<ul>
<li>设状态<code>f[X]=</code><strong>最少用多少枚硬币拼出X</strong></li>
<li>对于任意<code>X</code>, $f<input checked="" disabled="" type="checkbox"> = min{f[X - 2] + 1, f[X - 5] + 1, f[X - 7] + 1}$</li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th>f[X]</th>
<th>f[X - 2] + 1</th>
<th>f[X - 5] + 1</th>
<th>f[X - 7] + 1</th>
</tr>
</thead>
<tbody>
<tr>
<td>拼出X所需最少的硬币数</td>
<td>拼出X-2所需最少的硬币数，加上最后一枚硬币2</td>
<td>拼出X-5所需最少的硬币数，加上最后一枚硬币5</td>
<td>拼出X-7所需最少的硬币数，加上最后一枚硬币7</td>
</tr>
</tbody>
</table>
<h3>DP组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="dp组成部分三初始条件和边界情况"></span>
    <a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ol start="3">
<li>DP组成部分三：初始条件和边界情况
<ul>
<li>$f<input checked="" disabled="" type="checkbox"> = min{f[X - 2] + 1, f[X - 5] + 1, f[X - 7] + 1}$</li>
<li>两个问题：
<ol>
<li><code>X - 2, X - 5 或者 X - 7</code>小于0怎么办？</li>
<li>什么时候停下来？</li>
</ol>
</li>
<li>如果不能拼出Y，就定义<code>f[Y]=</code><strong>正无穷</strong>
<ul>
<li>例如<code>f[-1] = f[-2] = ... =</code><strong>正无穷</strong></li>
</ul>
</li>
<li>所以<code>f[1] = min{f[-1] + 1, f[-4] + 1, f[-6] + 1} = </code><strong>正无穷</strong>，表示拼不出来<code>1</code></li>
<li>这道题里初始条件为：<code>f[0] = 0</code>
<ul>
<li>初始条件其实就是 用转移方程算不出来，但又需要它的定义，此时需要手工定义</li>
</ul>
</li>
<li>初始条件和边界情况 <em><strong>(人话)</strong></em>：最小的值搞定一下和不要数组越界</li>
</ul>
</li>
</ol>
<h3>DP组成部分四：计算顺序<span class="absolute -mt-20" id="dp组成部分四计算顺序"></span>
    <a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ol start="4">
<li>DP组成部分四：计算顺序
<ul>
<li><strong>拼出X所需的最少硬币数</strong>: <code>f[X] = min{f[X - 2] + 1, f[X - 5] + 1, f[X - 7] + 1}</code></li>
<li>初始条件：<code>f[0] = 0</code></li>
<li>然后计算<code>f[1], f[2], ..., f[27]</code></li>
<li>当我们计算到f<input checked="" disabled="" type="checkbox"> 时，<code>f[X - 2], f[X - 5], f[X - 7]</code>都已经得到结果了</li>
<li><em><strong>Key</strong></em>: 计算顺序的确定只有一个原则，当你要算<code>f[X]</code>等式左边的时候，右边用到的状态都已经算过了</li>
</ul>
</li>
</ol>
<h3>Time Complexity<span class="absolute -mt-20" id="time-complexity"></span>
    <a href="#time-complexity" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>每一步尝试三种硬币，一共27步</li>
<li>与递归算法相比，没有任何重复计算</li>
<li>算法时间复杂度（即需要进行的步数）：<code>时间复杂度 = 27 * 3</code>
<ul>
<li>如果这道题是：拼出<code>n</code>块钱，有<code>m</code>枚硬币：<code>时间复杂度 = n * m</code></li>
</ul>
</li>
<li>递归时间复杂读为指数级别</li>
</ul>
<h3>Coding 669<span class="absolute -mt-20" id="coding-669"></span>
    <a href="#coding-669" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/669/" target="_blank" rel="noopener">Lintcode 669: Coin Change</a></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-1"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                        <span class="c1">// coins       // amount
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="c1">// {2, 5, 7}   // 27
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kt">int</span> <span class="n">coinChange</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">M</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 0....n: [n+1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 0...n-1: [n]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">M</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="c1">// number of kinds of coins
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// initialization
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// f[1], f[2], ..., f[27]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">M</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">INT_MAX</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// last coin A[j]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// f[i] = min{f[i - A[0]] + 1, ..., f[i - A[n - 1]] + 1}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span> <span class="o">!=</span> <span class="n">INT_MAX</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">M</span><span class="p">]</span> <span class="o">==</span> <span class="n">INT_MAX</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">M</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">M</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-1"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>计数型动态规划<span class="absolute -mt-20" id="计数型动态规划"></span>
    <a href="#%e8%ae%a1%e6%95%b0%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/114" target="_blank" rel="noopener">Lintcode 114 Unique Paths</a></li>
</ul>
<h4>DP组成部分一：确定状态<span class="absolute -mt-20" id="dp组成部分一确定状态"></span>
    <a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p><strong>最后一步</strong>：无论机器人用何种方式到达右下角，总有最后挪动的一步：</p>
<ul>
<li>向右 或者 向下</li>
</ul>
</li>
<li>
<p>右下角坐标设为<code>(m - 1, n - 1)</code></p>
</li>
<li>
<p>那么前一步（倒数第二步）一定是在<code>(m - 2, n - 1)</code>或者<code>(m - 1, n - 2)</code></p>
</li>
<li>
<p><strong>子问题</strong>：那么，如果机器人有<code>X</code>种方式从左上角走到<code>(m - 2, n - 1)</code>，有<code>Y</code>种方式从左上角走到<code>(m - 1, n - 2)</code>，则机器人有<code>X + Y</code>种方式走到<code>(m - 1, n - 1)</code></p>
<ul>
<li>求总方式数的计数型动态规划经常用到<strong>加法原理: 无重复&amp;无遗漏</strong></li>
</ul>
</li>
<li>
<p>问题转化为，机器人有多少种方式从左上角走到<code>(m - 2, n - 1)</code>和<code>(m - 1, n - 2)</code></p>
</li>
<li>
<p>原题要求有多少种方式从左上角走到<code>(m - 1, n - 1)</code></p>
</li>
<li>
<p>子问题</p>
</li>
<li>
<p>状态：设<code>f[i][j]</code>为机器人有多少种方式从左上角走到<code>(i, j)</code></p>
</li>
</ul>
<h4>DP组成部分二：转移方程<span class="absolute -mt-20" id="dp组成部分二转移方程"></span>
    <a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>对于任意一个格子<code>(i, j)</code>, $f[i][j] = f[i - 1][j] + f[i][j - 1]$</li>
</ul>
<table>
<thead>
<tr>
<th>f[i][j]</th>
<th>f[i - 1][j]</th>
<th>f[i][j - 1]</th>
</tr>
</thead>
<tbody>
<tr>
<td>机器人有多少种方式走到<code>(i, j)</code></td>
<td>机器人有多少种方式走到<code>(i - 1, j)</code></td>
<td>机器人有多少种方式走到<code>(i, j - 1)</code></td>
</tr>
</tbody>
</table>
<h4>DP组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="dp组成部分三初始条件和边界情况-1"></span>
    <a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>初始条件：<code>f[0][0] = 1</code>，因为机器人只有一种方式到左上角</li>
<li>边界情况：<code>i = 0</code>或<code>j = 0</code>，则前一步只能有一个方向过来 &ndash;&gt; <code>f[i][j] = 1</code>
<ul>
<li>即第一行和第一列都是<code>1</code></li>
</ul>
</li>
</ul>
<h4>DP组成部分四：计算顺序<span class="absolute -mt-20" id="dp组成部分四计算顺序-1"></span>
    <a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0][0] = 1</code></li>
<li>计算第0行：<code>f[0][0], f[0][1], ..., f[0][n - 1]</code></li>
<li>计算第1行：<code>f[1][0], f[1][1], ..., f[1][n - 1]</code></li>
<li>&hellip;</li>
<li>计算第m-1行：<code>f[m - 1][0], f[m - 1][1], ..., f[m - 1][n - 1]</code>
<ul>
<li>顺序的定义，不是为写for循环，而是为了转移方程，<code>f[i][j]</code>要用到<code>f[i - 1][j]</code>和<code>f[i][j - 1]</code></li>
</ul>
</li>
<li>答案是<code>f[m - 1][n - 1]</code></li>
<li>时间复杂度（计算步数）：<code>O(MN)</code>, 空间复杂度（数组大小）：<code>O(MN)</code></li>
</ul>
<h4>Coding<span class="absolute -mt-20" id="coding"></span>
    <a href="#coding" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-2"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">uniquePaths</span><span class="p">(</span><span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// row: top to bottom
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// column: left to right
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-2"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>存在型动态规划<span class="absolute -mt-20" id="存在型动态规划"></span>
    <a href="#%e5%ad%98%e5%9c%a8%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/116" target="_blank" rel="noopener">Lintcode 116 Jump Game</a></li>
</ul>
<h4>DP组成部分一：确定状态<span class="absolute -mt-20" id="dp组成部分一确定状态-1"></span>
    <a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p><strong>最后一步</strong>：如果🐸能跳到最后一块石头<code>n - 1</code>，我们考虑它跳的最后一步</p>
</li>
<li>
<p>这一步是从(<code>n - 1</code>之前的)石头<code>i</code>跳过来，<code>i &lt; n - 1</code></p>
</li>
<li>
<p>这需要两个条件同时满足：</p>
<ul>
<li>🐸可以跳到石头<code>i</code>(青蛙可以跳到<code>i</code>)</li>
<li>最后一步不超过跳跃的最大距离(<code>i</code>和<code>n - 1</code>的距离不能超过<code>a_i</code>)(即青蛙可以从<code>i</code>跳过来)：<code>n - 1 - i &lt;= a_i</code></li>
</ul>
</li>
<li>
<p><strong>子问题</strong>：那么我们需要知道青蛙能不能跳到石头<code>i (i &lt; n - 1)</code></p>
</li>
<li>
<p>而我们原来要求青蛙能不能跳到石头<code>n - 1</code></p>
</li>
<li>
<p>子问题</p>
</li>
<li>
<p>状态：设<code>f[j]</code>表示青蛙能不能跳到石头<code>j</code></p>
</li>
</ul>
<h4>DP组成部分二：转移方程<span class="absolute -mt-20" id="dp组成部分二转移方程-1"></span>
    <a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[j]</code>表示青蛙能不能跳到石头<code>j</code>, $f[j] = OR_{0 &lt;= i &lt; j}(f[i]\ AND\ i + a[i] &gt;= j)$</li>
</ul>
<table>
<thead>
<tr>
<th>f[j]</th>
<th>青蛙能不能跳到石头<code>j</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>OR_{0&lt;=i&lt;j}</td>
<td>枚举上一个跳到的石头(编号)<code>i</code></td>
</tr>
<tr>
<td>f[i]</td>
<td>青蛙能不能跳到石头<code>i</code></td>
</tr>
<tr>
<td>i + a[i] &gt;= j</td>
<td>最后一步的距离不能超过$a_i$</td>
</tr>
</tbody>
</table>
<h4>DP组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="dp组成部分三初始条件和边界情况-2"></span>
    <a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[j]</code>表示青蛙能不能跳到石头<code>j</code></li>
<li>初始条件：<code>f[0] = true</code>，因为青蛙一开始就在石头0</li>
<li>这道题没有边界情况，因为枚举的<code>i</code>不会越界</li>
</ul>
<h4>DP组成部分四：计算顺序<span class="absolute -mt-20" id="dp组成部分四计算顺序-2"></span>
    <a href="#dp%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[j]</code>表示青蛙能不能跳到石头<code>j</code></li>
<li>$f[j] = OR_{0 &lt;= i &lt; j}(f[i]\ AND\ i + a[i] &gt;= j)$</li>
<li>初始化<code>f[0] = true</code></li>
<li>计算<code>f[1], f[2], ..., f[n - 1]</code></li>
<li>答案是<code>f[n - 1]</code></li>
<li>时间复杂度：<code>O(N^2)</code>，空间复杂度（数组大小）：<code>O(N)</code></li>
</ul>
<h4>Coding<span class="absolute -mt-20" id="coding-1"></span>
    <a href="#coding-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-3"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">canJump</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="c1">// initialization
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// previous stone i
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// last jump is from i to j
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-3"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>In summary<span class="absolute -mt-20" id="in-summary"></span>
    <a href="#in-summary" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>四个组成部分：
<ul>
<li>
<p>确定状态：确定要开的数组的意义定下来：</p>
<ul>
<li>研究最优策略的<strong>最后一步</strong></li>
<li>化为子问题（把公共的汉字抽出来，有几个变量就是几维数组）</li>
</ul>
</li>
<li>
<p>转移方程</p>
<ul>
<li>根据子问题定义直接得到</li>
</ul>
</li>
<li>
<p>初始条件和边界情况</p>
<ul>
<li>细心，考虑周全（验证初值对不对，<code>f[3]</code>或<code>f[4]</code>的正确性）（边界情况数组不能越界）</li>
</ul>
</li>
<li>
<p>计算顺序</p>
<ul>
<li>根本原理：利用之前的计算结果（大部分都是从小到达，二维的话就是从上到下然后从左到右）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Exercise1: 金字塔<span class="absolute -mt-20" id="exercise1-金字塔"></span>
    <a href="#exercise1-%e9%87%91%e5%ad%97%e5%a1%94" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><p>$dp[i][j] = max(dp[i - 1][j - 1], dp[i - 1][j]) + array[i][j]$</p>
<h3>Exercise2: 乘积最大子序列<span class="absolute -mt-20" id="exercise2-乘积最大子序列"></span>
    <a href="#exercise2-%e4%b9%98%e7%a7%af%e6%9c%80%e5%a4%a7%e5%ad%90%e5%ba%8f%e5%88%97" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p><a href="https://www.lintcode.com/problem/191/" target="_blank" rel="noopener">Lintcode 191 Maximum Product Subarray</a></p>
</li>
<li>
<p>Maximum Product Subarray</p>
</li>
<li>
<p>因为负数乘法的原因，需要记录到每个位置为止最大和最小的乘积</p>
</li>
<li>
<p>状态：设<code>f[j] =</code>以<code>a[j]</code>结尾的连续子序列的<strong>最大</strong>乘积，设<code>g[j] = </code>以<code>a[j]</code>结尾的连续子序列的<strong>最小</strong>乘积</p>
</li>
<li>
<p><code>f[j] = max{a[j], max{a[j] * f[j - 1], a[j] * g[j - 1]} | j &gt; 0}</code></p>
</li>
<li>
<p><code>g[j] = min{a[j], min{a[j] * f[j - 1], a[j] * g[j - 1]} | j &gt; 0}</code></p>
</li>
</ul>
<h2>Chapter 2: 动态规划初探 + 坐标型动态规划 + 位操作型动态规划<span class="absolute -mt-20" id="chapter-2-动态规划初探--坐标型动态规划--位操作型动态规划"></span>
    <a href="#chapter-2-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%88%9d%e6%8e%a2--%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%bd%8d%e6%93%8d%e4%bd%9c%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><h3>初探 坐标型动态规划<span class="absolute -mt-20" id="初探-坐标型动态规划"></span>
    <a href="#%e5%88%9d%e6%8e%a2-%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/115" target="_blank" rel="noopener">Lintcode 115 Unique Paths II</a></li>
</ul>
<h4>题目分析<span class="absolute -mt-20" id="题目分析"></span>
    <a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>最后一步一定是从左边<code>(i, j - 1)</code>或上边<code>(i - 1, j)</code>过来</li>
<li>状态<code>f[i][j]</code>表示从左上角有多少种方式走到格子<code>(i, j)</code></li>
<li><strong>坐标型动态规划</strong>：数组下标<code>[i][j]</code>即坐标<code>(i, j)</code>
<ul>
<li>开的数组不需要加1</li>
</ul>
</li>
<li><code>f[i][j] = f[i - 1][j] + f[i][j - 1]</code></li>
</ul>
<h4>初始条件和边界情况<span class="absolute -mt-20" id="初始条件和边界情况"></span>
    <a href="#%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[i][j] = </code>机器人有多少种方式从左上角走到<code>(i, j)</code></li>
<li>如果左上角<code>(0, 0)</code>格或者右下角<code>(m - 1, n - 1)</code>格有障碍，直接输出<code>0</code></li>
<li>如果<code>(i, j)</code>格有障碍，<code>f[i][j] = 0</code>，表示机器人不能到达此格(0种方式)</li>
<li>初始条件：<code>f[0][0] = 1</code>，<code>f[i][j] = </code>：
<ul>
<li><code>0</code>, 如果<code>(i, j)</code>格有障碍</li>
<li><code>1</code>, <code>i == 0 &amp;&amp; j == 0</code></li>
<li><code>f[i - 1][j]</code>, 如果<code>j == 0</code>，即第一列</li>
<li><code>f[i][j - 1]</code>, 如果<code>i == 0</code>，即第一行</li>
<li><code>f[i - 1][j] + f[i][j - 1]</code>，其他</li>
</ul>
</li>
</ul>
<h4>Coding<span class="absolute -mt-20" id="coding-2"></span>
    <a href="#coding-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-4"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">uniquePathsWithObstacles</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">A</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">//obstacle
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// if it is not on 0-th row
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// if it is not on 0-th column
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-4"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>初探 序列型动态规划<span class="absolute -mt-20" id="初探-序列型动态规划"></span>
    <a href="#%e5%88%9d%e6%8e%a2-%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p><a href="https://www.lintcode.com/problem/515" target="_blank" rel="noopener">Lintcode 515 Paint House</a></p>
</li>
<li>
<p>动态规划里，如果你需要知道一个信息，而状态无法体现这个信息，就把这个信息记录下来</p>
</li>
<li>
<p>序列型特点：状态里出现了<strong>前</strong>这个字</p>
</li>
<li>
<p>序列型<code>f[i]</code>代表前<code>i</code>个：<code>0, 1, 2, ..., i - 1</code></p>
<ul>
<li>相较于坐标型：在开初始状态与转移方程的时候序列型有很好的作用</li>
</ul>
</li>
<li>
<p>坐标型<code>f[i]</code>代表到<code>i</code>为止：<code>0, 1, 2, ..., i</code></p>
</li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>最优策略是花费最小的策略</li>
<li>最后一步：最优策略中房子<code>N - 1</code>一定染成了 红、蓝、绿 中的一种</li>
<li>但是相邻两栋房子不能漆成一种颜色</li>
<li>所成如果最优策略中房子<code>N - 1</code>是红色，房子<code>N - 2</code>只能是蓝色或绿色</li>
<li>所成如果最优策略中房子<code>N - 1</code>是蓝色，房子<code>N - 2</code>只能是红色或绿色</li>
<li>所成如果最优策略中房子<code>N - 1</code>是绿色，房子<code>N - 2</code>只能是红色或蓝色</li>
</ul>
<blockquote>
<p>!!!太复杂，如何优化：</p>
</blockquote>
<ul>
<li>如果直接套用以前的思路，记录油漆前<code>N</code>栋房子的最小花费</li>
<li>根据套路，也需要记录油漆前<code>N - 1</code>栋房子的最小花费</li>
<li>但是，前<code>N - 1</code>栋房子的最小花费的最优策略中，不知道房子<code>N - 2</code>是什么颜色，所以有可能和房子<code>N - 1</code>撞色</li>
</ul>
<blockquote>
<p>!!!错误，正确做法：</p>
</blockquote>
<ul>
<li><strong>不知道房子<code>N - 2</code>是什么颜色，就把它记录下来</strong>
<ul>
<li>方法：放到状态里</li>
</ul>
</li>
<li>分别记录油漆前<code>N - 1</code>栋房子<strong>并且</strong>房子<code>N - 2</code>是红色、蓝色、绿色的最小花费</li>
</ul>
<p>
    <img src="../images_dp/2.1.png" alt="2.1.png" loading="lazy" /></p>
<h4>子问题<span class="absolute -mt-20" id="子问题"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>求油漆前<code>N</code>栋房子<strong>并且</strong>房子<code>N - 1</code>是红色、蓝色、绿色的最小花费</li>
<li>需要知道油漆前<code>N - 1</code>栋房子<strong>并且</strong>房子<code>N - 2</code>是红色、蓝色、绿色的最小花费</li>
<li>子问题</li>
<li>状态：设油漆前<code>i</code>栋房子<strong>并且</strong>房子<code>i - 1</code>是红色、蓝色、绿色的最小花费分别为<code>f[i][0], f[i][1], f[i][2]</code>
<ul>
<li><code>f = new int[n + 1][3]</code></li>
</ul>
</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设油漆前<code>i</code>栋房子<strong>并且</strong>房子<code>i - 1</code>是红色、蓝色、绿色的最小花费分别为<code>f[i][0], f[i][1], f[i][2]</code></li>
</ul>
<ul>
<li><code>f[i][0] = min{f[i - 1][1] + cost[i - 1][0], f[i - 1][2] + cost[i - 1][0]}</code></li>
<li><code>f[i][1] = min{f[i - 1][0] + cost[i - 1][1], f[i - 1][2] + cost[i - 1][1]}</code></li>
<li><code>f[i][2] = min{f[i - 1][0] + cost[i - 1][2], f[i - 1][1] + cost[i - 1][2]}</code></li>
</ul>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设油漆前<code>i</code>栋房子<strong>并且</strong>房子<code>i - 1</code>是红色、蓝色、绿色的最小花费分别为<code>f[i][0], f[i][1], f[i][2]</code></li>
</ul>
<ul>
<li>初始条件：<code>f[0][0] = f[0][1] = f[0][2] = 0</code>
<ul>
<li>即不油漆任何房子的花费</li>
</ul>
</li>
<li>无边界情况</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设油漆前<code>i</code>栋房子<strong>并且</strong>房子<code>i - 1</code>是红色、蓝色、绿色的最小花费分别为<code>f[i][0], f[i][1], f[i][2]</code></li>
</ul>
<ul>
<li>初始化<code>f[0][0], f[0][1], f[0][2]</code></li>
<li>计算<code>f[1][0], f[1][1], f[1][2]</code></li>
<li>&hellip;</li>
<li>计算<code>f[N][0], f[N][1], f[N][2]</code></li>
<li>答案是<code>min{f[N][0], f[N][1], f[N][2]}</code>时间复杂度O(N)，空间复杂度O(N)</li>
</ul>
<h4>Coding<span class="absolute -mt-20" id="coding-3"></span>
    <a href="#coding-3" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-5"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// Version 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCost</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">costs</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">costs</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span> <span class="c1">// seq-type
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// initialization
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// first i houses 前i栋
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// house i - 1&#39;s color is j
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// house i - 2&#39;s color is k
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">2</span><span class="p">]));</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-5"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-6"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// Version 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCost</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">costs</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">costs</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span> <span class="c1">// seq-type
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// initialization
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// first i houses
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">2</span><span class="p">]));</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-6"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>In summary: seq-type<span class="absolute -mt-20" id="in-summary-seq-type"></span>
    <a href="#in-summary-seq-type" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>序列型动态规划：&hellip;<em><strong>前<code>i</code>个</strong></em>&hellip;最小/方式数/可行性
<ul>
<li><code>f[i]</code> 代表<strong>前<code>i</code>个</strong>：<code>f[0], f[1], ..., f[i - 1]</code></li>
</ul>
</li>
<li>在设计动态规划的过程中，发现需要知道油漆前<code>N - 1</code>栋房子的最优策略中，房子<code>N - 2</code>的颜色</li>
<li>如果只用<code>f[N - 1]</code>，将无法区分</li>
<li>解决方法：记录下房子<code>N - 2</code>的颜色
<ul>
<li>在房子<code>N - 2</code>是 红/蓝/绿 色的情况下，油漆前<code>N - 1</code>栋房子的最小花费</li>
</ul>
</li>
<li>问题迎刃而解</li>
<li><strong>序列+状态</strong></li>
</ul>
<h3>初探 划分型动态规划<span class="absolute -mt-20" id="初探-划分型动态规划"></span>
    <a href="#%e5%88%9d%e6%8e%a2-%e5%88%92%e5%88%86%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://leetcode.com/problems/decode-ways/" target="_blank" rel="noopener">Leetcode 91 Decode Ways</a></li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-1"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>解密数字串即<strong>划分</strong>成若干段数字，每段数字对应一个字母</li>
<li>最后一步（最后一段）：对应一个字母
<ul>
<li>A, B, &hellip;, Z</li>
</ul>
</li>
<li>这个字母加密时变成1, 2, &hellip;, 26</li>
</ul>
<p>
    <img src="../images_dp/2.2.png" alt="2.2" loading="lazy" />

    <img src="../images_dp/2.3.png" alt="2.3" loading="lazy" />

    <img src="../images_dp/2.4.png" alt="2.4" loading="lazy" /></p>
<h4>子问题<span class="absolute -mt-20" id="子问题-1"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设数字串长度为<code>N</code></li>
<li>要求数字串前<code>N</code>个字符的解密方式数</li>
<li>需要知道数字串前<code>N - 1</code>和<code>N - 2</code>个字符的解密方式数</li>
<li>子问题</li>
<li>状态：设数字串<code>S</code>前<code>i</code>个数字解密成字母串有<code>f[i]</code>种方式</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-1"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设数字串<code>S</code>前<code>i</code>个数字解密成字母串有<code>f[i]</code>种方式</li>
</ul>
<ul>
<li><code>f[i] = f[i - 1] | S[i - 1]对应一个字母 + f[i - 2] | S[i - 2]S[i - 1]对应一个字母</code>
<ul>
<li><code>f[i]</code>: 数字串<code>S</code>前<code>i</code>个数字解密成字母串的方式数</li>
<li><code>f[i - 1] | S[i - 1]对应一个字母</code>: 数字串<code>S</code>前<code>i - 1</code>个数字解密成字母串的方式数</li>
<li><code>f[i - 2] | S[i - 2]S[i - 1]对应一个字母</code>: 数字串<code>S</code>前<code>i - 2</code>个数字解密成字母串的方式数</li>
</ul>
</li>
</ul>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-1"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>设数字串<code>S</code>前<code>i</code>个数字解密成字母串有<code>f[i]</code>种方式</p>
</li>
<li>
<p>初始条件：<code>f[0] = 1</code>，即空串有<code>1</code>种方式解密</p>
<ul>
<li>解密成空串</li>
</ul>
</li>
<li>
<p>边界情况：如果<code>i = 1</code>，只看最后一个数字</p>
</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-1"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0], f[1], ..., f[N]</code></li>
<li>答案是<code>f[N]</code></li>
<li>时间复杂度O(N)，空间复杂度O(N)</li>
</ul>
<h4>Coding<span class="absolute -mt-20" id="coding-4"></span>
    <a href="#coding-4" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-7"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">numDecodings</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// initialization; 当物理意义不明确的时候，推断当前的初始化是否能得到正确的结果
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// first i digits: s[0], ..., s[i - 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// last one digit --&gt; letter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// s[i - 1] == [1, 9]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;0&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// last two digits --&gt; letter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// s[i - 2]s[i - 1] == [10, 26]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;1&#39;</span> <span class="o">||</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;2&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="sc">&#39;6&#39;</span><span class="p">)))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-7"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>坐标型动态规划：最小路径和<span class="absolute -mt-20" id="坐标型动态规划最小路径和"></span>
    <a href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e6%9c%80%e5%b0%8f%e8%b7%af%e5%be%84%e5%92%8c" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><p>
    <img src="../images_dp/2.5.png" alt="2.5" loading="lazy" /></p>
<ul>
<li><a href="https://leetcode.com/problems/minimum-path-sum/" target="_blank" rel="noopener">Leetcode 64 Minimum Path Sum</a></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-8"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// Mine correct version
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minPathSum</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">grid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">grid</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">m</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-8"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-9"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// Official correct version
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minPathSum</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">grid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">grid</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">m</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">INT_MAX</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// if it has a grid above
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// if it has a grid to the left
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-9"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>坐标型动态规划：最小路径和&ndash;路径打印<span class="absolute -mt-20" id="坐标型动态规划最小路径和--路径打印"></span>
    <a href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e6%9c%80%e5%b0%8f%e8%b7%af%e5%be%84%e5%92%8c--%e8%b7%af%e5%be%84%e6%89%93%e5%8d%b0" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><strong>最值</strong>和<strong>可行性</strong>都可以打印方案，但<strong>存在数</strong>不行</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-10"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minPathSum</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">grid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">grid</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">m</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">pi</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// if f[i][j] depends on f[i - 1][j], pi[i][j] = 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// if f[i][j] depends on f[i][j - 1], pi[i][j] = 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">INT_MAX</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// if it has a grid above
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">pi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// if it has a grid to the left
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">pi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// (n - 1, m - 1)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">path</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">p</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// infer the path backward from (n - 1, m - 1)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">p</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">2</span><span class="p">;</span> <span class="n">p</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">path</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">path</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">pi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="o">--</span><span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="o">--</span><span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">p</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;(&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">path</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;, &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">path</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;): &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">grid</span><span class="p">[</span><span class="n">path</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">0</span><span class="p">]][</span><span class="n">path</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">1</span><span class="p">]]</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-10"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-11"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># expected result from the test case: [[1,5,7,6,8],[4,7,4,4,9],[10,3,2,3,2]]</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>0, 0<span class="o">)</span>: <span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>1, 0<span class="o">)</span>: <span class="m">4</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>1, 1<span class="o">)</span>: <span class="m">7</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>2, 1<span class="o">)</span>: <span class="m">3</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>2, 2<span class="o">)</span>: <span class="m">2</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>2, 3<span class="o">)</span>: <span class="m">3</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>2, 4<span class="o">)</span>: <span class="m">2</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-11"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<p>
    <img src="../images_dp/2.6.png" alt="2.6.png" loading="lazy" /></p>
<h3>坐标型动态规划：最小路径和&ndash;空间优化<span class="absolute -mt-20" id="坐标型动态规划最小路径和--空间优化"></span>
    <a href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e6%9c%80%e5%b0%8f%e8%b7%af%e5%be%84%e5%92%8c--%e7%a9%ba%e9%97%b4%e4%bc%98%e5%8c%96" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><code>f[i][j] = std::min{f[i - 1][j], f[i][j - 1]} + A[i][j]</code></li>
<li>计算第<code>i</code>行时，只需要第<code>i</code>行和第<code>i - 1</code>行的<code>f</code></li>
<li>所以，只需要保存两行的<code>f</code>值：<code>f[i][0 ... n - 1]</code>和<code>f[i - 1][0 ... n - 1]</code></li>
<li>用滚动数组实现</li>
<li>开数组时，只开<code>f[0][0 ... n - 1]</code>和<code>f[1][0 ... n - 1]</code></li>
<li>计算<code>f[0][0], ..., f[0][n - 1]</code>，计算<code>f[1][0], ..., f[1][n - 1]</code></li>
<li>计算<code>f[2][0 ... n - 1]</code>时，开<code>f[2][0 ... n - 1]</code>，<strong>删掉<code>f[0][0 ... n - 1]</code>，因为已经不需要<code>f[0][0 ... n - 1]</code>的值了</strong></li>
<li>计算<code>f[3][0 ... n - 1]</code>时，开<code>f[3][0 ... n - 1]</code>，<strong>删掉<code>f[1][0 ... n - 1]</code>，因为已经不需要<code>f[1][0 ... n - 1]</code>的值了</strong></li>
</ul>
<ul>
<li>实际操作时，可以不用每次开数组，而是用滚动法</li>
<li>计算<code>f[0][0], ..., f[0][n - 1]</code>，计算<code>f[1][0], ..., f[1][n - 1]</code></li>
<li>计算<code>f[2][0 ... n - 1]</code>时，把值写在<code>f[0][0 ... n - 1]</code>的<strong>数组</strong>里</li>
<li>同理，<code>f[3][0 ... n - 1]</code>写在<code>f[1][0 ... n - 1]</code>的<strong>数组</strong>里</li>
<li>最后<code>f[m - 1][n - 1]</code>存储在<code>f[0][n - 1]</code>（或者<code>f[1][n - 1]</code>）里，直接输出</li>
</ul>
<blockquote>
<p>对于网格上的动态规划，如果<code>f[i][j]</code>只依赖于本行的<code>f[i][x]</code>与前一行的<code>f[i - 1][y]</code>，那么就可以采用滚动数组的方法压缩空间。空间复杂度<code>O(n)</code></p>
</blockquote>
<p>
    <img src="../images_dp/2.7.png" alt="2.7.png" loading="lazy" /></p>
<blockquote>
<p>如果网格行数少列数多（大胖子网格），那么就可以逐列计算，滚动数组的长度为行数，空间复杂度<code>O(M)</code></p>
</blockquote>
<p>
    <img src="../images_dp/2.8.png" alt="2.8.png" loading="lazy" /></p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-12"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minPathSum</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">grid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">grid</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">m</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">old</span><span class="p">,</span> <span class="n">now</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// old: f[old][...] is holding f[i - 1][...]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// now: f[now][...] is holding f[i][...]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// swap old and now
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">old</span> <span class="o">=</span> <span class="n">now</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">now</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">now</span><span class="p">;</span> <span class="c1">// 0--&gt;1, 1--&gt;0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">      <span class="c1">// 将所有的 f[i] 变成 f[now]； f[i - 1] 变成 f[old]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">INT_MAX</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// if it has a grid above
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// if it has a grid to the left
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-12"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<blockquote>
<p>取模运算(%) 会比这个稍微慢一些</p>
</blockquote>
<h3>坐标型动态规划：炸弹袭击<span class="absolute -mt-20" id="坐标型动态规划炸弹袭击"></span>
    <a href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%82%b8%e5%bc%b9%e8%a2%ad%e5%87%bb" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://leetcode.com/problems/bomb-enemy/" target="_blank" rel="noopener">Leetcode 361 Bomb Enemy</a></li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-2"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>我们假设有敌人或有墙的格子也能放炸弹
<ul>
<li>有敌人的格子：格子里的敌人被炸死，并继续向上爆炸</li>
<li>有墙的格子：炸弹不能炸死任何敌人</li>
</ul>
</li>
</ul>
<ul>
<li>在<code>(i, j)</code>格放一个炸弹，它向上能炸死的敌人数是：
<ul>
<li><code>(i, j)</code>格为空地：<code>(i - 1, j)</code>格向上能炸死的敌人数</li>
<li><code>(i, j)</code>格为敌人：<code>(i - 1, j)</code>格向上能炸死的敌人数 <strong>+ 1</strong></li>
<li><code>(i, j)</code>格为墙：0</li>
</ul>
</li>
</ul>
<h4>子问题<span class="absolute -mt-20" id="子问题-2"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>需要知道<code>(i - 1, j)</code>格放一个炸弹向上能炸死的敌人数</li>
<li>原来要求<code>(i, j)</code>格放一个炸弹向上能炸死的敌人数</li>
<li>子问题</li>
<li>状态：
<ul>
<li><code>Up[i][j]</code>表示<code>(i, j)</code>格放一个炸弹向上能炸死的敌人数</li>
</ul>
</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-2"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>Up[i][j]</code>表示<code>(i, j)</code>格放一个炸弹向上能炸死的敌人数</li>
</ul>
<ul>
<li><code>Up[i][j]</code>:
<ul>
<li><code>Up[i - 1][j]</code>，如果<code>(i, j)</code>格是空地</li>
<li><code>Up[i - 1][j] + 1</code>，如果<code>(i, j)</code>格是敌人</li>
<li>0，如果<code>(i, j)</code>格是墙</li>
</ul>
</li>
</ul>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-2"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>设<code>Up[i][j]</code>表示<code>(i, j)</code>格放一个炸弹向上能炸死的敌人数</p>
</li>
<li>
<p>初始条件： 第<code>0</code>行的<code>Up</code>值和格子内容相关</p>
<ul>
<li><code>Up[0][j] = 0</code>，如果<code>(0, j)</code>格不是敌人</li>
<li><code>Up[0][j] = 1</code>，如果<code>(0, j)</code>格是敌人</li>
</ul>
</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-2"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>逐行计算</li>
<li><code>Up[0][0], Up[0][1], ..., Up[0][n - 1]</code></li>
<li><code>Up[1][0], Up[1][1], ..., Up[1][n - 1]</code></li>
<li>&hellip;</li>
<li><code>Up[m - 1][0], Up[m - 1][1], ..., Up[m - 1][n - 1]</code></li>
<li>时间复杂度O(MN)，空间复杂度O(MN)</li>
</ul>
<h4>四个方向<span class="absolute -mt-20" id="四个方向"></span>
    <a href="#%e5%9b%9b%e4%b8%aa%e6%96%b9%e5%90%91" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>Up[i][j]</code>表示如果<code>(i, j)</code>放一个炸弹向上可以最多炸死多少敌人</li>
<li>一共四个方向</li>
<li>可以类似地计算<code>Down[i][j], Left[i][j], Right[i][j]</code>，注意计算顺序会有改变</li>
</ul>
<p>
    <img src="../images_dp/2.9.png" alt="四个方向" loading="lazy" /></p>
<ul>
<li><code>(i, j)</code>如果是空地，放一个炸弹最多炸死的敌人数是：
<ul>
<li><code>Up[i][j] + Down[i][j] + Left[i][j] + Right[i][j]</code></li>
</ul>
</li>
<li>取最大值即可</li>
<li>时间复杂度和空间复杂度依然为O(MN)</li>
</ul>
<h4>Coding<span class="absolute -mt-20" id="coding-5"></span>
    <a href="#coding-5" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-13"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxKilledEnemies</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;&gt;&amp;</span> <span class="n">grid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">grid</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">grid</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">up</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">down</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">left</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">right</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// up
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// count E like prefix_sum
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// encounter W start from 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">up</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;W&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;E&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="o">++</span><span class="n">up</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">up</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">up</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// down 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">down</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;W&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;E&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="o">++</span><span class="n">down</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">down</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">down</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// left
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;W&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;E&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="o">++</span><span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// right
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;W&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;E&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="o">++</span><span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;0&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// empty
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">result</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">up</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">down</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-13"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>坐标型动态规划 总结<span class="absolute -mt-20" id="坐标型动态规划-总结"></span>
    <a href="#%e5%9d%90%e6%a0%87%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92-%e6%80%bb%e7%bb%93" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>给定输入为序列或者网格/矩阵</li>
<li>动态规划状态下标为序列下标<code>i</code>或者网格坐标<code>(i, j)</code>
<ul>
<li><code>f[i]</code>：以第<code>i</code>个元素结尾的某种性质</li>
<li><code>f[i][j]</code>：到格子<code>(i, j)</code>的路径的性质</li>
</ul>
</li>
<li>初始化设置<code>f[0]</code>的值 / <code>f[0][0 ... n - 1]</code>的值</li>
<li>二维空间优化：如果<code>f[i][j]</code>的值只依赖于当前行和前一行，则可以用滚动数组节省空间</li>
</ul>
<h3>位操作型动态规划：Counting Bits<span class="absolute -mt-20" id="位操作型动态规划counting-bits"></span>
    <a href="#%e4%bd%8d%e6%93%8d%e4%bd%9c%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92counting-bits" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>位操作（二进制）</li>
<li>&amp;与，|或，^异或，!非</li>
</ul>
<p>
    <img src="../images_dp/2.10.png" alt="binary operation" loading="lazy" /></p>
<ul>
<li>逐位操作</li>
</ul>
<p>
    <img src="../images_dp/2.11.png" alt="binary operation" loading="lazy" /></p>
<ul>
<li><a href="https://leetcode.com/problems/counting-bits/description/" target="_blank" rel="noopener">Leetcode 338 Counting Bits</a></li>
</ul>
<h4>题目分析<span class="absolute -mt-20" id="题目分析-1"></span>
    <a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>对于每个数<code>0 &lt;= i &lt;= N</code>，直接求<code>i</code>的二进制表示里有多少个<code>1</code></li>
<li>二进制表示算法：（十进制转二进制算法）
<ul>
<li>第一步：<code>i mod 2</code>是最低位的bit</li>
<li>第二步：<code>i &lt;- floor(i / 2)</code>，如果<code>i = 0</code>，结束，否则回到第一步</li>
</ul>
</li>
<li>时间复杂度：O(NlogN)
<ul>
<li>2个数有1位二进制(0 and 1)</li>
<li>2个数有2位二进制(2 and 3)</li>
<li>4个数有3位二进制(3, 4, 5 and 6)</li>
<li>8个数有4位二进制(7, 8, 9, 10, 11, 12, 13 and 14)</li>
<li>&hellip;</li>
<li>大约<code>N / 2</code>个数有<code>log{2}N</code>位二进制</li>
</ul>
</li>
<li>用动态规划的话会比上面快一些</li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-3"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-3" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>观察一个数的二进制位</p>
<ul>
<li>$(170)_{10} = (10101010)_2$</li>
</ul>
</li>
<li>
<p>最后一步：观察这个数最后一个二进制位（最低位），去掉它，看剩下多少个1</p>
<ul>
<li>$(170)_{10} = (10101010)_2$</li>
<li>$(85)_{10} = (1010101)_2$</li>
<li>85 的二进制表示里有4个1</li>
<li>170 的二进制表示里有4个1</li>
</ul>
</li>
</ul>
<h4>子问题<span class="absolute -mt-20" id="子问题-3"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-3" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>要求<code>N</code>的二进制表示中有多少1</li>
<li>在<code>N</code>的二进制去掉最后一位<code>N mod 2</code>（有两种方法：&raquo; and floor(/)），设新的数是<code>Y = (N &gt;&gt; 1)</code>（右移一位）</li>
<li>要知道<code>Y</code>的二进制表示中有多少1</li>
<li>子问题</li>
<li>状态：设<code>f[i]</code>表示<code>i</code>的二进制表示中有多少个1</li>
</ul>
<blockquote>
<p>知识点：和位操作相关的动态规划一般用值作状态</p>
</blockquote>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-3"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-3" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>设<code>f[i]</code>表示<code>i</code>的二进制表示中有多少个1</p>
</li>
<li>
<p><code>f[i] = f[i &gt;&gt; 1] + (i mod 2)</code></p>
</li>
</ul>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-3"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-3" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>设<code>f[i]</code>表示<code>i</code>的二进制表示中有多少个1</p>
</li>
<li>
<p><code>f[i] = f[i &gt;&gt; 1] + (i mod 2)</code></p>
</li>
<li>
<p>初始条件：<code>f[0] = 0</code></p>
</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-3"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-3" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0], f[1], f[2], ..., f[N]</code></li>
<li>时间复杂度O(N)</li>
<li>空间复杂度O(N)</li>
</ul>
<h4>Coding<span class="absolute -mt-20" id="coding-6"></span>
    <a href="#coding-6" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-14"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">countBits</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">num</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-14"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Exercise: 最长上升子序列<span class="absolute -mt-20" id="exercise-最长上升子序列"></span>
    <a href="#exercise-%e6%9c%80%e9%95%bf%e4%b8%8a%e5%8d%87%e5%ad%90%e5%ba%8f%e5%88%97" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://leetcode.com/problems/longest-increasing-subsequence/description/" target="_blank" rel="noopener">LIS: Leetcode 300 Longest Increasing Subsequence</a></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-15"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">lengthOfLIS</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// compare current number with all previous numbers
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// if satisfies the increasing condition then compete
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// [0, i)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="o">*</span><span class="nf">max_element</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">f</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-15"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 3: 打劫房屋: 坐标型，前缀型<span class="absolute -mt-20" id="chapter-3-打劫房屋-坐标型前缀型"></span>
    <a href="#chapter-3-%e6%89%93%e5%8a%ab%e6%88%bf%e5%b1%8b-%e5%9d%90%e6%a0%87%e5%9e%8b%e5%89%8d%e7%bc%80%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li><a href="https://leetcode.com/problems/house-robber/description/" target="_blank" rel="noopener">Leetcode 198 打劫房屋</a></li>
</ul>
<h3>坐标型<span class="absolute -mt-20" id="坐标型"></span>
    <a href="#%e5%9d%90%e6%a0%87%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><p>dp[坐标] = 行走到这个坐标的最优值</p>
<p>转移：上一个坐标从哪里来，比如：上一次打劫了哪个房屋，或上一次行走了那个坐标</p>
<h4>动态规划<span class="absolute -mt-20" id="动态规划"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>由抢房屋的性质可以看出，抢前<code>i</code>个房屋能得到的最大值，与后面如何抢的方案无关，只与前<code>i - 1</code>个房屋的最优方案有关。这满足了动态规划的<em>无后效性</em>和<em>最优子结构</em></li>
<li>同时，由于题目不能抢相邻房屋，那么如果抢了第<code>i</code>个房屋，就不能抢第<code>i - 1</code>个房屋，可以得出前<code>i</code>个的最优方案也与前<code>i - 2</code>个的最优方案有关</li>
</ul>
<h4>代码思路<span class="absolute -mt-20" id="代码思路"></span>
    <a href="#%e4%bb%a3%e7%a0%81%e6%80%9d%e8%b7%af" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>将要不要打劫的这个决策，记录到状态当中去(每走到一个坐标(房子)，都有两种情况:打劫/不打劫):</p>
<ul>
<li>可以设<code>dp[i][0]</code>为如果不抢第<code>i</code>个房屋，前<code>i</code>个房屋的最优方案为多少</li>
<li>设<code>dp[i][1]</code>为如果抢第<code>i</code>个房屋，前<code>i</code>个房屋的最优方案为多少</li>
<li>可以得出一下的状态转移方程式：
<ul>
<li>$dp[i][0] = max(dp[i - 1][0], dp[i - 1][1])$ 因为如果不打劫当前的房子，从前一个位置选择一个最大值</li>
<li>$dp[i][1] = A[i] + dp[i - 1][0]$ 因为如果打劫当前的房子，之前的房子只能选择不打劫</li>
</ul>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-16"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">rob</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// 如果不抢第i个，取前i - 1个位置dp较大值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// 如果抢第i个，前一个不抢，考虑从前i - 2个位置的dp值转移，即i - 1选择不打劫
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-16"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>前缀型<span class="absolute -mt-20" id="前缀型"></span>
    <a href="#%e5%89%8d%e7%bc%80%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><p>坐标型关心走到哪儿，前缀型不关心<br>
前缀型永远是用前缀来表示子状态: 看前<code>i</code>个数怎样怎样，和前<code>j</code>个数或前<code>i - 1</code>个数的怎样怎样，之间的关系</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-17"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-latex" data-lang="latex"><span class="line"><span class="cl"><span class="sb">$$</span><span class="nv">\begin</span><span class="nb">{align}
</span></span></span><span class="line"><span class="cl"><span class="nb">dp</span><span class="o">[</span><span class="nb">i</span><span class="o">]</span><span class="nb"> &amp;</span><span class="o">=</span><span class="nb"> 前`i`个数取出的最大和</span><span class="o">(</span><span class="nb">不关心第`i`个取或者不取</span><span class="o">)</span><span class="nb"> </span><span class="nv">\\</span><span class="nb"> 
</span></span></span><span class="line"><span class="cl"><span class="nb">      &amp;</span><span class="o">=</span><span class="nb"> max</span><span class="o">(</span><span class="nb">dp</span><span class="o">[</span><span class="nb">i </span><span class="o">-</span><span class="nb"> </span><span class="m">2</span><span class="o">]</span><span class="nb"> </span><span class="o">+</span><span class="nb"> a</span><span class="o">[</span><span class="nb">i</span><span class="o">]</span><span class="nb">, dp</span><span class="o">[</span><span class="nb">i </span><span class="o">-</span><span class="nb"> </span><span class="m">1</span><span class="o">])</span><span class="nb"> 以此来避免取相邻的两个房子 </span><span class="nv">\\</span><span class="nb">
</span></span></span><span class="line"><span class="cl"><span class="nb">优化：dp</span><span class="o">[</span><span class="nb">i </span><span class="nv">\%</span><span class="nb"> </span><span class="m">3</span><span class="o">]</span><span class="nb"> &amp;</span><span class="o">=</span><span class="nb"> 前`i`个数取出的最大和</span><span class="o">(</span><span class="nb">不关心第`i`个取或者不取</span><span class="o">)</span><span class="nb"> </span><span class="nv">\\</span><span class="nb"> 
</span></span></span><span class="line"><span class="cl"><span class="nb">      &amp;</span><span class="o">=</span><span class="nb"> max</span><span class="o">(</span><span class="nb">dp</span><span class="o">[(</span><span class="nb">i </span><span class="o">-</span><span class="nb"> </span><span class="m">2</span><span class="o">)</span><span class="nb"> </span><span class="nv">\%</span><span class="nb"> </span><span class="m">3</span><span class="o">]</span><span class="nb"> </span><span class="o">+</span><span class="nb"> a</span><span class="o">[</span><span class="nb">i</span><span class="o">]</span><span class="nb">, dp</span><span class="o">[(</span><span class="nb">i </span><span class="o">-</span><span class="nb"> </span><span class="m">1</span><span class="o">)</span><span class="nb"> </span><span class="nv">\%</span><span class="nb"> </span><span class="m">3</span><span class="o">])</span><span class="nb"> 以此来避免取相邻的两个房子 
</span></span></span><span class="line"><span class="cl"><span class="nb"></span><span class="nv">\end</span><span class="nb">{align}</span><span class="s">$$</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-17"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 4: 最大矩形 &amp;&amp; 最大直方图：坐标型<span class="absolute -mt-20" id="chapter-4-最大矩形--最大直方图坐标型"></span>
    <a href="#chapter-4-%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2--%e6%9c%80%e5%a4%a7%e7%9b%b4%e6%96%b9%e5%9b%be%e5%9d%90%e6%a0%87%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><blockquote>
<p>单调栈：求一个位置往左看或者往右看，第一个小于等于它的数的时候，用单调栈</p>
</blockquote>
<p>
    <img src="../images_dp/4.1.png" alt="4.1.png" loading="lazy" /></p>
<h3>最大矩形<span class="absolute -mt-20" id="最大矩形"></span>
    <a href="#%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p><a href="https://leetcode.com/problems/maximal-rectangle/description/" target="_blank" rel="noopener">Leetcode 85 最大矩形</a></p>
</li>
<li>
<p>这题和<code>Lintcode 122 直方图最大矩形覆盖</code>很相似，只需要求出以每一行作为底最大的矩形是多少，每一行都有一个<code>height</code>数组，利用单调栈，每次更新<code>height</code>数组，<code>height</code>数组代表的是这一列上面有多少个连续的<code>1</code>，即矩形的高度，以每一行作为底（直方图最下面）时最大矩形面积，然后记录最大值即可。</p>
</li>
<li>
<p>初始化<code>dp</code>数组，用<code>dp</code>数组记录当前位置上方有多少个连续<code>1</code>。对于每一行作为底，利用单调栈求高度，寻找最大的底乘高。</p>
</li>
<li>
<p>注意这个栈是 从栈底到栈顶依次是从小到大的。如果栈中的数比当前的数大（或着等于）就要处理栈顶的（记录左右两边的比它小的第一个数）。</p>
</li>
<li>
<p>然后如果遍历完之后，单独处理栈，此时所有元素右边都不存在比它小的<code>height[j]</code>表示目前的底上（第<code>1</code>行），<code>j</code>位置往上（包括<code>j</code>位置）有多少连续的<code>1</code>。</p>
</li>
<li>
<p>不断更新最大面积。</p>
</li>
</ul>
<ul>
<li>时间复杂度O(mn): dp的O(nm)和单调栈的O(n)</li>
<li>空间复杂度O(mn): dp的大小（下面的代码的空间复杂度可以优化成O(n)）</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-18"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maximalRectangle</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;&gt;&amp;</span> <span class="n">matrix</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">matrix</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 每个位置上方有多少连续的1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;1&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;1&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 把每一行作为底找最大矩形
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">ans</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">largestRectangleArea</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">largestRectangleArea</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">heights</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">S</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">heights</span><span class="p">[</span><span class="n">heights</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">heights</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">S</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">||</span> <span class="n">heights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">heights</span><span class="p">[</span><span class="n">S</span><span class="p">.</span><span class="n">back</span><span class="p">()])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">S</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">S</span><span class="p">.</span><span class="n">back</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">S</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">sum</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">sum</span><span class="p">,</span> <span class="n">heights</span><span class="p">[</span><span class="n">temp</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">S</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">?</span> <span class="nl">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">-</span> <span class="n">S</span><span class="p">.</span><span class="n">back</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="o">--</span><span class="n">i</span><span class="p">;</span> <span class="c1">// 拿着右边界，寻找左边界
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-18"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>直方图最大矩形覆盖<span class="absolute -mt-20" id="直方图最大矩形覆盖"></span>
    <a href="#%e7%9b%b4%e6%96%b9%e5%9b%be%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2%e8%a6%86%e7%9b%96" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://leetcode.com/problems/largest-rectangle-in-histogram/description/" target="_blank" rel="noopener">Leetcode 84 直方图最大矩形覆盖</a></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-19"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// LHC version: Monotonic-stack answer
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">largestRectangleArea</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">height</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">S</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">heights</span> <span class="o">=</span> <span class="n">height</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">heights</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">heights</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">S</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">||</span> <span class="n">heights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">heights</span><span class="p">[</span><span class="n">S</span><span class="p">.</span><span class="n">back</span><span class="p">()])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">S</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">S</span><span class="p">.</span><span class="n">back</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">S</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">sum</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">sum</span><span class="p">,</span> <span class="n">heights</span><span class="p">[</span><span class="n">temp</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">S</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">?</span> <span class="nl">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">-</span> <span class="n">S</span><span class="p">.</span><span class="n">back</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="o">--</span><span class="n">i</span><span class="p">;</span> <span class="c1">// 拿着右边界，寻找左边界
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-19"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-20"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// Correct Monotonic-stack answer from other students
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">largestRectangleArea</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">heights</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">heights</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">stack</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">heights</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">curt</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">heights</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">heights</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">stack</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">curt</span> <span class="o">&lt;=</span> <span class="n">heights</span><span class="p">[</span><span class="n">stack</span><span class="p">.</span><span class="n">back</span><span class="p">()])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="n">heights</span><span class="p">[</span><span class="n">stack</span><span class="p">.</span><span class="n">back</span><span class="p">()];</span>
</span></span><span class="line"><span class="cl">        <span class="n">stack</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">w</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">?</span> <span class="nl">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">-</span> <span class="n">stack</span><span class="p">.</span><span class="n">back</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">sum</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">sum</span><span class="p">,</span> <span class="n">h</span> <span class="o">*</span> <span class="n">w</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="n">stack</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-20"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 5: 最短假期：坐标型<span class="absolute -mt-20" id="chapter-5-最短假期坐标型"></span>
    <a href="#chapter-5-%e6%9c%80%e7%9f%ad%e5%81%87%e6%9c%9f%e5%9d%90%e6%a0%87%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>
<p><a href="https://www.lintcode.com/problem/267/" target="_blank" rel="noopener">Lintcode 267 最短假期</a></p>
</li>
<li>
<p>转移方程：</p>
<ul>
<li>如果今天工作（运动），那么只能由昨天运动（工作）或休息转移而来</li>
<li>如果今天休息，那么可以由昨天三种状态（工作，运动，休息）转移</li>
</ul>
</li>
<li>
<p>状态：<code>dp[i][j]</code>第<code>i</code>天干了<code>j</code>这个事情(j: 工作，健身，休息) 的最小休息天数</p>
<ul>
<li><code>dp[i][0], dp[i][1], dp[i][2]</code>分别表示去公司工作、去健身房锻炼、去休息</li>
<li>状态转移方程：
<ul>
<li><code>dp[i][0] = min(dp[i - 1][1], dp[i - 1][2])</code></li>
<li><code>dp[i][1] = min(dp[i - 1][0], dp[i - 1][2])</code></li>
<li><code>dp[i][2] = min(dp[i - 1][0], min(dp[i - 1][1], dp[i - 1][2])) + 1</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>设假期天数为n</li>
<li>时间复杂度：从左至右扫描数组，每次由三个<code>DP</code>方程进行转移。时间复杂度为<code>O(n)</code></li>
<li>空间复杂度：<code>DP</code>数组规模为<code>3*n</code>。空间复杂度<code>O(n)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-21"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minimumRestDays</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">company</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">gym</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">company</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// dp[i][0]表示第i天工作的最小休息天数，dp[i][1]表示锻炼，dp[i][2]表示休息
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 临界值第一天
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">company</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">gym</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">company</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">gym</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]));</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-21"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Exercise: 相关题目<span class="absolute -mt-20" id="exercise-相关题目"></span>
    <a href="#exercise-%e7%9b%b8%e5%85%b3%e9%a2%98%e7%9b%ae" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p><a href="https://www.lintcode.com/problem/151/" target="_blank" rel="noopener">Lintcode 151 买卖股票的最佳时机III</a></p>
</li>
<li>
<p><a href="https://www.lintcode.com/problem/515/" target="_blank" rel="noopener">Lintcode 515 房屋染色</a></p>
</li>
</ul>
<h2>Chapter 6: 最小调整代价：背包型<span class="absolute -mt-20" id="chapter-6-最小调整代价背包型"></span>
    <a href="#chapter-6-%e6%9c%80%e5%b0%8f%e8%b0%83%e6%95%b4%e4%bb%a3%e4%bb%b7%e8%83%8c%e5%8c%85%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li><a href="https://www.lintcode.com/problem/91" target="_blank" rel="noopener">Lintcode 91 最小调整代价</a></li>
<li><a href="https://www.lintcode.com/problem/91/solution/24300" target="_blank" rel="noopener">Solution</a></li>
</ul>
<h3>状态<span class="absolute -mt-20" id="状态"></span>
    <a href="#%e7%8a%b6%e6%80%81" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><p>令<code>dp[i][j]</code>表示从左到右调整到前<code>i</code>个数时，将第<code>i</code>个数的数值调整为<code>j</code>所需要付出的最小代价。
整个调整的过程中要满足相邻两数之差不超过<code>target</code></p>
<h3>转移方程<span class="absolute -mt-20" id="转移方程"></span>
    <a href="#%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><code>dp[i][j] = min(dp[i][j], dp[i - 1][k] + abs(j - A[i]))</code></li>
<li><code>k</code>是把第<code>i - 1</code>个数调整为<code>k</code></li>
<li><code>k</code>和<code>j</code>差值不超过<code>target</code></li>
<li><code>j - target &lt;= k &lt;= j + target</code></li>
</ul>
<h3>思路<span class="absolute -mt-20" id="思路"></span>
    <a href="#%e6%80%9d%e8%b7%af" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p>已知每个整数范围<code>[1,100]</code>，那么对于每个元素，为了调整到该元素和与之相邻的元素的差不大于target，该元素调整的范围就在<code>[1,100]</code>。所以对于数组<code>A[]</code>的每一位元素，我们都需要进行<code>[1,100]</code>范围内的可能状态的转移。</p>
</li>
<li>
<p>令<code>dp[i][j]</code>表示元素<code>A[i]=j</code>时，<code>A[i]</code>与<code>A[i-1]</code>差值不大于target所需要付出的最小代价。</p>
</li>
<li>
<p>当<code>A[i]=j</code>时，可行的<code>A[i-1]</code>的范围为<code>[max(1, j - target)，min(100, j + target)]</code>。而<code>dp[i][j]</code>为所有可行的<code>A[i-1]</code>中，花费代价最小的一种可能，再加上<code>A[i]</code>调整到 <code>j</code> 所需花费<code>abs(j - A[i])</code>。</p>
</li>
<li>
<p>当<code>A[i]=j</code>时，<code>k</code>在<code>[max(1, j - target)，min(100, j + target)]</code>范围内时，我们可以写出以下式子：</p>
</li>
</ul>
<h4>1.临界值：<span class="absolute -mt-20" id="1临界值"></span>
    <a href="#1%e4%b8%b4%e7%95%8c%e5%80%bc" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p><code>dp[0][j] = abs(j - A[0])</code></p>
<h4>2.状态转移方程：<span class="absolute -mt-20" id="2状态转移方程"></span>
    <a href="#2%e7%8a%b6%e6%80%81%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>dp[i][j] = min(dp[i][j], dp[i - 1][k] + abs(j - A[i]))</code>
<ul>
<li>最后在所有最后一位的可能解<code>dp[n-1][i]</code>中的最小值，就是我们所求的最小代价。</li>
</ul>
</li>
</ul>
<ul>
<li>假设数组长度为<code>n</code></li>
<li>空间复杂度<code>O(10000*n)</code></li>
<li>时间复杂度<code>O(n^2)</code></li>
</ul>
<h3>Coding<span class="absolute -mt-20" id="coding-7"></span>
    <a href="#coding-7" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-22"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minAdjustmentCost</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// dp[i][j]表示元素A[i]=j时，A[i]与A[i-1]差值不大于target所需要付出的最小代价
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">101</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 初始化为极大值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// 临界值：第一个元素A[0]调整为j的代价 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">abs</span><span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// left为A[i]=j时，A[i-1]与A[i]差值不大于target的A[i-1]最小值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="c1">// right为A[i]=j时，A[i-1]与A[i]差值不大于target的A[i-1]最大值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="n">target</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">          <span class="kt">int</span> <span class="n">right</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="n">target</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">          <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">left</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// 当A[i-1]=k时，答案为A[i-1]=k的代价dp[i-1][k]，加上A[i]=j的调整代价abs(j-A[i])
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="n">abs</span><span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span> 
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">mincost</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">mincost</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">mincost</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">mincost</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-22"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 7: 香槟塔：坐标型<span class="absolute -mt-20" id="chapter-7-香槟塔坐标型"></span>
    <a href="#chapter-7-%e9%a6%99%e6%a7%9f%e5%a1%94%e5%9d%90%e6%a0%87%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li><a href="https://www.lintcode.com/problem/1018/" target="_blank" rel="noopener">Lintcode 1018 香槟塔</a></li>
</ul>
<p>状态：<code>dp[i][j]</code>流入多少水，至于剩下多少水是根据流入的量算出来的</p>
<h3>Step 1 : 如何定义状态？<span class="absolute -mt-20" id="step-1--如何定义状态"></span>
    <a href="#step-1--%e5%a6%82%e4%bd%95%e5%ae%9a%e4%b9%89%e7%8a%b6%e6%80%81" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><p>令<code>dp[i][j]</code>为<code>(i, j)</code>位置的杯子的<strong>流入</strong>香槟总体积占比</p>
<h3>Step 2 : 临界值是什么？<span class="absolute -mt-20" id="step-2--临界值是什么"></span>
    <a href="#step-2--%e4%b8%b4%e7%95%8c%e5%80%bc%e6%98%af%e4%bb%80%e4%b9%88" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><code>dp[0][0] = poured</code></li>
<li>将所有的香槟都倒在顶端</li>
</ul>
<h3>Step 3 : 状态转移方程怎么写？<span class="absolute -mt-20" id="step-3--状态转移方程怎么写"></span>
    <a href="#step-3--%e7%8a%b6%e6%80%81%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b%e6%80%8e%e4%b9%88%e5%86%99" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><code>(i, j)</code>的杯子流入的香槟总体积 = (<code>(i - 1, j - 1)香槟体积 - 1</code> + <code>(i - 1, j)香槟体积 - 1</code>) / 2.0</li>
<li>状态转移方程为：<code>dp[i][j] = (dp[i - 1][j - 1] + dp[i - 1][j] - 2) / 2.0</code></li>
</ul>
<h3>Step 4 : DP结果是什么？<span class="absolute -mt-20" id="step-4--dp结果是什么"></span>
    <a href="#step-4--dp%e7%bb%93%e6%9e%9c%e6%98%af%e4%bb%80%e4%b9%88" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><code>min(dp[query_row][query_glass], 1)</code></li>
<li>这个杯子能装的香槟永远不会超过一杯</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-23"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">double</span> <span class="n">champagneTower</span><span class="p">(</span><span class="kt">int</span> <span class="n">poured</span><span class="p">,</span> <span class="kt">int</span> <span class="n">query_row</span><span class="p">,</span> <span class="kt">int</span> <span class="n">query_glass</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">double</span> <span class="n">dp</span><span class="p">[</span><span class="mi">101</span><span class="p">][</span><span class="mi">101</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">poured</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">row</span> <span class="o">&lt;=</span> <span class="n">query_row</span><span class="p">;</span> <span class="o">++</span><span class="n">row</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">row</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">row</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">);</span> <span class="c1">// here is wrong, we should compare both left and right with the 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">query_row</span><span class="p">][</span><span class="n">query_glass</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-23"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<blockquote>
<p>don&rsquo;t forget to minus one<br>
the reason we use <code>std::max</code> there is that to keep volume of each cup to be positive</p>
</blockquote>
<h3>空间优化：<span class="absolute -mt-20" id="空间优化"></span>
    <a href="#%e7%a9%ba%e9%97%b4%e4%bc%98%e5%8c%96" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><h4>Soluton 1: row % 2<span class="absolute -mt-20" id="soluton-1-row--2"></span>
    <a href="#soluton-1-row--2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-24"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">double</span> <span class="n">champagneTower</span><span class="p">(</span><span class="kt">int</span> <span class="n">poured</span><span class="p">,</span> <span class="kt">int</span> <span class="n">query_row</span><span class="p">,</span> <span class="kt">int</span> <span class="n">query_glass</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">double</span> <span class="n">dp</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">101</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">poured</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">row</span> <span class="o">&lt;=</span> <span class="n">query_row</span><span class="p">;</span> <span class="o">++</span><span class="n">row</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">row</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">row</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="n">dp</span><span class="p">[(</span><span class="n">row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">row</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">row</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="n">dp</span><span class="p">[(</span><span class="n">row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">row</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="n">dp</span><span class="p">[(</span><span class="n">row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[(</span><span class="n">row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">);</span> <span class="c1">// here is wrong, we should compare both left and right with the 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">query_row</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">query_glass</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-24"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Soluton 2: 一维数组<span class="absolute -mt-20" id="soluton-2-一维数组"></span>
    <a href="#soluton-2-%e4%b8%80%e7%bb%b4%e6%95%b0%e7%bb%84" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-25"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// Solution 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">double</span> <span class="n">champagneTower</span><span class="p">(</span><span class="kt">int</span> <span class="n">poured</span><span class="p">,</span> <span class="kt">int</span> <span class="n">query_row</span><span class="p">,</span> <span class="kt">int</span> <span class="n">query_glass</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">double</span> <span class="n">dp</span><span class="p">[</span><span class="mi">101</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">poured</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">row</span> <span class="o">&lt;=</span> <span class="n">query_row</span><span class="p">;</span> <span class="o">++</span><span class="n">row</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">row</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">row</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">);</span> <span class="c1">// here is wrong, we should compare both left and right with the 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">query_glass</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-25"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 8: 飞行棋I<span class="absolute -mt-20" id="chapter-8-飞行棋i"></span>
    <a href="#chapter-8-%e9%a3%9e%e8%a1%8c%e6%a3%8bi" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>
<p><a href="https://www.lintcode.com/problem/1565/" target="_blank" rel="noopener">Lintcode 1565 飞行棋I</a></p>
</li>
<li>
<p>只能向右走，有方向性所以可以用动态规划</p>
</li>
</ul>
<ul>
<li>Other notes:
<ul>
<li>拓扑排序的一个功能就是检测图里是否有<code>循环依赖</code></li>
</ul>
</li>
</ul>
<ul>
<li>拓扑排序与动态规划的关系：
<ul>
<li>一个题目能够被动态规划，那么把状态看作点，把状态的依赖关系看作边的话，那所构成的图当中一定可以被拓扑排序</li>
<li>有循环依赖就不能产生拓扑排序，有循环依赖就不能使用动态规划</li>
</ul>
</li>
</ul>
<h3>Step 1 : 如何定义状态？<span class="absolute -mt-20" id="step-1--如何定义状态-1"></span>
    <a href="#step-1--%e5%a6%82%e4%bd%95%e5%ae%9a%e4%b9%89%e7%8a%b6%e6%80%81-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>令<code>dp[i]</code>表示从位置<code>1</code>到位置<code>i</code>的最小投掷骰子次数</li>
</ul>
<h3>Step 2 : 临界值是什么？<span class="absolute -mt-20" id="step-2--临界值是什么-1"></span>
    <a href="#step-2--%e4%b8%b4%e7%95%8c%e5%80%bc%e6%98%af%e4%bb%80%e4%b9%88-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>当位置<code>i 属于 [2, 7]</code>的时候，可以通过投掷一次骰子抵达，即<code>dp[i] = 1</code>。</li>
<li>并且<code>dp[1] = 0</code></li>
</ul>
<h3>Step 3 : 状态转移方程怎么写？<span class="absolute -mt-20" id="step-3--状态转移方程怎么写-1"></span>
    <a href="#step-3--%e7%8a%b6%e6%80%81%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b%e6%80%8e%e4%b9%88%e5%86%99-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>如果投掷骰子：<code>dp[i] = min(dp[i], dp[i - j] + 1), j 属于 [1, 6]</code></li>
<li>当前位置投掷一次骰子所能走到的位置的<code>dp</code>值是当前<code>dp</code>值加一。</li>
<li>如果有另外相连的位置：<code>dp[相连的位置] = min(dp[相连的位置], dp[i])</code>，这里实际上是更新后面的结果</li>
<li>可以不需要投掷骰子直接向前走</li>
</ul>
<h3>Step 4 : DP结果是什么？<span class="absolute -mt-20" id="step-4--dp结果是什么-1"></span>
    <a href="#step-4--dp%e7%bb%93%e6%9e%9c%e6%98%af%e4%bb%80%e4%b9%88-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>棋盘的长度 length 的 dp 值即为答案: <code>dp[length]</code></li>
</ul>
<h3>DP Solution<span class="absolute -mt-20" id="dp-solution"></span>
    <a href="#dp-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><p>Time Complexity O(n)<br>
Space Complexity O(n)</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-26"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">modernLudo</span><span class="p">(</span><span class="kt">int</span> <span class="n">length</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">connections</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">length</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">length</span> <span class="o">&lt;=</span> <span class="mi">7</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// connected[i] = j 表示i与j相连
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">connected</span><span class="p">(</span><span class="n">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// initialization
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">length</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">connected</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">connections</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">connected</span><span class="p">[</span><span class="n">connections</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">length</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">6</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">6</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="n">connected</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">connected</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">length</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-26"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<hr>
<h2>Chapter 9: 序列型动态规划<span class="absolute -mt-20" id="chapter-9-序列型动态规划"></span>
    <a href="#chapter-9-%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><hr>
<h3>序列型动态规划&ndash;简介<span class="absolute -mt-20" id="序列型动态规划--简介"></span>
    <a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e7%ae%80%e4%bb%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>给定一个序列</li>
<li>动态规划方程<code>f[i]</code>中的下标<code>i</code>表示前<code>i</code>个元素<code>a[0], a[1], ..., a[i - 1]</code>的某种性质
<ul>
<li>坐标型的<code>f[i]</code>表示以<code>a[i]</code>为结尾的某种性质</li>
</ul>
</li>
<li>初始化中，<code>f[0]</code>表示空序列的性质
<ul>
<li>坐标型动态规划的初始条件<code>f[0]</code>就是指以<code>a_0</code>为结尾的子序列的性质</li>
</ul>
</li>
</ul>
<hr>
<h3>序列型动态规划&ndash;数字翻转<span class="absolute -mt-20" id="序列型动态规划--数字翻转"></span>
    <a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e6%95%b0%e5%ad%97%e7%bf%bb%e8%bd%ac" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/843/" target="_blank" rel="noopener">Lintcode 843 数字翻转</a></li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-4"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-4" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>最后一步：最优策略中，最后一位数是否翻转</li>
<li>但需要知道前一位数已经变成0还是1</li>
<li>并且前<code>N - 1</code>位数最少翻转多少次，满足要求（无01子串）</li>
<li><strong>不知道的信息加入状态里</strong></li>
<li>状态</li>
<li>用<code>f[i][0]</code>表示<code>A[i - 1]</code>变成0的情况下，前<code>i</code>位最少翻转多少个能满足要求</li>
<li>用<code>f[i][1]</code>表示<code>A[i - 1]</code>变成1的情况下，前<code>i</code>位最少翻转多少个能满足要求</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-4"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-4" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>用<code>f[i][0]</code>表示<code>A[i - 1]</code>变成0的情况下，前<code>i</code>位最少翻转多少个能满足要求</li>
<li>用<code>f[i][1]</code>表示<code>A[i - 1]</code>变成1的情况下，前<code>i</code>位最少翻转多少个能满足要求</li>
<li>$f[i][j] = min_{(k, j) ≠ (0, 1)}(f[i - 1][k] + 1_{A[i - 1] ≠ j})$</li>
</ul>
<p>
    <img src="../images_dp/9.1.png" alt="9.1.img" loading="lazy" /></p>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-4"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-4" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>用<code>f[i][0]</code>表示<code>A[i - 1]</code>变成0的情况下，前<code>i</code>位最少翻转多少个能满足要求</li>
<li>用<code>f[i][1]</code>表示<code>A[i - 1]</code>变成1的情况下，前<code>i</code>位最少翻转多少个能满足要求</li>
<li>$f[i][j] = min_{(k, j) ≠ (0, 1)}(f[i - 1][k] + 1_{A[i - 1] ≠ j})$</li>
<li>初始条件：
<ul>
<li><code>f[0][0] = f[0][1] = 0</code></li>
</ul>
</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-4"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-4" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>用<code>f[i][0]</code>表示<code>A[i - 1]</code>变成0的情况下，前<code>i</code>位最少翻转多少个能满足要求</li>
<li>用<code>f[i][1]</code>表示<code>A[i - 1]</code>变成1的情况下，前<code>i</code>位最少翻转多少个能满足要求</li>
<li>$f[i][j] = min_{(k, j) ≠ (0, 1)}(f[i - 1][k] + 1_{A[i - 1] ≠ j})$</li>
<li>答案是<code>min(f[N][0], f[N][1])</code></li>
<li>算法时间复杂度O(N)，空间复杂度O(N)，可以用滚动数组优化至O(1)</li>
</ul>
<h4>Coding<span class="absolute -mt-20" id="coding-8"></span>
    <a href="#coding-8" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><h5>Mine Correct Solution<span class="absolute -mt-20" id="mine-correct-solution"></span>
    <a href="#mine-correct-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-27"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">flipDigit</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-27"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<blockquote>
<p>index in nums should minus 1<br>
I think my solution is better than offical</p>
</blockquote>
<h5>Official Solution<span class="absolute -mt-20" id="official-solution"></span>
    <a href="#official-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-28"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">flipDigit</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// first i digits: nums[0, ..., i - 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// nums[i - 1]--&gt;j, should I flip?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">t</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// nums[i - 2]--&gt;k
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="n">t</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-28"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<hr>
<h3>序列型动态规划的时间优化&ndash;房屋染色II<span class="absolute -mt-20" id="序列型动态规划的时间优化--房屋染色ii"></span>
    <a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%9a%84%e6%97%b6%e9%97%b4%e4%bc%98%e5%8c%96--%e6%88%bf%e5%b1%8b%e6%9f%93%e8%89%b2ii" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p><a href="https://www.lintcode.com/problem/516" target="_blank" rel="noopener">Lintcode 516 房屋染色II</a></p>
</li>
<li>
<p>时间优化有三个可以做的事情：</p>
<ol>
<li>看式子，并展开(也许会发现里面有重复)</li>
<li>画图</li>
<li>小例子</li>
</ol>
</li>
</ul>
<h4>Mine Correct Answer O(nk^2)<span class="absolute -mt-20" id="mine-correct-answer-onk2"></span>
    <a href="#mine-correct-answer-onk2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-29"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCostII</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">costs</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">costs</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">costs</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">m</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">costs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">min_cost</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">==</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_cost</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">min_cost</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">k</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">min_cost</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">ans</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-29"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<blockquote>
<p>follow up: can you make it faster?<br>
Mine solution is O(nk^2), how to make it faster</p>
</blockquote>
<h4>时间优化<span class="absolute -mt-20" id="时间优化"></span>
    <a href="#%e6%97%b6%e9%97%b4%e4%bc%98%e5%8c%96" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>优化方法
<ul>
<li>记录下最小值<code>f[i - 1][a]</code>和次小值<code>f[i - 1][b]</code></li>
<li>如果去掉的是最小值，则<code>f[i][a] = f[i - 1][b] + cost[i - 1][a]</code></li>
<li>如果去掉的不是最小值，则<code>f[i][j] = f[i - 1][a] + cost[i - 1][j]</code></li>
<li>时间复杂度降为O(nk)</li>
</ul>
</li>
</ul>
<h5>Mine correct time optimized solution<span class="absolute -mt-20" id="mine-correct-time-optimized-solution"></span>
    <a href="#mine-correct-time-optimized-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-30"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCostII</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">costs</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">costs</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">costs</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">m</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">costs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// record min and second_minimum number
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">min_secondmin</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mh">0x3f3f3f3f</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">index_min</span> <span class="o">=</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">first_min</span> <span class="o">=</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">second_min</span> <span class="o">=</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="n">index_min</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// j is the smallest and choose the second smallest
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">second_min</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// j is not the smallest one and choose the smallest
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">first_min</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="n">min_secondmin</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">ans</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-30"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h5>Official time optimized solution<span class="absolute -mt-20" id="official-time-optimized-solution"></span>
    <a href="#official-time-optimized-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-31"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCostII</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">costs</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">costs</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">m</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">costs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// first i houses: 0 ... i - 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// find minimum and 2nd minimum among
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// f[i - 1][0], ..., f[i - 1][m - 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// this is index
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">a</span><span class="p">])</span> <span class="p">{</span> <span class="c1">// new minimum is f[i - 1][k]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span> <span class="c1">// old minimum becomes now the 2nd minimum
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">a</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span> <span class="c1">// new minimum is f[i - 1][k]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">b</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">b</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">b</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">!=</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// remove an element which is NOT the minimum
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">+</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// remove an element which IS the minimum
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">b</span><span class="p">]</span> <span class="o">+</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">ans</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-31"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<blockquote>
<p>remember the strategy to calculate minimum and the 2nd minimum with one time iteration<br>
<code>a == -1 || f[a] ....</code></p>
</blockquote>
<hr>
<h3>序列型动态规划&ndash;买卖股票1<span class="absolute -mt-20" id="序列型动态规划--买卖股票1"></span>
    <a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a81" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/149/" target="_blank" rel="noopener">Lintcode 149 买卖股票1</a></li>
</ul>
<h4>动态规划解法<span class="absolute -mt-20" id="动态规划解法"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e8%a7%a3%e6%b3%95" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>从 0 到 N - 1 枚举 <code>j</code>, 即第几天卖</li>
<li>时刻保存当前为止（即 0 ~ j - 1 天）的最低加个<code>P_i</code></li>
<li>最大的<code>P_j - P_i</code> 即为答案</li>
</ul>
<h5>Mine correct solution<span class="absolute -mt-20" id="mine-correct-solution-1"></span>
    <a href="#mine-correct-solution-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-32"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxProfit</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">prices</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">prices</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">min_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">max_profit</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">prices</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">prices</span><span class="p">[</span><span class="n">min_index</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">min_index</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">max_profit</span> <span class="o">&lt;</span> <span class="n">prices</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">min_index</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">max_profit</span> <span class="o">=</span> <span class="n">prices</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">min_index</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">max_profit</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-32"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h5>Official solution: Better<span class="absolute -mt-20" id="official-solution-better"></span>
    <a href="#official-solution-better" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-33"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxProfit</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">prices</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">prices</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">min</span> <span class="o">=</span> <span class="n">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// The minimum among prices[0] ... prices[j - 1] is stored in min
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">res</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">prices</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">min</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">min</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">min</span><span class="p">,</span> <span class="n">prices</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-33"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<hr>
<h3>序列型动态规划&ndash;买卖股票2<span class="absolute -mt-20" id="序列型动态规划--买卖股票2"></span>
    <a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a82" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/150/" target="_blank" rel="noopener">Lintcode 150 买卖股票2</a></li>
</ul>
<h4>题目分析<span class="absolute -mt-20" id="题目分析-2"></span>
    <a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>买卖任意多次</li>
<li>最优策略是如果今天的价格比明天的价格低，就今天买，明天卖（<strong>贪心</strong>）</li>
</ul>
<ul>
<li>凡事我们自己想出来的贪心算法都需要证明一下：
<ul>
<li>所有的贪心的证明都是：假设最优策略不是这样，可以改成这样，且不会更差</li>
</ul>
</li>
</ul>
<ul>
<li>正确性证明可以从这里下手：
<ul>
<li>如果最优策略第10天买，第15天卖，我们可以把它分解成5天(即改成这样)，结果不会变差</li>
</ul>
</li>
</ul>
<h4>Official solution<span class="absolute -mt-20" id="official-solution-1"></span>
    <a href="#official-solution-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-34"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="c1">// 贪心
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxProfit</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">prices</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">prices</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">prices</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">res</span> <span class="o">+=</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// res += std::max(prices[i + 1] - prices[i], 0)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-34"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>序列型动态规划&ndash;买卖股票3: 序列型<span class="absolute -mt-20" id="序列型动态规划--买卖股票3-序列型"></span>
    <a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a83-%e5%ba%8f%e5%88%97%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/151/" target="_blank" rel="noopener">Lintcode 151 买卖股票3</a></li>
</ul>
<p>e.g. 输入：[4,4,6,1,1,4,2,5]
输出：6（4买入，6卖出，1买入，5卖出，收益为(6 - 4) + (5 - 1) = 6)</p>
<h4>题目分析<span class="absolute -mt-20" id="题目分析-3"></span>
    <a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-3" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>题目大意和 I, II 基本相似</li>
<li>只能最多两次买卖</li>
<li>所以需要记录已经买卖了多少次</li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-5"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-5" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>最后一步：最优策略中，最后一次卖发生在第 j 天</li>
<li>枚举最后一次买发生在第几天</li>
<li>但是不知道之前有没有买卖过</li>
</ul>
<h5>记录阶段<span class="absolute -mt-20" id="记录阶段"></span>
    <a href="#%e8%ae%b0%e5%bd%95%e9%98%b6%e6%ae%b5" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li><strong>不知道有没有买过，就记录下来</strong></li>
<li>阶段可以保持：即不进行买卖操作
<ul>
<li>在阶段2，继续持有，获利为当天价格减昨天价格（当天获利，当天结算）</li>
</ul>
</li>
<li>阶段可以变化：买或卖
<ul>
<li>在阶段2，卖了一股后，进入阶段3

    <img src="../images_dp/9.2.png" alt="9.2" loading="lazy" /></li>
</ul>
</li>
</ul>
<h4>动态规划组成部分一：确定状态 continued<span class="absolute -mt-20" id="动态规划组成部分一确定状态-continued"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-continued" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>最优策略一定是前 N 天（第 N - 1 天）结束后，处于</p>
<ul>
<li>阶段1: 没买卖过；阶段3: 买卖过一次；阶段5: 买卖过两次</li>
</ul>
</li>
<li>
<p>状态：<code>f[i][j]</code>表示前<code>i</code>天（第 <code>i - 1</code>天）结束后，在阶段<code>j</code>的最大获利</p>
</li>
<li>
<p>例如，如果要求前 N 天（第 N - 1 天）结束后，在阶段5的最大获利，设为<code>f[N][5]</code></p>
<ul>
<li>情况1: 第 N - 2 天就在阶段5 &mdash; <code>f[N - 1][5]</code></li>
<li>情况2: 第 N - 2 天还在阶段4（第二次持有股票），第 N - 1 天卖掉
<ul>
<li><code>f[N - 1][4] + (P_{N - 1} - P_{N - 2})</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>例如，如果要求前 N 天（第 N - 1 天）结束后，在阶段4的最大获利，设为<code>f[N][4]</code></p>
<ul>
<li>情况1: 第 N - 2 天就在阶段4 &mdash; <code>f[N - 1][4] + (P_{N - 1} - P_{N - 2})</code></li>
<li>情况2: 第 N - 2 天还在阶段3 &mdash; <code>f[N - 1][3]</code></li>
</ul>
</li>
</ul>
<h4>子问题<span class="absolute -mt-20" id="子问题-4"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-4" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>要求<code>f[N][1], ..., f[N][5]</code></li>
<li>需要知道<code>f[N - 1][1], ..., f[N - 1][5]</code></li>
<li>子问题</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-5"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-5" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[i][j]</code>: 前<code>i</code>天（第 <code>i - 1</code>天）结束后，处在阶段<code>j</code>，最大获利</li>
</ul>
<p>
    <img src="../images_dp/9.3.png" alt="9.3" loading="lazy" /></p>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-5"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-5" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>刚开始（前 0 天）处于阶段1
<ul>
<li><code>f[0][1] = 0</code></li>
<li><code>f[0][2] = f[0][3] = f[0][4] = f[0][5] = -inf</code></li>
</ul>
</li>
<li>阶段 1, 3, 5: <code>f[i][j] = max(f[i - 1][j], f[i - 1][j - 1] + P_{i - 1} - P_{i - 2})</code></li>
<li>阶段 2, 4: <code>f[i][j] = max(f[i - 1][j] + P_{i - 1} - P_{i - 2}, f[i - 1][j - 1])</code></li>
<li>如果 <code>j - 1 &lt; 1</code> 或 <code>i - 2 &lt; 0</code>，对应项不计入 max</li>
<li>因为<strong>最多</strong>买卖两次，所以答案是<code>max(f[N][1], f[N][3], f[N][5])</code>，即清仓状态下最后一天最大获利</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-5"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-5" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>初始化<code>f[0][1], ..., f[0][5]</code></li>
<li><code>f[1][1], ..., f[1][5]</code></li>
<li>&hellip;</li>
<li><code>f[N][1], ..., f[N][5]</code></li>
<li>时间复杂度：O(N), 空间复杂度：O(N), 优化后可以O(1), 因为<code>f[i][1..5]</code>只依赖于<code>f[i - 1][1..5]</code></li>
</ul>
<h4>Official Solution<span class="absolute -mt-20" id="official-solution-2"></span>
    <a href="#official-solution-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-35"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxProfit</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">prices</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">prices</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xcfcfcfcf</span><span class="p">;</span> <span class="c1">// impossible
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// 阶段 1, 3, 5：f[i][j] = max(f[i - 1][j], f[i - 1][j - 1] + prices[i - 1] - prices[i - 2])
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// keep state
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// sell today
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mh">0xcfcfcfcf</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// 阶段 2, 4：f[i][j] = max(f[i - 1][j] + prices[i - 1] - prices[i - 2], f[i - 1][j - 1])
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// buy today
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// keep state, calculate profit today
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mh">0xcfcfcfcf</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">res</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-35"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<hr>
<h3>序列型动态规划&ndash;买卖股票4<span class="absolute -mt-20" id="序列型动态规划--买卖股票4"></span>
    <a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e4%b9%b0%e5%8d%96%e8%82%a1%e7%a5%a84" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/393/" target="_blank" rel="noopener">Lintcode 393 买卖股票4</a></li>
</ul>
<h4>题目分析<span class="absolute -mt-20" id="题目分析-4"></span>
    <a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-4" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>首先，如果 K 很大，<code>K &gt; N / 2</code>，则题目可以化简成为Best Time to Buy and Sell Stock II, 每天买入当且仅当价格比下一天低</li>
<li>Best Time to Buy and Sell Stock III 相当于这题中<code>K = 2</code></li>
<li>所以我们可以借鉴之前的解法</li>
</ul>
<h4>记录阶段<span class="absolute -mt-20" id="记录阶段-1"></span>
    <a href="#%e8%ae%b0%e5%bd%95%e9%98%b6%e6%ae%b5-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>
    <img src="../images_dp/9.4.png" alt="9.4" loading="lazy" /></p>
<ul>
<li>阶段1: 没买卖过</li>
<li>阶段3: 买卖过一次，现在空仓</li>
<li>阶段5: 买卖过两次，现在空仓</li>
<li>&hellip;</li>
<li>阶段2K + 1: 买卖过K次，现在空仓</li>
</ul>
<ul>
<li>阶段2: 第一次持有，还没有卖</li>
<li>阶段4: 第二次持有，还没有卖</li>
<li>阶段6: 第三次持有，还没有卖</li>
<li>&hellip;</li>
<li>阶段2K: 第K次持有，还没有卖</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-6"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-6" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[i][j]</code>: 前<code>i</code>天（第<code>i - 1</code>天）结束后，处在阶段<code>j</code>，最大获利</li>
</ul>
<p>
    <img src="../images_dp/9.5.png" alt="9.5" loading="lazy" /></p>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-6"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-6" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>刚开始（前 0 天）处于阶段1
<ul>
<li><code>f[0][1] = 0</code></li>
<li><code>f[0][2] = f[0][3] = f[0][4] = f[0][**2K + 1**] = -inf</code></li>
</ul>
</li>
<li>阶段 1, 3, 5, &hellip;, <strong>2K + 1</strong>: <code>f[i][j] = max(f[i - 1][j], f[i - 1][j - 1] + P_{i - 1} - P_{i - 2})</code></li>
<li>阶段 2, 4, &hellip;, <strong>2K</strong>: <code>f[i][j] = max(f[i - 1][j] + P_{i - 1} - P_{i - 2}, f[i - 1][j - 1])</code></li>
<li>如果 <code>j - 1 &lt; 1</code> 或 <code>i - 2 &lt; 0</code>，对应项不计入 max</li>
<li>因为<strong>最多</strong>买卖<strong>K</strong>次，所以答案是<code>max(f[N][1], f[N][3], ..., f[N][**2K + 1**])</code>，即清仓状态下最后一天最大获利</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-6"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-6" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>初始化<code>f[0][1], ..., f[0][**2K + 1**]</code></li>
<li><code>f[1][1], ..., f[1][**2K + 1**]</code></li>
<li>&hellip;</li>
<li><code>f[N][1], ..., f[N][**2K + 1**]</code></li>
<li>时间复杂度：O(NK), 空间复杂度：O(NK), 优化后可以O(1), 因为<code>f[i][1..**2K + 1**]</code>只依赖于<code>f[i - 1][1..**2K + 1**]</code></li>
</ul>
<h4>Official Solution<span class="absolute -mt-20" id="official-solution-3"></span>
    <a href="#official-solution-3" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-36"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxProfit</span><span class="p">(</span><span class="kt">int</span> <span class="n">K</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">prices</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">prices</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">K</span> <span class="o">&gt;</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">ans</span> <span class="o">+=</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span> <span class="o">*</span> <span class="n">K</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">K</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xcfcfcfcf</span><span class="p">;</span> <span class="c1">// impossible
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// 阶段 1, 3, 2 * K + 1：f[i][j] = max(f[i - 1][j], f[i - 1][j - 1] + prices[i - 1] - prices[i - 2])
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">K</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// keep state
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// sell today
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mh">0xcfcfcfcf</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// 阶段 2, 2 * K：f[i][j] = max(f[i - 1][j] + prices[i - 1] - prices[i - 2], f[i - 1][j - 1])
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">K</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// buy today
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// keep state, calculate profit today
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mh">0xcfcfcfcf</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">K</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">res</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-36"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Official Solution : rolling array optimization<span class="absolute -mt-20" id="official-solution--rolling-array-optimization"></span>
    <a href="#official-solution--rolling-array-optimization" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-37"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxProfit</span><span class="p">(</span><span class="kt">int</span> <span class="n">K</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">prices</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">prices</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">K</span> <span class="o">&gt;</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">ans</span> <span class="o">+=</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// rolling array optimization
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span> <span class="o">*</span> <span class="n">K</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">old</span><span class="p">,</span> <span class="n">now</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">K</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xcfcfcfcf</span><span class="p">;</span> <span class="c1">// impossible
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// 先交换old, now
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">old</span> <span class="o">=</span> <span class="n">now</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">now</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">now</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// 阶段 1, 3, 2 * K + 1：f[i][j] = max(f[i - 1][j], f[i - 1][j - 1] + prices[i - 1] - prices[i - 2])
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">K</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// keep state
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// sell today
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mh">0xcfcfcfcf</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// 阶段 2, 2 * K：f[i][j] = max(f[i - 1][j] + prices[i - 1] - prices[i - 2], f[i - 1][j - 1])
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">K</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// buy today
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// keep state, calculate profit today
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mh">0xcfcfcfcf</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">K</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">res</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-37"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<hr>
<h3>序列型动态规划&ndash;小结<span class="absolute -mt-20" id="序列型动态规划--小结"></span>
    <a href="#%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92--%e5%b0%8f%e7%bb%93" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>当思考<strong>序列型</strong>动态规划最后一步时，这一步的选择依赖于前一步的某种状态</li>
</ul>
<table>
<thead>
<tr>
<th>题目</th>
<th>最后一步需要知道的信息</th>
<th>序列 + 状态</th>
</tr>
</thead>
<tbody>
<tr>
<td>Paint House</td>
<td>房子N - 1 油漆成红色，则房子N - 2不能油漆成红色</td>
<td>记录油漆前N - 1栋房子<strong>并且</strong>房子N - 2是红、蓝、绿色的最小花费</td>
</tr>
<tr>
<td>Digital Flip</td>
<td>翻转A[i]时，A[i - 1]A[i]不能是01</td>
<td>记录翻转前N - 1位<strong>并且</strong>第N - 2位是0/1的最小翻转次数</td>
</tr>
<tr>
<td>Best Time to Buy and Sell Stock III</td>
<td>第j天卖股票，第i天买股票(i &lt; j)时，需要知道第i天之前是不是已经买了股票</td>
<td>记录前N天买卖股票最大获利，<strong>并且</strong>第N - 1天：1.未买卖股票；2.买了第一次股票还没卖；&hellip;；5.已经第二次卖了股票</td>
</tr>
</tbody>
</table>
<ul>
<li>初始化时，<code>f[0]</code>代表前0个元素/前0天当情况
<ul>
<li>与坐标型动态规划区别</li>
</ul>
</li>
<li>计算时，<code>f[i]</code>代表前<code>i</code>个元素（即元素<code>0~i-1</code>）的某种性质</li>
</ul>
<hr>
<h3>初探 最长上升子序列(LIS)<span class="absolute -mt-20" id="初探-最长上升子序列lis"></span>
    <a href="#%e5%88%9d%e6%8e%a2-%e6%9c%80%e9%95%bf%e4%b8%8a%e5%8d%87%e5%ad%90%e5%ba%8f%e5%88%97lis" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><h4>最长序列型动态规划<span class="absolute -mt-20" id="最长序列型动态规划"></span>
    <a href="#%e6%9c%80%e9%95%bf%e5%ba%8f%e5%88%97%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>题目给定一个序列</p>
</li>
<li>
<p>要求找出符合条件的最长子序列</p>
</li>
<li>
<p>方法</p>
<ul>
<li>记录以每个元素<code>i</code>结尾的最长子序列的长度</li>
<li>计算时，在<code>i</code>之前枚举子序列上一个元素是哪个</li>
</ul>
</li>
<li>
<p>为<strong>坐标型</strong>动态规划</p>
</li>
<li>
<p><a href="https://www.lintcode.com/problem/76/" target="_blank" rel="noopener">Lintcode 76 Longest Increasing Subsequence</a></p>
</li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-6"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-6" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>最后一步：对于最优的策略，一定有最后一个元素<code>a[j]</code></li>
<li>第一种情况：最优策略种最长上升子序列就是{a[j]}，答案是1</li>
<li>第二种情况：子序列长度大于1，那么最优策略中<code>a[j]</code>前一个元素是<code>a[i]</code>，并且<code>a[i] &lt; a[j]</code>（不一定是连续的）</li>
<li>因为是最优策略，那么它选中的以<code>a[i]</code>结尾的上升子序列一定是最长的</li>
</ul>
<h4>子问题<span class="absolute -mt-20" id="子问题-5"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-5" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>因为不确定最优策略中<code>a[j]</code>前一个元素<code>a[i]</code>是哪个，需要枚举每个<code>i</code></li>
<li>求以<code>a[i]</code>结尾的最长上升子序列</li>
<li>本来是求以<code>a[j]</code>结尾的最长上升子序列</li>
<li><strong>化为子问题：i&lt;j</strong></li>
<li>状态：设<code>f[j] = </code><strong>以<code>a[j]</code>结尾</strong>的最长上升子序列的长度</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-7"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-7" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[j] = </code>以<code>a[j]</code>结尾的最长上升子序列的长度</li>
<li><code>f[j] = max(1, f[i] + 1 | i &lt; j and a[i] &lt; a[j])</code></li>
</ul>
<p>
    <img src="../images_dp/9.6.png" alt="9.6" loading="lazy" /></p>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-7"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-7" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>情况2必须满足：
<ul>
<li><code>i &gt;= 0</code></li>
<li><code>a[j] &gt; a[i]</code>，满足单调性</li>
</ul>
</li>
<li>初始条件：空</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-7"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-7" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[j] = 以a[j]结尾的最长上升子序列的长度</code></li>
<li>计算<code>f[0], f[1], f[2], ..., f[n - 1]</code></li>
<li>答案是max(f[0], f[1], f[2], &hellip;, f[n - 1])</li>
<li>算法时间复杂度O(n^2), 空间复杂度O(n)</li>
</ul>
<h4>思考：如何做到时间复杂度O(nlogn)<span class="absolute -mt-20" id="思考如何做到时间复杂度onlogn"></span>
    <a href="#%e6%80%9d%e8%80%83%e5%a6%82%e4%bd%95%e5%81%9a%e5%88%b0%e6%97%b6%e9%97%b4%e5%a4%8d%e6%9d%82%e5%ba%a6onlogn" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><h4>Official Solution: O(n^2)<span class="absolute -mt-20" id="official-solution-on2"></span>
    <a href="#official-solution-on2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-38"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">longestIncreasingSubsequence</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// previous element `nums[i]`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="n">max</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">max</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">max</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-38"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<hr>
<h3>phone interview<span class="absolute -mt-20" id="phone-interview"></span>
    <a href="#phone-interview" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>组里做什么</li>
<li>下一步什么时候</li>
</ul>
<hr>
<h3>Exercise 602 俄罗斯套娃信封<span class="absolute -mt-20" id="exercise-602-俄罗斯套娃信封"></span>
    <a href="#exercise-602-%e4%bf%84%e7%bd%97%e6%96%af%e5%a5%97%e5%a8%83%e4%bf%a1%e5%b0%81" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p><a href="https://www.lintcode.com/problem/602/" target="_blank" rel="noopener">Lintcode 602 俄罗斯套娃信封</a></p>
</li>
<li>
<p>信封按照<strong>长度</strong>从小到大排序后（相同长度按照<strong>宽度</strong>从大到小），找宽度的 Longest Increasing Subsequence</p>
</li>
<li>
<p>normal: O(n^2)</p>
</li>
<li>
<p>challenge: O(nlogn) （后面再介绍）</p>
</li>
</ul>
<h4>Mine first solution: Time Limit Exceeded: dp<span class="absolute -mt-20" id="mine-first-solution-time-limit-exceeded-dp"></span>
    <a href="#mine-first-solution-time-limit-exceeded-dp" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-39"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxEnvelopes</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">envelopes</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">envelopes</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">envelopes</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">              <span class="n">envelopes</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">              <span class="p">[](</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">l</span><span class="p">,</span> <span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">?</span> <span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">              <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">envelopes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">envelopes</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="n">max</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">max</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">max</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-39"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Mine second solution: Time Limit Exceeded: dfs<span class="absolute -mt-20" id="mine-second-solution-time-limit-exceeded-dfs"></span>
    <a href="#mine-second-solution-time-limit-exceeded-dfs" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-40"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxEnvelopes</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">envelopes</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">envelopes</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">envelopes</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">envelopes</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">dfs</span><span class="p">(</span><span class="n">envelopes</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ans</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">envelopes</span><span class="p">,</span> <span class="kt">int</span> <span class="n">current</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">ans</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">ans</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">current</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">envelopes</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">current</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span>
</span></span><span class="line"><span class="cl">          <span class="n">envelopes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">envelopes</span><span class="p">[</span><span class="n">current</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">          <span class="n">envelopes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">envelopes</span><span class="p">[</span><span class="n">current</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dfs</span><span class="p">(</span><span class="n">envelopes</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ans</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-40"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Correct forum official solution<span class="absolute -mt-20" id="correct-forum-official-solution"></span>
    <a href="#correct-forum-official-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>此处使用二分优化最长上升子序列，在<code>dp</code>数组中二分查找第一个大于等于当前数的位置，然后<code>dp[i]=k</code>，即第<code>i</code>处的最长上升子序列长度为<code>k</code>。</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-41"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxEnvelopes</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">envelopes</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">envelopes</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">auto</span> <span class="n">cmp</span> <span class="o">=</span> <span class="p">[](</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">,</span> <span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">?</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">envelopes</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">envelopes</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">cmp</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">height</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">INT_MAX</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">lower_bound</span><span class="p">(</span><span class="n">height</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">height</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">envelopes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">-</span> <span class="n">height</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">height</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">envelopes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">ans</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ans</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-41"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<hr>
<h3>课后习题<span class="absolute -mt-20" id="课后习题"></span>
    <a href="#%e8%af%be%e5%90%8e%e4%b9%a0%e9%a2%98" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><p>
    <img src="../images_dp/9.7.png" alt="9.7" loading="lazy" />

    <img src="../images_dp/9.8.png" alt="9.8" loading="lazy" />

    <img src="../images_dp/9.9.png" alt="9.9" loading="lazy" /></p>
<hr>
<h2>Chapter 10: 骰子求和：背包型<span class="absolute -mt-20" id="chapter-10-骰子求和背包型"></span>
    <a href="#chapter-10-%e9%aa%b0%e5%ad%90%e6%b1%82%e5%92%8c%e8%83%8c%e5%8c%85%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li><a href="https://www.lintcode.com/problem/20/" target="_blank" rel="noopener">Lintcode 20 骰子求和</a></li>
</ul>
<p>本质上这道题是求方案数</p>
<p>核心的是看状态是什么：</p>
<ul>
<li>状态：用来表示一个子问题的一些参数凑在一起</li>
<li>这道题的状态：</li>
</ul>
<hr>
<h3>背包型<span class="absolute -mt-20" id="背包型"></span>
    <a href="#%e8%83%8c%e5%8c%85%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><code>f[i][j]</code> 表示前<code>i</code>次骰子（掷<code>i</code>次骰子）我能够凑出和为<code>j</code>的概率是多少
<ul>
<li>能想出这个的原因：
<ol>
<li>影响到状态，影响到每个计算结果的是<em>掷多少次</em></li>
<li>我们要求的<em>和</em>，求的和是1，求的和是2，的概率也不一样</li>
<li>将以上两个信息全部放到状态当中去</li>
</ol>
</li>
</ul>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-42"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">double</span><span class="o">&gt;&gt;</span> <span class="n">dicesSum</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">double</span><span class="o">&gt;&gt;</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span> <span class="c1">// has to be double
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">6</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="mi">6</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">6</span> <span class="o">*</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// n or i, both work
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="mi">6</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">k</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">/=</span> <span class="mf">6.0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">6</span> <span class="o">*</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">result</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">j</span><span class="p">]));</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-42"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<hr>
<h2>Chapter 11: 最长有效括号：后缀型(与前缀型只区别与计算顺序)<span class="absolute -mt-20" id="chapter-11-最长有效括号后缀型与前缀型只区别与计算顺序"></span>
    <a href="#chapter-11-%e6%9c%80%e9%95%bf%e6%9c%89%e6%95%88%e6%8b%ac%e5%8f%b7%e5%90%8e%e7%bc%80%e5%9e%8b%e4%b8%8e%e5%89%8d%e7%bc%80%e5%9e%8b%e5%8f%aa%e5%8c%ba%e5%88%ab%e4%b8%8e%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>
<p><a href="https://www.lintcode.com/problem/193/" target="_blank" rel="noopener">Lintcode 193 最长有效括号</a></p>
</li>
<li>
<p>字符串的题目特别多的题目都是<strong>前缀型 或 后缀型</strong></p>
</li>
</ul>
<ul>
<li>设状态<code>dp[i]</code>为从<code>i</code>到<code>len - 1</code>中，以<code>i</code>开头的最长合法子串长度</li>
<li>初始化：<code>dp[len - 1] = 0</code></li>
<li>如果<code>s[i] = ')'</code>，则跳过，因为不可能有由<code>'('</code>开头的串</li>
<li>如果<code>s[i] = '('</code>, 则需要找到右括号和它匹配。可以跳过以<code>i + 1</code>开头的合法子串，看<code>j = i + dp[i + 1] + 1</code>的位置是否为右括号。
<ul>
<li>如果位置<code>i</code>没越界且为右括号，那么有<code>dp[i] = dp[i + 1] + 2</code>，此外在这个基础上还要将<code>j + 1</code>开头的子串加进来（只要不越界）。</li>
</ul>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-43"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">longestValidParentheses</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// int dp[n] should have an additional step to initialize all elements to zero
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;(&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 如果没越界且为右括号
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;)&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// 还要将j + 1开头的子串加进来
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-43"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<hr>
<h2>Chapter 12: 最大子数组差<span class="absolute -mt-20" id="chapter-12-最大子数组差"></span>
    <a href="#chapter-12-%e6%9c%80%e5%a4%a7%e5%ad%90%e6%95%b0%e7%bb%84%e5%b7%ae" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>
<p><a href="https://www.lintcode.com/problem/45/" target="_blank" rel="noopener">Lintcode 45 最大子数组差</a></p>
</li>
<li>
<p>关键字<strong>不重叠</strong>，应该想到<strong>隔板法</strong></p>
</li>
<li>
<p>因为区间不重合，那么他们肯定会被一个隔板隔开，我们枚举隔板，再去算左右两边的 最大区间和 和 最小区间和</p>
</li>
</ul>
<h3>Mine solution<span class="absolute -mt-20" id="mine-solution"></span>
    <a href="#mine-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-44"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxDiffSubArrays</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">prefix_sum</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">prefix_sum</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">prefix_sum</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">left_max</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">right_max</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">nums</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">left_min</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">right_min</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">nums</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">temp_min</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">temp_max</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-44"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Official Solution: with some Greedy idea<span class="absolute -mt-20" id="official-solution-with-some-greedy-idea"></span>
    <a href="#official-solution-with-some-greedy-idea" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-45"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxDiffSubArrays</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// max_sum_of_left[i], min_sum_of_left[i]分别表示从左到i的范围内的子数组最大/最小和
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">max_sum_of_left</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">min_sum_of_left</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// max_sum_of_right[i], min_sum_of_right[i]分别表示从右到i的范围内的子数组最大/最小和
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">max_sum_of_right</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">min_sum_of_right</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 求从左到i的范围内的子数组最大和
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">max_sum_of_left</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">now</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">now</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">now</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="n">max_sum_of_left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">max_sum_of_left</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">now</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 求从右到i的范围内的子数组最大和
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">max_sum_of_right</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">now</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">now</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">now</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="n">max_sum_of_right</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">max_sum_of_right</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">now</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 求从左到i的范围内的子数组最小和
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">min_sum_of_left</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">now</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">now</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">now</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="n">min_sum_of_left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">min_sum_of_left</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">now</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 求从右到i的范围内的子数组最小和
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">min_sum_of_right</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">now</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">now</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">now</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="n">min_sum_of_right</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">min_sum_of_right</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">now</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mh">0xcfcfcfcf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// max(左大右小的差值，左小右大的差值)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">ans</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">max_sum_of_left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">min_sum_of_right</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">                                   <span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">min_sum_of_left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">max_sum_of_right</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])));</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-45"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>相关题目<span class="absolute -mt-20" id="相关题目"></span>
    <a href="#%e7%9b%b8%e5%85%b3%e9%a2%98%e7%9b%ae" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p><a href="https://www.lintcode.com/problem/1833/" target="_blank" rel="noopener">Lintcode 1833 钢笔盒</a></p>
</li>
<li>
<p><a href="https://www.lintcode.com/problem/1850/" target="_blank" rel="noopener">Lintcode 1850 捡苹果</a></p>
</li>
</ul>
<h2>Chapter 13: 工作安排：坐标型<span class="absolute -mt-20" id="chapter-13-工作安排坐标型"></span>
    <a href="#chapter-13-%e5%b7%a5%e4%bd%9c%e5%ae%89%e6%8e%92%e5%9d%90%e6%a0%87%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li><a href="https://www.lintcode.com/problem/1147/" target="_blank" rel="noopener">Lintcode 1147 工作安排</a></li>
</ul>
<p>Compared to the question of <strong>house robbers</strong>, not only do we have to decide whether to pick the task(whether to rob the current house)
but also we have to determine what task we will choose(simple or complex)</p>
<ul>
<li>状态：令<code>dp[i]</code>表示前<code>i</code>周可完成的最大价值</li>
<li>状态转移：<code>dp[i] = max(dp[i - 1] + low[i], dp[i - 2] + high[i])</code></li>
<li>临界值：第一周只能选择简单任务</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-46"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">workPlan</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">low</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">high</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">low</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">low</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">low</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">high</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">low</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">high</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-46"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<blockquote>
<p>思考：如果有负数怎么办？</p>
</blockquote>
<h2>Chapter 14: 染色问题：坐标型<span class="absolute -mt-20" id="chapter-14-染色问题坐标型"></span>
    <a href="#chapter-14-%e6%9f%93%e8%89%b2%e9%97%ae%e9%a2%98%e5%9d%90%e6%a0%87%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>
<p><a href="https://www.lintcode.com/problem/1444/" target="_blank" rel="noopener">Lintcode 1444 染色问题</a></p>
</li>
<li>
<p>State: let <code>dp[i]</code> represents <strong>the total number of plans</strong> when circle is divided into <code>i</code> sectors</p>
</li>
<li>
<p>Initialization:</p>
<ul>
<li>when <code>i == 1</code>, we can use at least 1 color, <code>A(m, 1) : dp[1] = m</code></li>
<li>when <code>i % 2 == 0</code>, we can use at least 2 color, <code>A(m, 2) : dp[2] = m * (m - 1)</code></li>
<li>when <code>i % 2 == 1 &amp;&amp; i &gt;= 3</code>, we can use at least 3 color, <code>A(m, 3) : dp[3] = m * (m - 1) * (m - 2)</code></li>
</ul>
</li>
<li>
<p>Function:</p>
<ul>
<li>the <code>n</code> sectors problem can be derived from <code>n - 1</code> sectors sub-problem and <code>n - 2</code> sectors sub-problem</li>
<li>Regarding to <code>n - 1</code> sectors sub-problem, it has <code>dp[n - 1]</code> color plans.
<ul>
<li>Due to the colors of adjacent sectors cannot be the same, when we insert a new sector between two sectors, the number of plans is <code>m - 2</code>, and then the total number of color plans is <code>dp[n - 1] * (m - 2)</code></li>
<li>function 1: <code>dp[i] += dp[i - 1] * (m - 2)</code></li>
</ul>
</li>
<li>Regarding to <code>n - 2</code> sectors sub-problem, it has <code>dp[n - 2]</code> color plans
<ul>
<li>We just choose one sector and then split it into two sectors with the same colors, and then insert a new sector between these two same color sectors. Then we have <code>dp[n - 2] * (m - 1)</code> the number of color plans</li>
<li>function 2: <code>dp[i] += dp[i - 2] * (m - 1)</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Answer:</p>
<ul>
<li>When calculating the result, we should add <code>module operation</code> within calculation to avoid overflowing</li>
<li><code>dp[n]</code> is the final answer</li>
</ul>
</li>
</ul>
<p>Time Complexity: O(n)
Space Complexity: O(n)</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-47"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">getCount</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">long</span> <span class="kt">long</span> <span class="n">MOD</span> <span class="o">=</span> <span class="mi">1000000007</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// long long dp[n + 3]; // ERROR: each value has to be initialized to zero
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// dp[i] represent number of color plans when we have i sectors and m colors
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">long</span> <span class="kt">long</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// one sector has m color plans
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">m</span> <span class="o">%</span> <span class="n">MOD</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// two sectors have m * (m - 1) color plans
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">dp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="kt">long</span> <span class="kt">long</span><span class="p">)</span><span class="n">m</span> <span class="o">*</span> <span class="p">(</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">MOD</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// three sectors have m * (m - 1) * (m - 2) color plans
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">dp</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="kt">long</span> <span class="kt">long</span><span class="p">)</span><span class="n">m</span> <span class="o">*</span> <span class="p">(</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">m</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="n">MOD</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">m</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="n">MOD</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">MOD</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">%=</span> <span class="n">MOD</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// dp[i] = (dp[i - 1] * (m - 2) + dp[i - 2] * (m - 1)) % MOD; // alternative
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-47"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<p>Note:
long long dp[n + 5]; // each value has to be initialized to zero
we can also optimize space with rolling array</p>
<h2>Chapter 15: 最小的窗口子序列：匹配型<span class="absolute -mt-20" id="chapter-15-最小的窗口子序列匹配型"></span>
    <a href="#chapter-15-%e6%9c%80%e5%b0%8f%e7%9a%84%e7%aa%97%e5%8f%a3%e5%ad%90%e5%ba%8f%e5%88%97%e5%8c%b9%e9%85%8d%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li><a href="https://www.lintcode.com/problem/857/" target="_blank" rel="noopener">Lintcode 857 MinWindow</a></li>
</ul>
<p>This problem is very similar to <strong>The Problem of LCS</strong> and <strong>The Problem of Edit Distance</strong>, given <strong>two strings</strong> which means 匹配型动态规划</p>
<ul>
<li><strong>匹配型动态规划开(n + 1)(m + 1)的数组， 类似于背包型动态规划</strong></li>
</ul>
<p>这个题的题目名看起来和很多题目有相似之处，如“滑动窗口的最小值”等，那里我们使用单调队列进行求解，不要弄混</p>
<h3>The first solution with O(n^2 * (n + m)) approximate to O(n^3)<span class="absolute -mt-20" id="the-first-solution-with-on2--n--m-approximate-to-on3"></span>
    <a href="#the-first-solution-with-on2--n--m-approximate-to-on3" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>The first solution we should come up with is brute force: use <code>O(n^2)</code> to find all <strong>sub-string</strong> of a string, and then check each <strong>sub-string</strong> whether they include the sub-sequence of string <code>T</code>. The total time cost O(n^2 * (n + m))</li>
</ul>
<h3>The second solution with O(n * (n + m)) approximate to O(n^2), we should let time less than 10^8, if n is 20000, then it becomes 4 * 10^8 &gt; 10^8, which is not good<span class="absolute -mt-20" id="the-second-solution-with-on--n--m-approximate-to-on2-we-should-let-time-less-than-108-if-n-is-20000-then-it-becomes-4--108--108-which-is-not-good"></span>
    <a href="#the-second-solution-with-on--n--m-approximate-to-on2-we-should-let-time-less-than-108-if-n-is-20000-then-it-becomes-4--108--108-which-is-not-good" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>Then to optimize time complexity, we should consider <strong>which part</strong> can be optimized.
<ul>
<li>The first part which is to find the sub-string. We just enumerate <strong>left</strong> of sub-string and ignore <strong>right</strong> of sub-string.</li>
<li>Then the total time becomes O(n * (n + m))</li>
</ul>
</li>
</ul>
<h3>The thrid solution: Dynamic Programming: Time O(n * m) Space O(n * m)<span class="absolute -mt-20" id="the-thrid-solution-dynamic-programming-time-on--m-space-on--m"></span>
    <a href="#the-thrid-solution-dynamic-programming-time-on--m-space-on--m" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p>State: let <code>dp[i][j]</code> represent the left start pointer which successfully have <strong>previous j characters of string T</strong> is the sub-sequence of <strong>previous i characters of string S</strong></p>
</li>
<li>
<p>状态：令<code>dp[i][j]</code>表示成功匹配<strong>T串的前j个字符</strong>为<strong>S中前i个字符</strong>的子序列时的<strong>匹配起点</strong>（即第几个字符）</p>
</li>
<li>
<p>Function:</p>
<ul>
<li><code>S[i] == T[j] &amp;&amp; j == 1 : dp[i][j] = i</code></li>
<li><code>S[i] == T[j] &amp;&amp; j != 1 : dp[i][j] = dp[i - 1][j - 1]</code></li>
<li><code>S[i] != T[j] : dp[i][j] = dp[i - 1][j]</code></li>
</ul>
</li>
<li>
<p>Initialization: <code>dp[i][0] = 0</code> represents the left start pointer of pairation of <strong>an empty string</strong> and <strong>previous i characters of string S</strong>.</p>
<ul>
<li>Explanation: it equals to 0 means 0th character, not the index here</li>
<li>Alternative: To initialize here is let <code>dp[i][0] = -1</code>, because index 0 represent a real character</li>
</ul>
</li>
<li>
<p>Answer:</p>
<ul>
<li>Enumerate <code>dp[][T.size()]</code>:
<ul>
<li>if <code>dp[i][T.size()] != 0</code>(here 0 is 0th character, -1 is index), then here exist left start pointer of the window <code>dp[i][T.size()]</code>, the length of window is <code>i - dp[i][T.size()] + 1</code></li>
<li>At this time, we maintain our minimum length of window <code>len</code> and the <strong>most</strong> left start pointer <code>start</code></li>
</ul>
</li>
<li>Answer: <code>S.substr(start, start + len)</code></li>
</ul>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-48"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">minWindow</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">S</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">T</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">S</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">T</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">m</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">start</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">m</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="n">len</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">len</span> <span class="o">==</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="s">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">S</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-48"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Relative Problems<span class="absolute -mt-20" id="relative-problems"></span>
    <a href="#relative-problems" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/32/" target="_blank" rel="noopener">Lintcode 32 最小子串覆盖</a></li>
<li><a href="https://www.lintcode.com/problem/397/" target="_blank" rel="noopener">Lintcode 397 最长上升连续子序列</a></li>
<li><a href="https://www.lintcode.com/problem/77/" target="_blank" rel="noopener">Lintcode 77 最长公共子序列</a></li>
</ul>
<h2>Chapter 16: 划分型、博弈型 和 背包型 动态规划<span class="absolute -mt-20" id="chapter-16-划分型博弈型-和-背包型-动态规划"></span>
    <a href="#chapter-16-%e5%88%92%e5%88%86%e5%9e%8b%e5%8d%9a%e5%bc%88%e5%9e%8b-%e5%92%8c-%e8%83%8c%e5%8c%85%e5%9e%8b-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><h3>划分型动态规划<span class="absolute -mt-20" id="划分型动态规划"></span>
    <a href="#%e5%88%92%e5%88%86%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p>定义： 给定长度为<code>N</code>的序列或字符串，要求划分成若干段，每一段要满足一定的性质</p>
<ul>
<li>段数不限，或指定<code>K</code>段</li>
<li>每一段满足一定的性质</li>
</ul>
</li>
<li>
<p>做法：</p>
<ul>
<li>类似于序列型动态规划，但是通常要加上段数信息</li>
<li>一般用<code>f[i][j]</code>记录前<code>i</code>个元素（元素<code>0 ~ i-1</code>）分成<code>j</code>段的性质，如最小代价</li>
</ul>
</li>
</ul>
<h4>Example: Lintcode 513 Perfect Square：划分型<span class="absolute -mt-20" id="example-lintcode-513-perfect-square划分型"></span>
    <a href="#example-lintcode-513-perfect-square%e5%88%92%e5%88%86%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><a href="https://www.lintcode.com/problem/513/" target="_blank" rel="noopener">Lintcode 513 完美平方</a></li>
</ul>
<h5>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-7"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-7" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>确定状态：关注最优策略中最后一个完全平方数<code>j^2</code></li>
<li>最优策略中<code>n - j^2</code>也一定被划分成最少的完全平方数之和</li>
<li>需要知道<code>n - j^2</code>最少被分成几个完全平方数之和</li>
<li>原来是求<code>n</code>最少被分成几个完全平方数之和</li>
<li>子问题</li>
<li>状态：设<code>f[i]</code>表示<code>i</code>最少被分成几个完全平方数之和（copy下来，变量变成下标，就能得到状态）
<ul>
<li>这道题只开一维数组，没有段数，原因是段数不是我们需要限定的。比如说如果这道题问，能不能分成10段，就需要改一下。</li>
</ul>
</li>
</ul>
<h5>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-8"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-8" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i]</code>表示<code>i</code>最少被分成几个完全平方数之和</li>
<li><code>f[i] = min_{1 &lt;= j * j &lt;= i}(f[i - j^2] + 1)</code>
<ul>
<li>此处<code>{1 &lt;= j * j &lt;= i}</code>是限定条件</li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/16.1.png" alt="images 16.1" loading="lazy" /></p>
<h5>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-8"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-8" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p>设<code>f[i]</code>表示<code>i</code>最少被分成几个完全平方数之和</p>
</li>
<li>
<p><code>f[i] = min_{1 &lt;= j * j &lt;= i}(f[i - j^2] + 1)</code></p>
</li>
<li>
<p>初始条件：<code>0</code>被分成<code>0</code>个完全平方数之和</p>
<ul>
<li><code>f[0] = 0</code></li>
</ul>
</li>
</ul>
<h5>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-8"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-8" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>初始化<code>f[0]</code></li>
<li>计算<code>f[1], ..., f[N]</code></li>
<li>答案是<code>f[N]</code></li>
<li>空间复杂度是<code>O(n)</code>并且不能用滚动数组</li>
<li>时间复杂度是<code>sqrt(1) + sqrt(2) + ... + sqrt(n) = O(n * sqrt(n))</code></li>
</ul>
<h5>Coding Solution<span class="absolute -mt-20" id="coding-solution"></span>
    <a href="#coding-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-49"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// DP solution
</span></span></span><span class="line"><span class="cl"><span class="c1">// Running time error
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">numSquares</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">INT_MAX</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// last perfect square is j * j
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">*</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">i</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span> <span class="o">*</span> <span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-49"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<p>A Math solution costs O(n) time, and O(1) space</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-50"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// Math solution
</span></span></span><span class="line"><span class="cl"><span class="c1">// Accepted
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">numSquares</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">n</span> <span class="o">/=</span> <span class="mi">4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="mi">8</span> <span class="o">==</span> <span class="mi">7</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">std</span><span class="o">::</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">*</span> <span class="n">j</span> <span class="o">==</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">res</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">res</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-50"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h5>Follow up<span class="absolute -mt-20" id="follow-up"></span>
    <a href="#follow-up" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ol>
<li>有多少种方式把<code>N</code>表示成完全平方数之和（<code>1^2 + 2^2</code>和<code>2^2 + 1^2</code>属于不同的方式）————<strong>方案数</strong></li>
</ol>
<ul>
<li>Ans: replace <code>min</code> with <code>sum</code></li>
</ul>
<ol start="2">
<li>能不能把<code>N</code>表示成恰好<code>K</code>个完全平方数之和————<strong>可行性</strong></li>
</ol>
<ul>
<li>状态：<code>f[i][k]</code>能不能将<code>i</code>表示成恰好<code>k</code>个完全平方数之和</li>
<li>状态转移：<code>f[i][k] = OR_{1 &lt;= j * j &lt;= i}(f[i - j^2][k - 1])</code></li>
</ul>
<h4>Example: Lintcode 108 Palindrome Partitioning II<span class="absolute -mt-20" id="example-lintcode-108-palindrome-partitioning-ii"></span>
    <a href="#example-lintcode-108-palindrome-partitioning-ii" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><a href="https://www.lintcode.com/problem/108/" target="_blank" rel="noopener">Lintcode Palindrome Partitioning II</a></li>
</ul>
<h5>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-8"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-8" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>最后一步：关注最优策略中最后一段回文串，设为<code>S[j .. N-1]</code></li>
<li>需要知道<code>S</code>前<code>j</code>个字符<code>[0 .. j-1]</code>最少可以划分成几个回文串</li>
</ul>
<h5>子问题<span class="absolute -mt-20" id="子问题-6"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-6" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>求<code>S</code>前<code>N</code>个字符<code>S[0 .. N-1]</code>最少划分为几个回文串</li>
<li>需要知道<code>S</code>前<code>j</code>个字符<code>[0 .. j-1]</code>最少可以划分成几个回文串</li>
<li>子问题</li>
<li>状态：设<code>S</code>前<code>i</code>个字符<code>S[0 .. i-1]</code>最少可以划分成<code>f[i]</code>个回文串</li>
</ul>
<h5>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-9"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-9" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i]</code>为<code>S</code>前<code>i</code>个字符<code>S[0 .. i-1]</code>最少可以划分成几个回文串
<ul>
<li><code>f[i] = min_{j = 0, ..., i-1}(f[j] + 1 | S[j .. i-1]是回文串)</code></li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/16.2.png" alt="images 16.2" loading="lazy" /></p>
<h5>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-9"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-9" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i]</code>为<code>S</code>前<code>i</code>个字符<code>S[0 .. i-1]</code>最少可以划分成几个回文串
<ul>
<li><code>f[i] = min_{j = 0, ..., i-1}(f[j] + 1 | S[j .. i-1]是回文串)</code></li>
</ul>
</li>
<li>初始条件：空串可以被分成<code>0</code>个回文串
<ul>
<li><code>f[0] = 0</code></li>
</ul>
</li>
</ul>
<h5>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-9"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-9" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>计算<code>f[0], f[1], ..., f[N]</code></li>
</ul>
<h5>回文串判断<span class="absolute -mt-20" id="回文串判断"></span>
    <a href="#%e5%9b%9e%e6%96%87%e4%b8%b2%e5%88%a4%e6%96%ad" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>方法一：从左到右 和 从右到左 各读一遍，完全一样</li>
<li>方法二：可以用两个指针从两头向中间移动，每一步两个指针指向的字符都必须相等</li>
<li>但是动态规划转移方程是<code>f[i] = min_{j = 0, ..., i-1}(f[j] + 1 | S[j .. i-1]是回文串)</code></li>
<li>每次都判断<code>S[j .. i-1]</code>是不是回文串很慢(
转移方程为O(n^3)太慢)</li>
<li>如何优化？</li>
</ul>
<h6>回文串种类<span class="absolute -mt-20" id="回文串种类"></span>
    <a href="#%e5%9b%9e%e6%96%87%e4%b8%b2%e7%a7%8d%e7%b1%bb" class="subheading-anchor" aria-label="Permalink for this section"></a></h6><ul>
<li>回文串分两种：
<ol>
<li>长度为奇数</li>
<li>长度为偶数</li>
</ol>
</li>
</ul>
<h6>生成回文串<span class="absolute -mt-20" id="生成回文串"></span>
    <a href="#%e7%94%9f%e6%88%90%e5%9b%9e%e6%96%87%e4%b8%b2" class="subheading-anchor" aria-label="Permalink for this section"></a></h6><ul>
<li>假设我们现在不是寻找回文串，而是生成回文串</li>
<li>从中间开始，向两边扩展，每次左右两端加上同样的字符</li>
</ul>
<h6>在字符串中找到所有回文串<span class="absolute -mt-20" id="在字符串中找到所有回文串"></span>
    <a href="#%e5%9c%a8%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%ad%e6%89%be%e5%88%b0%e6%89%80%e6%9c%89%e5%9b%9e%e6%96%87%e4%b8%b2" class="subheading-anchor" aria-label="Permalink for this section"></a></h6><ul>
<li>以字符串的每一个字符为中点，向两边扩展，找到所有回文串</li>
</ul>
<h6>记录回文串<span class="absolute -mt-20" id="记录回文串"></span>
    <a href="#%e8%ae%b0%e5%bd%95%e5%9b%9e%e6%96%87%e4%b8%b2" class="subheading-anchor" aria-label="Permalink for this section"></a></h6><ul>
<li>从<code>S</code>每一个字符开始向两边扩展
<ul>
<li>考虑奇数长度回文串 和 偶数长度回文串</li>
</ul>
</li>
<li>用<code>isPlain[i][j]</code>表示<code>S[i .. j]</code>是否是回文串</li>
<li>时间复杂度<code>O(n^2)</code></li>
</ul>
<h5>回到原题<span class="absolute -mt-20" id="回到原题"></span>
    <a href="#%e5%9b%9e%e5%88%b0%e5%8e%9f%e9%a2%98" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li><code>S</code>最少划分成多少个回文串</li>
<li><code>f[i] = min_{j = 0, ..., i-1}(f[j] + 1 | S[j .. i-1]是回文串)</code></li>
<li><code>f[i] = min_{j = 0, ..., i-1}(f[j] + 1 | isPlain[j][i - 1] = True)</code></li>
<li>答案是<code>f[N] - 1</code>(因为原题是求最少划分几次)</li>
<li>时间复杂度<code>O(n^2)</code></li>
<li>空间复杂度<code>O(n^2)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-51"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCut</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">S</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">S</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">palin</span> <span class="o">=</span> <span class="n">CalcPalin</span><span class="p">(</span><span class="n">S</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// S[0 .. i-1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// S[j .. i-1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">palin</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">CalcPalin</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">S</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">S</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">palin</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">false</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">mid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">mid</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">mid</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">mid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// odd-length palindrome
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">S</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">palin</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">--</span><span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">++</span><span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// even-length palindrome
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">i</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">j</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">S</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">palin</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">--</span><span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">++</span><span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">palin</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-51"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Example: Lintcode 437 Copy Books<span class="absolute -mt-20" id="example-lintcode-437-copy-books"></span>
    <a href="#example-lintcode-437-copy-books" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p><a href="https://www.lintcode.com/problem/437/" target="_blank" rel="noopener">Lintcode 437 Copy Books</a></p>
</li>
<li>
<p>通过关键词<strong>连续</strong>可以判断是否为<strong>划分型动态规划</strong></p>
</li>
<li>
<p>这道题有段数限制</p>
</li>
</ul>
<h5>题目分析<span class="absolute -mt-20" id="题目分析-5"></span>
    <a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-5" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>如果一个抄写员抄写第<code>i</code>本到第<code>j</code>本书，则需要时间<code>A[i] + A[i + 1] + ... + A[j]</code></li>
<li>最后完成时间取决于耗时最长的那个抄写员</li>
<li>需要找到一种分段方式，分成<strong>不超过K段</strong>，使得所有段的数字之和的最大值最小</li>
</ul>
<h5>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-9"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-9" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>最后一步：最优策略中最后一个抄写员Bob（设他是第K个）抄写的部分
<ul>
<li>一段连续的书，包含最后一本</li>
</ul>
</li>
<li>如果Bob抄写第<code>j</code>本到第<code>N - 1</code>本书</li>
<li>则Bob需要时间<code>A[j] + ... + A[N - 1]</code></li>
<li>需要知道前面<code>K - 1</code>个人最少需要多少时间抄完前<code>j</code>本书（第<code>0 ~ j-1</code>本书）(这里也是指 时间的最大值最小)</li>
</ul>
<h5>子问题<span class="absolute -mt-20" id="子问题-7"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-7" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>求<code>K</code>个人最短需要多少时间抄完前<code>N</code>本书</li>
<li>需要知道<code>K - 1</code>个人最少需要多少时间抄完前<code>j</code>本书</li>
<li>子问题</li>
<li>状态：设<code>f[k][i]</code>为前<code>k</code>个抄写员最少需要多少时间抄完前<code>i</code>本书</li>
</ul>
<h5>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-10"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-10" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[k][i]</code>为<code>k</code>个抄写员最少需要多少时间抄完前<code>i</code>本书
<ul>
<li><code>f[k][i] = min_{i = 0, ..., i}(max(f[k - 1][j], A[j] + ... + A[i - 1]))</code>(Note: min的下标可以到<code>i</code>，代表这个人根本就不抄书，有些人可能分到0本书，所以是0 到 i)</li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/16.3.png" alt="Images 16.3" loading="lazy" /></p>
<h5>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-10"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-10" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p>设<code>f[k][i]</code>为<code>k</code>个抄写员最少需要多少时间抄完前<code>i</code>本书</p>
</li>
<li>
<p><code>f[k][i] = min_{j = 0, ..., i}(max(f[k - 1][j], A[j] + ... A[i - 1]))</code></p>
</li>
<li>
<p>初始条件：</p>
<ul>
<li>0 个抄写员只能抄0本书
<ul>
<li><code>f[0][0] = 0, f[0][1] = f[0][2] = ... = f[0][N] = +inf</code></li>
</ul>
</li>
<li>k 个抄写员（k &gt; 0）需要 0 时间抄 0 本书
<ul>
<li><code>f[k][0] = 0(k &gt; 0)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h5>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-10"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-10" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>计算<code>f[0][0], f[0][1], ..., f[0][N]</code></li>
<li>计算<code>f[1][0], f[1][1], ..., f[1][N]</code></li>
<li>&hellip;</li>
<li>计算<code>f[K][0], f[K][1], ..., f[K][N]</code></li>
<li>答案是<code>f[K][N]</code></li>
<li>时间复杂度<code>O(N^2 * K)</code></li>
<li>空间复杂度<code>O(NK)</code>，优化后可以达到<code>O(N)</code></li>
<li>如果<code>K &gt; N</code>, 可以赋值<code>K &lt;- N</code></li>
</ul>
<h5>Coding: The First Solution with DP<span class="absolute -mt-20" id="coding-the-first-solution-with-dp"></span>
    <a href="#coding-the-first-solution-with-dp" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-52"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">copyBooks</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">K</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">K</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">K</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">K</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">s</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// first k copier
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">K</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// copy first i books
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// s = A[j] + ... + A[i - 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mh">0x3f3f3f3f</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">s</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// update s
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="c1">// s += A[j - 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">s</span> <span class="o">+=</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">K</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-52"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h5>Coding: The Second Solution with Binary Search<span class="absolute -mt-20" id="coding-the-second-solution-with-binary-search"></span>
    <a href="#coding-the-second-solution-with-binary-search" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-53"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;numeric&gt;</span><span class="cp"> </span><span class="c1">// accumulate
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp"> </span><span class="c1">// max_element
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">copyBooks</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">pages</span><span class="p">,</span> <span class="kt">int</span> <span class="n">K</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">pages</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// int start = 0xcfcfcfcf; // maximum element of pages
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// int end = 0; // sum of pages
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// for (int i = 0; i &lt; pages.size(); ++i) {
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// start = std::max(start, pages[end]);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// i += pages[i];
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// }
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="o">*</span><span class="n">std</span><span class="o">::</span><span class="n">max_element</span><span class="p">(</span><span class="n">pages</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">pages</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">end</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">accumulate</span><span class="p">(</span><span class="n">pages</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">pages</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">GetLeastPeople</span><span class="p">(</span><span class="n">pages</span><span class="p">,</span> <span class="n">mid</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">K</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">GetLeastPeople</span><span class="p">(</span><span class="n">pages</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">K</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">start</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">end</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="nf">GetLeastPeople</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">pages</span><span class="p">,</span> <span class="kt">int</span> <span class="n">time_limit</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">time_cost</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="nl">page</span> <span class="p">:</span> <span class="n">pages</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">time_cost</span> <span class="o">+</span> <span class="n">page</span> <span class="o">&gt;</span> <span class="n">time_limit</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="o">++</span><span class="n">count</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">time_cost</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="n">time_cost</span> <span class="o">+=</span> <span class="n">page</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-53"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Summary<span class="absolute -mt-20" id="summary"></span>
    <a href="#summary" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>划分型动态规划</li>
<li>要求将一个序列或字符串划分成若干满足要求的片段</li>
<li>解决方法：最后一步-&gt;<strong>最后一段</strong></li>
<li>枚举最后一段的起点，然后把最后一段拿出来判断满不满足性质，然后再看前面最少的段数啊最少的时间等等</li>
</ul>
<ul>
<li>如果题目不指定段数，用<code>f[i]</code>表示前<code>i</code>个元素分段后的最值，可行性，方式数：Perfect Squares, Palindrome Partition II</li>
<li>如果题目指定段数，用<code>f[i][j]</code>表示前<code>i</code>个元素分成<code>j</code>段后的最值，可行性，方案数：Copy Books</li>
</ul>
<p>
    <img src="../images_dp/16.4.png" alt="images 16.4" loading="lazy" /></p>
<h3>博弈型动态规划<span class="absolute -mt-20" id="博弈型动态规划"></span>
    <a href="#%e5%8d%9a%e5%bc%88%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p>博弈为两方游戏</p>
</li>
<li>
<p>一方先下，在一定规则下依次出招</p>
</li>
<li>
<p>如果满足一定条件，则一方胜</p>
</li>
<li>
<p>目标：取胜</p>
</li>
<li>
<p>先手：先出招的一方</p>
</li>
<li>
<p>出招后，先手换人，新的先手面对一个新的局面</p>
</li>
<li>
<p>Note: 只记先手(为了简化状态)，当前要下棋的那个人</p>
</li>
</ul>
<ul>
<li>只有<strong>博弈型动态规划</strong>不是从最后一步分析，而是从<strong>第一步</strong>分析
<ul>
<li>反例：如果往一个空棋盘上加石子，先到<code>n</code>的人先赢，那这个时候应该按最后一步来想，因为这个时候<strong>子问题从后往前会更小</strong></li>
</ul>
</li>
</ul>
<ul>
<li>博弈型动态规划基本上都是: 取数字，取石子</li>
</ul>
<h4>Example: Lintcode 394 Coins in a Line<span class="absolute -mt-20" id="example-lintcode-394-coins-in-a-line"></span>
    <a href="#example-lintcode-394-coins-in-a-line" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><a href="https://www.lintcode.com/problem/394/" target="_blank" rel="noopener">Lintcode 394 Coins in a Line</a></li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-10"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-10" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>博弈动态规划通常从<strong>第一步</strong>分析，而不是最后一步
<ul>
<li>因为局面越来越简单，石子数越来越少</li>
</ul>
</li>
<li>面对<code>N</code>个石子，先手Alice第一步可以拿<code>1</code>个或<code>2</code>个石子</li>
<li>这样后手Bob就面对<code>N - 1</code>个石子或<code>N - 2</code>个石子</li>
<li>先手Alice一定会选择能让自己赢的一步
<ul>
<li>因为双方都是采取最优策略</li>
</ul>
</li>
</ul>
<ul>
<li>假如后手Bob面对<code>N - 1</code>个石子</li>
<li>其实这和一开始Bob是先手，有<code>N - 1</code>个石子的情况是一样的</li>
<li>那么Bob也会选择让自己赢的一步：取走<code>1</code>个或<code>2</code>个石子</li>
<li>之后Alice面对新的局面，自己成为新的先手，选择让自己赢的一步</li>
<li>&hellip;</li>
</ul>
<h4>博弈型动态规划：必胜 vs 必败<span class="absolute -mt-20" id="博弈型动态规划必胜-vs-必败"></span>
    <a href="#%e5%8d%9a%e5%bc%88%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%bf%85%e8%83%9c-vs-%e5%bf%85%e8%b4%a5" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>怎么选择让自己赢的一步</li>
<li>就是走了这一步之后，对手面对剩下的石子，他必输(这里不是循环定义)</li>
</ul>
<ul>
<li>知识点：如果取<code>1</code>个或<code>2</code>个石子后，能让剩下的局面先手必败，则当前先手必胜</li>
<li>知识点：如果不管怎么走，剩下的局面都是先手必胜，则当前先手必败</li>
<li>宗旨：
<ul>
<li>必胜：在当下的局面走出一步，让对手无路可逃（即必败）</li>
<li>必败：自己无路可逃（即必败）</li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/16.5.png" alt="images 16.5" loading="lazy" /></p>
<h4>子问题<span class="absolute -mt-20" id="子问题-8"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-8" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>要求面对<code>N</code>个石子，是否先手必胜</li>
<li>需要知道面对<code>N - 1</code>个石子和<code>N - 2</code>个石子，是否先手必胜</li>
<li>子问题</li>
<li>状态：设<code>f[i]</code>表示面对<code>i</code>个石子，是否先手必胜（<code>f[i] = TRUE / FALSE</code>）</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-11"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-11" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>设<code>f[i]</code>表示面对<code>i</code>个石子，是否先手必胜（<code>f[i] = TRUE / FALSE</code>）</p>
</li>
<li>
<p><code>f[i] = </code></p>
<ul>
<li><code>true, f[i - 1] == False &amp;&amp; f[i - 2] == false</code> 拿1或2个石子都必胜</li>
<li><code>true, f[i - 1] == false &amp;&amp; f[i - 2] == true</code> 拿1个石子必胜</li>
<li><code>true, f[i - 1] == true &amp;&amp; f[i - 2] == false</code> 拿2个石子必胜</li>
<li><code>false, f[i - 1] == true &amp;&amp; f[i - 2] == true</code> 必败</li>
</ul>
</li>
<li>
<p>Simplify: <code>f[i] = f[i - 1] == false || f[i - 2] == false</code></p>
</li>
</ul>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-11"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-11" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>设<code>f[i]</code>表示面对<code>i</code>个石子，是否先手必胜（<code>f[i] = TRUE / FALSE</code>）</p>
</li>
<li>
<p><code>f[i] = f[i - 1] == false || f[i - 2] == false</code></p>
</li>
<li>
<p><code>f[0] = false</code> 面对0个石子，先手必败</p>
</li>
<li>
<p><code>f[1] = f[2] = true</code> 面对1个或2个石子，先手必胜</p>
</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-11"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-11" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0], f[1], f[2], ..., f[N]</code></li>
<li>如果<code>f[N] = true</code>则先手必胜，否则先手必败</li>
<li>时间复杂度<code>O(N)</code></li>
<li>空间复杂度<code>O(N)</code>，可以滚动数组优化至<code>O(1)</code></li>
</ul>
<h4>Official Solution<span class="absolute -mt-20" id="official-solution-4"></span>
    <a href="#official-solution-4" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-54"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">firstWillWin</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="nb">false</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-54"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>The Second Solution with Time O(1) Space O(1)<span class="absolute -mt-20" id="the-second-solution-with-time-o1-space-o1"></span>
    <a href="#the-second-solution-with-time-o1-space-o1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-55"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">firstWillWin</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-55"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>背包型动态规划<span class="absolute -mt-20" id="背包型动态规划"></span>
    <a href="#%e8%83%8c%e5%8c%85%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>你有一个背包，背包有最大承重</li>
<li>商店里有若干物品，都是免费拿</li>
<li>每个物品有重量和价值</li>
<li>目标：不撑爆背包的前提下
<ul>
<li>装下最多重量物品</li>
<li>装下最大总价值的物品</li>
<li>有多少种方式正好带走满满一书包物品</li>
</ul>
</li>
</ul>
<h4>直觉<span class="absolute -mt-20" id="直觉"></span>
    <a href="#%e7%9b%b4%e8%a7%89" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>逐个放物品，看是否还能放入</li>
<li>两个关键点:
<ul>
<li>还有<strong>几个物品</strong></li>
<li>还剩<strong>多少承重</strong></li>
</ul>
</li>
</ul>
<h4>Example: Lintcode 92 Backpack<span class="absolute -mt-20" id="example-lintcode-92-backpack"></span>
    <a href="#example-lintcode-92-backpack" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p><a href="https://www.lintcode.com/problem/92/" target="_blank" rel="noopener">Lintcode 92 Backpack</a></p>
</li>
<li>
<p>黄金定律：背包问题中，数组大小和总承重有关</p>
</li>
</ul>
<h5>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-11"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-11" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p>需要知道<code>N</code>个物品是否能拼出重量<code>W</code>（W = 0, 1, &hellip;, M）</p>
</li>
<li>
<p>最后一步：最后一个物品（重量<code>A_{N - 1}</code>是否进入背包）</p>
</li>
<li>
<p>情况一：如果前<code>N - 1</code>个物品能拼出<code>W</code>，当然前<code>N</code>个物品也能拼出<code>W</code></p>
</li>
<li>
<p>情况二：如果前<code>N - 1</code>个物品能拼出<code>W - A_{N - 1}</code>，再加上最后的物品<code>A_{N - 1}</code>，拼出<code>W</code></p>
</li>
<li>
<p>例子:</p>
</li>
<li>
<p>4个物品，重量为 2, 3, 5, 7</p>
</li>
<li>
<p>前3个物品可以拼出重量8(即3 + 5)，自然4个物品可以拼出重量8</p>
</li>
<li>
<p>前3个物品可以拼出重量2（即2），加上最后一个物品，可以拼出重量9</p>
</li>
</ul>
<h5>子问题<span class="absolute -mt-20" id="子问题-9"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-9" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>要求前<code>N</code>个物品能不能拼出重量 0, 1, &hellip;, M</li>
<li>需要知道前<code>N - 1</code>个物品能不能拼出重量 0, 1, &hellip;, M</li>
<li>子问题</li>
<li>状态：设<code>f[i][w] = </code>能否用<strong>前i个物品</strong>拼出重量<code>w (TRUE / FALSE)</code></li>
<li>常见误区：<strong>错误</strong> 设<code>f[i]</code>表示前<code>i</code>个物品能拼出的最大重量（不超过<code>M</code>）
<ul>
<li>反例：<code>A = [3 9 5 2], M = 10</code></li>
<li>错误原因：最优策略中，前<code>N - 1</code>个物品拼出的<strong>不一定是</strong>不超过<code>M</code>的最大重量</li>
<li>或者用黄金定律，即一定要有背包承重的维度</li>
</ul>
</li>
</ul>
<h5>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-12"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-12" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i][w] = </code>能否用<strong>前i个物品</strong>拼出重量<code>w (TRUE / FALSE)</code>
<ul>
<li><code>f[i][w] = f[i - 1][w] || f[i - 1][w - A_{i - 1}]</code></li>
</ul>
</li>
</ul>
<h5>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-12"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-12" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li><code>f[i][w] = f[i - 1][w] || f[i - 1][w - A_{i - 1}]</code></li>
<li>初始条件：
<ul>
<li><code>f[0][0] = true</code> : 0个物品可以拼出重量0</li>
<li><code>f[0][1 .. M] = false</code> : 0个物品不能拼出大于0的重量</li>
</ul>
</li>
<li>边界情况：
<ul>
<li><code>f[i - 1][w - A_{i - 1}]</code></li>
</ul>
</li>
</ul>
<p>只能在<code>w &gt;= A_{i - 1}</code>时使用</p>
<h5>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-12"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-12" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>初始化<code>f[0][0], f[0][1], ..., f[0][M]</code></li>
<li>计算前 1 个物品能拼出哪些重量：<code>f[1][0], f[1][1], ..., f[1][M]</code></li>
<li>计算前 2 个物品能拼出哪些重量：<code>f[2][0], f[2][1], ..., f[2][M]</code></li>
<li>&hellip;</li>
<li>计算前 N 个物品能拼出哪些重量：<code>f[N][0], f[N][1], ..., f[N][M]</code></li>
<li>时间复杂度（计算步数）：<code>O(MN)</code></li>
<li>空间复杂度（数组大小）：优化后可以达到<code>O(M)</code></li>
</ul>
<h5>DP Official Solution<span class="absolute -mt-20" id="dp-official-solution"></span>
    <a href="#dp-official-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-56"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">backPack</span><span class="p">(</span><span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">w</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// initialization
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// first i items
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">w</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">w</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// case 1: not using item_{i - 1}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">w</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// case 2: using item_{i - 1}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">w</span> <span class="o">&gt;=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">w</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-56"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h5>Backpack Official Solution<span class="absolute -mt-20" id="backpack-official-solution"></span>
    <a href="#backpack-official-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-57"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">backPack</span><span class="p">(</span><span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-57"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h5>Summary<span class="absolute -mt-20" id="summary-1"></span>
    <a href="#summary-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>方法二：</li>
<li>要求不超过<code>M</code>时能拼出的最大重量</li>
<li>记录前<code>i</code>个物品能拼出哪些重量</li>
<li>前<code>i</code>个物品能拼出的重量：
<ul>
<li>前<code>i - 1</code>个物品能拼出的重量</li>
<li>前<code>i - 1</code>个物品能拼出的重量 + 第<code>i</code>个物品重量<code>A_{i - 1}</code></li>
</ul>
</li>
</ul>
<ul>
<li>如果我们的重量不是正数，而是保留的两位小数，那么我们应该怎么处理?
<ul>
<li>把重量扩大<strong>100</strong>倍进行背包，但一般仅限于小数位数比较少的时候，不然我们需要大量的空间来存储背包。</li>
</ul>
</li>
</ul>
<h4>Example: Lintcode 563 Backpack V<span class="absolute -mt-20" id="example-lintcode-563-backpack-v"></span>
    <a href="#example-lintcode-563-backpack-v" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><a href="https://www.lintcode.com/problem/563/" target="_blank" rel="noopener">Lintcode 563 Backpack V</a></li>
</ul>
<h5>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-12"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-12" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>需要知道<code>N</code>个物品有多少种方式拼出重量<code>W (W = 0, 1, ..., Target)</code></li>
<li>最后一步：第<code>N</code>个物品（重量<code>A_{N - 1}</code>）是否进入背包
<ul>
<li>情况一：用前<code>N - 1</code>个物品拼出<code>W</code></li>
<li>情况二：用前<code>N - 1</code>个物品能拼出<code>W - A_{N - 1}</code>，再加上最后的物品<code>A_{N - 1}</code>，拼出<code>W</code></li>
<li>情况一的个数 + 情况二的个数 = 用前<code>N</code>个物品拼出<code>W</code>的方式</li>
</ul>
</li>
</ul>
<h5>子问题<span class="absolute -mt-20" id="子问题-10"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-10" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>要求前<code>N</code>个物品有多少种方式拼出重量 0, 1, &hellip;, Target</li>
<li>需要知道前<code>N - 1</code>个物品有多少种方式拼出重量 0, 1, &hellip;, Target</li>
<li>子问题</li>
<li>状态：设<code>f[i][w] = </code>用<strong>前 i 个物品</strong>有多少种方式拼出重量<code>w</code></li>
</ul>
<h5>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-13"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-13" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i][w] = </code>用<strong>前 i 个物品</strong>有多少种方式拼出重量<code>w</code>
<ul>
<li><code>f[i][w] = f[i - 1][w] + f[i - 1][w - A_{i - 1}]</code></li>
</ul>
</li>
</ul>
<h5>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-13"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-13" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p><code>f[i][w] = f[i - 1][w] + f[i - 1][w - A_{i - 1}]</code></p>
</li>
<li>
<p>初始条件：</p>
<ul>
<li><code>f[0][0] = 1</code> : 0 个物品可以有一种方式拼出重量 0</li>
<li><code>f[0][1 .. M] = 0</code> : 0 个物品不能拼出大于 0 的重量</li>
</ul>
</li>
<li>
<p>边界情况：</p>
<ul>
<li><code>f[i - 1][w - A_{i - 1}]</code>只能在<code>w &gt;= A_{i - 1}</code>时使用</li>
</ul>
</li>
</ul>
<h5>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-13"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-13" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>初始化<code>f[0][0], f[0][1], ..., f[0][Target]</code></li>
<li>计算前 1 个物品有多少种方式拼出重量：<code>f[1][0], f[1][1], ..., f[1][Target]</code></li>
<li>&hellip;</li>
<li>计算前 N 个物品有多少种方式拼出重量：<code>f[N][0], f[N][1], ..., f[N][Target]</code></li>
<li>答案是<code>f[N][Target]</code></li>
<li>时间复杂度（计算步数）：<code>O(N * Target)</code></li>
<li>空间复杂度（数组大小）：滚动数组优化后可以达到<code>O(Target)</code></li>
</ul>
<h5>Official Solution<span class="absolute -mt-20" id="official-solution-5"></span>
    <a href="#official-solution-5" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-58"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">backPackV</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">w</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// initialization
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// first i items
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">w</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">w</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// case 1: not using item_{i - 1}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">w</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// case 2: using item_{i - 1}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">w</span> <span class="o">&gt;=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">+</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">w</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-58"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h5>进一步空间优化<span class="absolute -mt-20" id="进一步空间优化"></span>
    <a href="#%e8%bf%9b%e4%b8%80%e6%ad%a5%e7%a9%ba%e9%97%b4%e4%bc%98%e5%8c%96" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li><code>f[i][w] = f[i - 1][w] + f[i - 1][w - A_{i - 1}]</code></li>
<li>可以只开<strong>一个数组</strong></li>
<li>按照<code>f[i][Target], ..., f[i][0]</code>的顺序更新</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-59"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">backPackV</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">w</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// initialization
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// first i items
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">w</span> <span class="o">=</span> <span class="n">m</span><span class="p">;</span> <span class="n">w</span> <span class="o">&gt;=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span> <span class="o">--</span><span class="n">w</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// w doesn&#39;t have to be 0 here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="o">+=</span> <span class="n">f</span><span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]];</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-59"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h5>My Correct Solution<span class="absolute -mt-20" id="my-correct-solution"></span>
    <a href="#my-correct-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-60"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">backPackV</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">target</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">target</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">target</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-60"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Exercise: Lintcode 564 BackPack IV (组合总和 IV)<span class="absolute -mt-20" id="exercise-lintcode-564-backpack-iv-组合总和-iv"></span>
    <a href="#exercise-lintcode-564-backpack-iv-%e7%bb%84%e5%90%88%e6%80%bb%e5%92%8c-iv" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p><a href="https://www.lintcode.com/problem/564/" target="_blank" rel="noopener">Lintcode 564 Backpack IV (组合总和 IV)</a></p>
</li>
<li>
<p>类似于最前面的<strong>Coin Change</strong></p>
</li>
<li>
<p>区别于<strong>BackpackV</strong>:</p>
<ul>
<li>Here: [5, 1, 1], [1, 1, 5] 为两种不同的方案</li>
<li><strong>BackpackV</strong>: [5, 1, 1], [1, 1, 5] 只能存在一种</li>
</ul>
</li>
<li>
<p>最后一步：背包里最后一个物品的重量是多少</p>
</li>
<li>
<p><code>f[i] = </code>有多少种组合能拼出<strong>重量<code>i</code></strong></p>
</li>
<li>
<p><code>f[i] = f[i - A_{0}] + f[i - A_{1}] + ... + f[i - A_{N - 1}]</code></p>
</li>
</ul>
<h5>题目分析<span class="absolute -mt-20" id="题目分析-6"></span>
    <a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-6" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>和<strong>BackpackV</strong>唯一区别：组合中数字可以按不同的顺序，比如1 + 1 + 2与1 + 2 + 1算两种组合</li>
<li>不能先处理第一个物品，再处理第二个物品</li>
<li>似乎是更难的背包问题</li>
<li>其实更简单</li>
</ul>
<h5>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-13"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-13" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>关注最后一步：最后一个物品的重量是多少</li>
</ul>
<ul>
<li>关键点1: 任何一个正确的组合中，所有物品总重量是<code>Target</code></li>
<li>关键点2: 如果最后一个物品重量是<code>K</code>，则前面的物品重量是<code>Target - K</code></li>
</ul>
<ul>
<li>如果最后一个物品重量是<code>A_{0}</code>，则要求有多少种组合能拼成<code>Target - A_{0}</code></li>
<li>如果最后一个物品重量是<code>A_{1}</code>，则要求有多少种组合能拼成<code>Target - A_{1}</code></li>
<li>&hellip;</li>
<li>如果最后一个物品重量是<code>A_{N - 1}</code>，则要求有多少种组合能拼成<code>Target - A_{N - 1}</code></li>
</ul>
<h5>子问题<span class="absolute -mt-20" id="子问题-11"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-11" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>原问题要求 有多少种组合能拼成<code>Target</code></li>
<li>子问题</li>
<li>设<code>f[i] = </code>有多少种组合能拼出重量<code>i</code></li>
</ul>
<h5>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-14"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-14" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i] = </code>有多少种组合能拼出重量<code>i</code>
<ul>
<li><code>f[i] = f[i - A_{0}] + f[i - A_{1}] + ... + f[i - A_{N - 1}]</code></li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/16.11.png" alt="images/16.11" loading="lazy" /></p>
<h5>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-14"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-14" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p><code>f[i] = f[i - A_{0}] + f[i - A_{1}] + ... + f[i - A_{N - 1}]</code></p>
</li>
<li>
<p>出事条件：</p>
</li>
<li>
<p><code>f[0] = 1</code></p>
<ul>
<li>有<code>1</code>种组合能拼出重量<code>0</code>（什么都不选）</li>
</ul>
</li>
<li>
<p>边界情况：</p>
</li>
<li>
<p>如果<code>i &lt; A_{j}</code>，则对应的<code>f[i - A_{j}]</code>不加入<code>f[i]</code></p>
<ul>
<li><code>A_{0} = 1, A_{1} = 2, A_{2} = 4</code></li>
<li><code>f[3] = f[3 - A_{0}] + f[3 - A_{1}]</code></li>
</ul>
</li>
</ul>
<h5>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-14"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-14" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i] = </code>有多少种组合能拼出重量<code>i</code>
<ul>
<li><code>f[i] = f[i - A_{0}] + f[i - A_{1}] + ... + f[i - A_{N - 1}]</code></li>
</ul>
</li>
<li><code>f[0] = 1</code></li>
<li>计算<code>f[1], f[2], ..., f[Target]</code></li>
<li>结果为<code>f[Target]</code></li>
<li>时间复杂度（计算步数）：<code>O(N * Target)</code></li>
<li>空间复杂度：<code>O(Target)</code></li>
</ul>
<h5>Offical Solution<span class="absolute -mt-20" id="offical-solution"></span>
    <a href="#offical-solution" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-61"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">backPackVI</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// how many ways can we make weight
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// last item A[j]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-61"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Summary<span class="absolute -mt-20" id="summary-2"></span>
    <a href="#summary-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p>划分型动态规划</p>
<ul>
<li>如果不需要段数，<code>f[i]</code>: 前<code>i</code>个元素分段的最优值，方案数，可行性</li>
<li>如果需要段数，<code>f[i][k]</code></li>
</ul>
</li>
<li>
<p>博弈型动态规划</p>
<ul>
<li>必胜 vs 必败</li>
<li>只考虑先手</li>
<li>当前状态必胜，说明当前状态至少有一种状态 可以走到 必败</li>
<li>当前状态必败，说明不管怎么走都到 必胜的局面</li>
</ul>
</li>
<li>
<p>背包型动态规划</p>
<ul>
<li>黄金定律：背包的总承重一定要放在状态里</li>
</ul>
</li>
</ul>
<h4>Exercise: Single Choice<span class="absolute -mt-20" id="exercise-single-choice"></span>
    <a href="#exercise-single-choice" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>
    <img src="../images_dp/16.6.png" alt="images/16.6" loading="lazy" />

    <img src="../images_dp/16.7.png" alt="images/16.7" loading="lazy" />

    <img src="../images_dp/16.8.png" alt="images/16.8" loading="lazy" />

    <img src="../images_dp/16.9.png" alt="images/16.9" loading="lazy" />

    <img src="../images_dp/16.10.png" alt="images/16.10" loading="lazy" /></p>
<h2>Chapter 17: 背包型 和 区间型 动态规划<span class="absolute -mt-20" id="chapter-17-背包型-和-区间型-动态规划"></span>
    <a href="#chapter-17-%e8%83%8c%e5%8c%85%e5%9e%8b-%e5%92%8c-%e5%8c%ba%e9%97%b4%e5%9e%8b-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><h3>01 backpack<span class="absolute -mt-20" id="01-backpack"></span>
    <a href="#01-backpack" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/125/" target="_blank" rel="noopener">Lintcode 125 Backpack II</a></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-62"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">backPackII</span><span class="p">(</span><span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">V</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">V</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-62"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>打印路径<span class="absolute -mt-20" id="打印路径"></span>
    <a href="#%e6%89%93%e5%8d%b0%e8%b7%af%e5%be%84" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-63"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">backPackII</span><span class="p">(</span><span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">V</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// pi has the same size with dp
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">pi</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">V</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// keep tracking whether we choose the item
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="k">if</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">V</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">pi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// print path
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">selected</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">weight</span> <span class="o">=</span> <span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">pi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">weight</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">selected</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">weight</span> <span class="o">-=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">selected</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">selected</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;i: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;A[i]: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;V[i]: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">V</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-63"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>complete backpack<span class="absolute -mt-20" id="complete-backpack"></span>
    <a href="#complete-backpack" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/440/" target="_blank" rel="noopener">Lintcode 440 backpack III</a></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-64"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">backPackIII</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">V</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">AA</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">VV</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">AA</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-64"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<ol>
<li>Convert to 01backpack</li>
<li>Two dimentional matrix</li>
<li>One dimentinoal array</li>
</ol>
<h3>multiple backpack<span class="absolute -mt-20" id="multiple-backpack"></span>
    <a href="#multiple-backpack" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>Convert the problem to 01-backpack</li>
</ul>
<h3>区间型动态规划<span class="absolute -mt-20" id="区间型动态规划"></span>
    <a href="#%e5%8c%ba%e9%97%b4%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>给定一个序列/字符串，进行一些操作</li>
<li>最后一步会将序列/字符串 去头/去尾</li>
<li>剩下的会是一个区间<code>[i, j]</code></li>
<li>状态自然定义为<code>f[i][j]</code>，表示面对子序列<code>[i, ..., j]</code>时的最优性质</li>
</ul>
<h4>Example: Lintcode 667 Longest Palindrome Subsequence<span class="absolute -mt-20" id="example-lintcode-667-longest-palindrome-subsequence"></span>
    <a href="#example-lintcode-667-longest-palindrome-subsequence" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><a href="https://www.lintcode.com/problem/667/" target="_blank" rel="noopener">Lintcode 667 Longest Palindrome Subsequence</a></li>
</ul>
<h5>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-14"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-14" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p>最优策略产生最长的回文子序列<code>T</code>，长度是<code>M</code></p>
</li>
<li>
<p>情况1: 回文串长度是1，即一个字母</p>
</li>
<li>
<p>情况2: 回文串长度大于1，那么必定有<code>T[0] = T[M - 1]</code></p>
</li>
<li>
<p>设<code>T[0]</code>是<code>S[i]</code>，<code>T[M - 1]</code>是<code>S[j]</code></p>
</li>
<li>
<p><code>T</code>剩下的部分<code>T[1 ... M - 2]</code>仍然是一个回文串，而且是<code>S[i + 1 ... j - 1]</code>的<strong>最长回文子序列</strong></p>
</li>
</ul>
<h5>子问题<span class="absolute -mt-20" id="子问题-12"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-12" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>要求<code>S[i ... j]</code>的最长回文子序列</li>
<li>如果<code>S[i] = S[j]</code>，需要知道<code>S[i + 1 ... j - 1]</code>的最长回文子序列</li>
<li>否则答案是<code>S[i + 1 .. j]</code>的最长回文子序列 或 <code>S[i ... j - 1]</code>的最长回文子序列</li>
<li>子问题</li>
<li>状态：设<code>f[i][j]</code>为<code>S[i ... j]</code>的最长回文子序列的长度</li>
</ul>
<h5>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-15"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-15" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i][j]</code>为<code>S[i ... j]</code>的最长回文子序列的长度
<ul>
<li><code>f[i][j] = max(f[i + 1][j], f[i][j - 1], f[i + 1][j - 1] + 2 | S[i] == S[j])</code></li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/17.1.png" alt="images/17.1" loading="lazy" /></p>
<h5>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-15"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-15" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p>设<code>f[i][j]</code>为<code>S[i ... j]</code>的最长回文子序列的长度</p>
<ul>
<li><code>f[i][j] = max(f[i + 1][j], f[i][j - 1], f[i + 1][j - 1] + 2 | S[i] == S[j])</code></li>
</ul>
</li>
<li>
<p>初始条件：</p>
<ul>
<li><code>f[0][0] = f[1][1] = ... = f[N - 1][N - 1] = 1</code>
<ul>
<li>一个字母也是一个长度为1的回文串</li>
</ul>
</li>
<li>如果<code>S[i] == S[i + 1], f[i][i + 1] = 2</code>(即相邻)</li>
<li>如果<code>S[i] != S[i + 1], f[i][i + 1] = 1</code>(即相邻)</li>
</ul>
</li>
</ul>
<h5>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-15"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-15" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i][j]</code>为<code>S[i ... j]</code>的最长回文子序列的长度
<ul>
<li><code>f[i][j] = max(f[i + 1][j], f[i][j - 1], f[i + 1][j - 1] + 2 | S[i] == S[j])</code></li>
</ul>
</li>
<li>不能按照<code>i</code>的顺序去算</li>
<li>区间动态规划：<strong>按照长度<code>j - i</code>从小到大的顺序去算</strong>
<ul>
<li>即<code>for</code>循环那个长度，不能循环<code>i</code>或<code>j</code></li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/17.2.png" alt="images 17.2" loading="lazy" /></p>
<ul>
<li>长度 1 ：<code>f[0][0], f[1][1], f[2][2], ..., f[N - 1][N - 1]</code></li>
<li>长度 2 ：<code>f[0][1], ..., f[N - 2][N - 1]</code></li>
<li>&hellip;</li>
<li>长度 N ：<code>f[0][N - 1]</code></li>
<li>答案是<code>f[0][N - 1]</code></li>
<li>时间复杂度<code>O(N^2)</code></li>
<li>空间复杂度<code>O(N^2)</code></li>
</ul>
<h5>Official Solution<span class="absolute -mt-20" id="official-solution-6"></span>
    <a href="#official-solution-6" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-65"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">longestPalindromeSubseq</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">S</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">S</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">len</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// case 1: len == 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// case 2: len == 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">S</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">len</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">len</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">len</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// [i .. i + len - 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// i + len - 1 &lt; n ==&gt; i &lt; n - len + 1 ==&gt; i &lt;= n - len
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// i 是起点
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// j 是终点
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// S[i .. j], length is len
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// 三种情况：
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">S</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-65"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<blockquote>
<p>区间动态规划的初始化和计算顺序都是基于区间长度</p>
</blockquote>
<h4>记忆化搜索方法<span class="absolute -mt-20" id="记忆化搜索方法"></span>
    <a href="#%e8%ae%b0%e5%bf%86%e5%8c%96%e6%90%9c%e7%b4%a2%e6%96%b9%e6%b3%95" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>一种写程序的方法，不是新的算法</li>
<li>动态规划编程的另一个选择</li>
<li><code>f[i][j] = max(f[i + 1][j], f[i][j - 1], f[i + 1][j - 1] + 2 | S[i] == S[j])</code></li>
<li>计算<code>f[0][N - 1]</code></li>
<li><strong>递归计算</strong><code>f[1][N - 1], f[0, N - 2], f[1][N - 2]</code></li>
<li><strong>记忆化</strong>：计算<code>f[i][j]</code>结束后，将结果保存在数组<code>f[i][j]</code>里，下次如果需要再次计算<code>f[i][j]</code>，直接返回<code>f[i][j]</code></li>
</ul>
<ul>
<li>两种解决动态规划的思路:
<ul>
<li>top-down 记忆化搜索</li>
<li>bottom-up 递推 recurrence</li>
</ul>
</li>
</ul>
<blockquote>
<p>任何动态规划的题 既可以用 <strong>记忆化搜索</strong> 又可以用 <strong>递推</strong></p>
</blockquote>
<h5>与递推方法比较<span class="absolute -mt-20" id="与递推方法比较"></span>
    <a href="#%e4%b8%8e%e9%80%92%e6%8e%a8%e6%96%b9%e6%b3%95%e6%af%94%e8%be%83" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>递推方法 自下而上（从简单到复杂）：<code>f[0], f[1], ..., f[N]</code></li>
<li>记忆化方法 自上而下（从复杂到简单）：<code>f[N], f[N - 1], ...</code></li>
<li>记忆化搜索编写一般比较简单</li>
<li>递推方法在某些条件下可以做空间优化，记忆化搜索则必须存储所有<code>f</code>值</li>
</ul>
<h5>Coding with Template (important)<span class="absolute -mt-20" id="coding-with-template-important"></span>
    <a href="#coding-with-template-important" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-66"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">longestPalindromeSubseq</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">ss</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="o">=</span> <span class="n">ss</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// important1: clear memory
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// f[i][j] has not been computed yet
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">calc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">void</span> <span class="n">calc</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// compute f[i][j]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// important2: 递归里的第一句话就要写上: if f[i][j] has been computed, return directly
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// simple case: caculate directly: length is 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// simple case: caculate directly: length is 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">==</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// important3: 先在这里递归
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">calc</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span> <span class="c1">// f[i + 1][j] is computed
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">calc</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">calc</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// we need to do recursion, so we need some global variable
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-66"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Example: Lintcode 396 Coins in A Line III （区间型动态规划—博弈问题）<span class="absolute -mt-20" id="example-lintcode-396-coins-in-a-line-iii-区间型动态规划博弈问题"></span>
    <a href="#example-lintcode-396-coins-in-a-line-iii-%e5%8c%ba%e9%97%b4%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%8d%9a%e5%bc%88%e9%97%ae%e9%a2%98" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><a href="https://www.lintcode.com/problem/396/" target="_blank" rel="noopener">Lintcode 396 Coins in A Line III</a></li>
</ul>
<h5>博弈<span class="absolute -mt-20" id="博弈"></span>
    <a href="#%e5%8d%9a%e5%bc%88" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>这道题是一道博弈题，目标是让自己拿到的数字之和不比对手小</li>
<li>设己方数字和是<code>A</code>，对手数字和是<code>B</code>，即目标是<code>A &gt;= B</code></li>
<li>等价于<code>A - B &gt;= 0</code></li>
<li>也就是说，如果Alice和Bob都存着<strong>自己的数字和与对手的数字和之差</strong>，分别记为<code>S_A = A - B</code>，<code>S_B = B - A</code></li>
<li>则Alice的目标是最大化<code>S_A</code>，Bob的目标是最大化<code>S_B</code></li>
<li>当一方<code>X</code>面对剩下的数字，可以认为<code>X</code>就是<strong>当前的先手</strong>，他的目标就是最大化<code>S_X = X - Y</code></li>
<li>当他取走一个数字<code>m</code>后，对手<code>Y</code><strong>变成先手</strong>，同理他也要最大化<code>S_Y = Y - X</code></li>
</ul>
<p>
    <img src="../images_dp/17.3.png" alt="images 17.3" loading="lazy" /></p>
<ul>
<li>important: 对于<code>X</code>来说，<strong><code>S_X = - S_Y + m</code></strong></li>
<li>其中，<code>m</code>是当前这步的数字，<code>-S_Y</code>是对手看来的数字差取相反数（因为先手是<code>X</code>）</li>
<li>现在<code>X</code>有两种选择，取第一个数字<code>m_1</code>或最后一个数字<code>m_2</code>，为了最大化<code>S_X</code>，应该选择较大的那个<code>S_X</code></li>
</ul>
<h5>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-15"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-15" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p>如果Alice第一步取走<code>a[0]</code>，Bob面对<code>a[1 .. N - 1]</code></p>
</li>
<li>
<p>Bob的最大数字差是<code>S_Y</code></p>
</li>
<li>
<p>Alice的数字差是<code>a[0] - S_Y</code></p>
</li>
<li>
<p>如果Alice第一步取走<code>a[N - 1]</code>，Bob面对<code>a[0 .. N - 2]</code></p>
</li>
<li>
<p>Bob的最大数字差是<code>S_Y_prime</code></p>
</li>
<li>
<p>Alice的数字差是<code>a[N - 1] - S_Y_prime</code></p>
</li>
<li>
<p>Alice 选择较大的数字差</p>
</li>
</ul>
<h5>博弈子问题<span class="absolute -mt-20" id="博弈子问题"></span>
    <a href="#%e5%8d%9a%e5%bc%88%e5%ad%90%e9%97%ae%e9%a2%98" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>当Bob面对<code>a[1 .. N - 1]</code>，<strong>他这时是先手</strong></li>
<li>他的目标同样是最大化先手（自己）和后手（Alice）的数字差</li>
<li>但是此时的数字少了一个：<code>a[1 .. N - 1]</code></li>
<li>子问题</li>
<li>状态：设<code>f[i][j]</code>为一方先手在面对<code>a[i .. j]</code>这些数字时，能得到的最大的与对手的数字差</li>
</ul>
<h5>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-16"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-16" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i][j]</code>为一方先手在面对<code>a[i .. j]</code>这些数字时，能得到的最大的与对手的数字差
<ul>
<li><code>f[i][j] = std::max(a[i] - f[i + 1][j], a[j] - f[i][j - 1])</code></li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/17.4.png" alt="images 17.4" loading="lazy" /></p>
<h5>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-16"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-16" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i][j]</code>为一方先手在面对<code>a[i .. j]</code>这些数字时，能得到的最大的与对手的数字差
<ul>
<li><code>f[i][j] = std::max(a[i] - f[i + 1][j], a[j] - f[i][j - 1])</code></li>
</ul>
</li>
<li>只有一个数字<code>a[i]</code>时，己方得<code>a[i]</code>分，对手<code>0</code>分，数字差为<code>a[i]</code>
<ul>
<li><code>f[i][i] = a[i] (i = 0, 1, ..., N - 1)</code></li>
</ul>
</li>
</ul>
<h5>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-16"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-16" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>长度1: <code>f[0][0], f[1][1], f[2][2], ..., f[N - 1][N - 1]</code></li>
<li>长度2: <code>f[0][1], ..., f[N - 2][N - 1]</code></li>
<li>&hellip;</li>
<li>长度N: <code>f[0][N - 1]</code></li>
<li>如果<code>f[0][N - 1] &gt;= 0</code>，先手Alice必赢，否则必输</li>
<li>时间复杂度<code>O(N^2)</code></li>
<li>空间复杂度<code>O(N^2)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-67"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// 博弈型与区间型的结合类问题
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">firstWillWin</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">values</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">values</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">len</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// len == 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">len</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">len</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">len</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// A[i ... j]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">values</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-67"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Example: Lintcode 430 Scramble String<span class="absolute -mt-20" id="example-lintcode-430-scramble-string"></span>
    <a href="#example-lintcode-430-scramble-string" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p><a href="https://www.lintcode.com/problem/430/" target="_blank" rel="noopener">Lintcode 430 Scramble String</a></p>
</li>
<li>
<p>区间有两种获得方式：</p>
<ol>
<li>去头去尾</li>
<li>二分，中间劈一刀，像这道题</li>
</ol>
</li>
</ul>
<h5>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-16"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-16" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>显然，<code>T</code>如果长度和<code>S</code>不一样，那么肯定不能由<code>S</code>变换而来</li>
<li>如果<code>T</code>是<code>S</code>变换而来的，并且我们知道<code>S</code>最上层二分被分成<code>S = S_1 S_2</code>，那么一定有：
<ul>
<li><code>T</code>也有两部分<code>T = T_1 T_2</code>，<code>T_1</code>是<code>S_1</code>变换而来的，<code>T_2</code>是<code>S_2</code>变换而来的</li>
<li><code>T</code>也有两部分<code>T = T_1 T_2</code>，<code>T_1</code>是<code>S_2</code>变换而来的，<code>T_2</code>是<code>S_1</code>变换而来的</li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/17.5.png" alt="images 17.5" loading="lazy" /></p>
<h5>子问题<span class="absolute -mt-20" id="子问题-13"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-13" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>要求<code>T</code>是否由<code>S</code>变换而来</li>
<li>需要知道<code>T_1</code>是否由<code>S_1</code>变换而来的，<code>T_2</code>是否由<code>S_2</code>变换而来</li>
<li>需要知道<code>T_1</code>是否由<code>S_2</code>变换而来的，<code>T_2</code>是否由<code>S_1</code>变换而来</li>
<li><code>S_1, S_2, T_1, T_2</code>长度更短</li>
<li>子问题</li>
<li>状态：<code>f[i][j][k][h]</code>表示<code>T[k .. h]</code>是否由<code>S[i .. j]</code>变换而来</li>
</ul>
<h5>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-17"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-17" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>这里所有串都是<code>S</code>和<code>T</code>的子串，且长度<strong>一样</strong></li>
<li>所以每个串都可以用**（起始位置， 长度）**表示</li>
<li>例如：
<ul>
<li><code>S_1</code>长度是5，在<code>S</code>中位置7开始</li>
<li><code>T_1</code>长度是5，在<code>T</code>中位置0开始</li>
<li>可以用<code>f[7][0][5] = True/False</code>表示<code>S_1</code>能否通过变换成为<code>T_1</code></li>
</ul>
</li>
<li>状态：设<code>f[i][j][k]</code>表示<code>S_1</code>能否通过变换成为<code>T_1</code>
<ul>
<li><code>S_1</code>为<code>S</code>从字符<code>i</code>开始的长度为<code>k</code>的子串</li>
<li><code>T_1</code>为<code>T</code>从字符<code>j</code>开始的长度为<code>k</code>的子串</li>
</ul>
</li>
</ul>
<h5>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-17"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-17" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>状态：设<code>f[i][j][k]</code>表示<code>S_1</code>能否通过变换成为<code>T_1</code>
<ul>
<li><code>S_1</code>为<code>S</code>从字符<code>i</code>开始的长度为<code>k</code>的子串</li>
<li><code>T_1</code>为<code>T</code>从字符<code>j</code>开始的长度为<code>k</code>的子串</li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/17.6.png" alt="images 17.6" loading="lazy" /></p>
<h5>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-17"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-17" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p>状态：设<code>f[i][j][k]</code>表示<code>S_1</code>能否通过变换成为<code>T_1</code></p>
<ul>
<li><code>S_1</code>为<code>S</code>从字符<code>i</code>开始的长度为<code>k</code>的子串</li>
<li><code>T_1</code>为<code>T</code>从字符<code>j</code>开始的长度为<code>k</code>的子串</li>
</ul>
</li>
<li>
<p>如果<code>S[i] = T[j], f[i][j][1] = True</code>否则<code>f[i][j][1] = False</code></p>
</li>
</ul>
<h5>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-17"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-17" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p>状态：设<code>f[i][j][k]</code>表示<code>S_1</code>能否通过变换成为<code>T_1</code></p>
<ul>
<li><code>S_1</code>为<code>S</code>从字符<code>i</code>开始的长度为<code>k</code>的子串</li>
<li><code>T_1</code>为<code>T</code>从字符<code>j</code>开始的长度为<code>k</code>的子串</li>
</ul>
</li>
<li>
<p>按照<code>k</code>从小到大的顺序去计算</p>
<ul>
<li><code>f[i][j][1], 0 &lt;= i &lt; N, 0 &lt;= j &lt; N</code></li>
<li><code>f[i][j][2], 0 &lt;= i &lt; N - 1, 0 &lt;= j &lt; N - 1</code></li>
<li>&hellip;</li>
<li><code>f[0][0][N]</code></li>
</ul>
</li>
<li>
<p>答案是<code>f[0][0][N]</code></p>
</li>
<li>
<p>时间复杂度<code>O(N^4)</code></p>
</li>
<li>
<p>空间复杂度<code>O(N^3)</code></p>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-68"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">isScramble</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">S</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">T</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">S</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="o">!=</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">n</span><span class="p">][</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">len</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// len = 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">T</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">len</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">len</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">len</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// S[i ... i+len-1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// T[j ... j+len-1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">len</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// break into S1 and S2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="c1">// S1 has length w, S2 has length len - w
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="k">for</span> <span class="p">(</span><span class="n">w</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">w</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">w</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//no swap
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">// S1--&gt;T1, S2--&gt;T2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">w</span><span class="p">][</span><span class="n">j</span> <span class="o">+</span> <span class="n">w</span><span class="p">][</span><span class="n">len</span> <span class="o">-</span> <span class="n">w</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">len</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">              <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// swap
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">// S1--&gt;T2, S2--&gt;T1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">+</span> <span class="n">len</span> <span class="o">-</span> <span class="n">w</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">w</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">len</span> <span class="o">-</span> <span class="n">w</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">len</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">              <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-68"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h5>记忆化搜索<span class="absolute -mt-20" id="记忆化搜索"></span>
    <a href="#%e8%ae%b0%e5%bf%86%e5%8c%96%e6%90%9c%e7%b4%a2" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-69"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">isScramble</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">SS</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">TT</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">S</span> <span class="o">=</span> <span class="n">SS</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">T</span> <span class="o">=</span> <span class="n">TT</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">S</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">n</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="o">!=</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">len</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">done</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">len</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">len</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// S[i ... i+len-1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// T[j ... j+len-1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">len</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// f[i][j][len] not computed yet
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">calc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">void</span> <span class="n">calc</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">len</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">w</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">len</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">T</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// break into S1 and S2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// S1 has length w, S2 has length len - w
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">w</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">w</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">w</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">//no swap
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// S1--&gt;T1, S2--&gt;T2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">calc</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">w</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">calc</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">w</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="n">w</span><span class="p">,</span> <span class="n">len</span> <span class="o">-</span> <span class="n">w</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">w</span><span class="p">][</span><span class="n">j</span> <span class="o">+</span> <span class="n">w</span><span class="p">][</span><span class="n">len</span> <span class="o">-</span> <span class="n">w</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">len</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// swap
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// S1--&gt;T2, S2--&gt;T1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">calc</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="n">len</span> <span class="o">-</span> <span class="n">w</span><span class="p">,</span> <span class="n">w</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">calc</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">w</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">len</span> <span class="o">-</span> <span class="n">w</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">+</span> <span class="n">len</span> <span class="o">-</span> <span class="n">w</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">w</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">len</span> <span class="o">-</span> <span class="n">w</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">len</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">len</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="c1">// has been computed
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;&gt;</span> <span class="n">done</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">S</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">T</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-69"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<p>
    <img src="../images_dp/17.7.png" alt="images" loading="lazy" />

    <img src="../images_dp/17.8.png" alt="images" loading="lazy" />

    <img src="../images_dp/17.9.png" alt="images" loading="lazy" />

    <img src="../images_dp/17.10.png" alt="images" loading="lazy" />

    <img src="../images_dp/17.11.png" alt="images" loading="lazy" /></p>
<h4>Example: Lintcode 168 吹气球 (消去型 &ndash;&gt; 区间型)<span class="absolute -mt-20" id="example-lintcode-168-吹气球-消去型----区间型"></span>
    <a href="#example-lintcode-168-%e5%90%b9%e6%b0%94%e7%90%83-%e6%b6%88%e5%8e%bb%e5%9e%8b----%e5%8c%ba%e9%97%b4%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p><a href="https://www.lintcode.com/problem/168/" target="_blank" rel="noopener">Lintcode 168 吹气球</a></p>
</li>
<li>
<p>消去型：一定要倒着想，不然状态过多</p>
</li>
<li>
<p>观察最后被扎破的气球，分为左右两个区间</p>
</li>
<li>
<p>设<code>f[i][j]</code>为扎破<code>i+1 ~ j-1</code>号气球，最多获得的金币数</p>
</li>
<li>
<p><code>f[i][j] = max_{i &lt; k &lt; j}(f[i][k] + f[k][j] + a[i] * a[k] * a[j])</code></p>
</li>
<li>
<p>时间复杂度<code>O(N^3)</code></p>
</li>
<li>
<p>空间复杂度<code>O(N^2)</code></p>
</li>
<li>
<p>类似题目： Lintcode 1694 Monster Hunter

    <img src="../images_dp/17.12.png" alt="images" loading="lazy" /></p>
</li>
</ul>
<h5>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-18"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-18" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>所有<code>N</code>个气球都被扎破</li>
<li>最后一步：一定有最后一个被扎破的气球，编号是<code>i</code></li>
<li>扎破<code>i</code>时，左边是气球<code>0</code>，右边是气球<code>N + 1</code>，获得金币<code>1 * a_i * 1 = a_i</code></li>
<li>此时气球<code>1 ~ i-1</code>以及<code>i+1 ~ N</code>都已经被扎破，并且已经获得对应金币</li>
</ul>
<h5>子问题<span class="absolute -mt-20" id="子问题-14"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-14" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>要求扎破<code>1 ~ N</code>号气球，最多获得的金币数</li>
<li>需要知道扎破<code>1 ~ i - 1</code>号气球，最多获得的金币数和扎破<code>i+1 ~ N</code>号气球，最多获得的金币数</li>
<li>子问题</li>
<li>状态：设<code>f[i][j]</code>为扎破<code>i+1 ~ j-1</code>号气球，最多获得的金币数</li>
</ul>
<h5>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-18"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-18" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>设<code>f[i][j]</code>为扎破<code>i+1 ~ j-1</code>号气球，最多获得的金币数
<ul>
<li><code>i</code>和<code>j</code>不能扎破</li>
</ul>
</li>
<li><code>f[i][j] = max_{i &lt; k &lt; j}(f[i][k] + f[k][j] + a[i] * a[k] * a[j])</code></li>
</ul>
<p>
    <img src="../images_dp/17.13.png" alt="images" loading="lazy" /></p>
<h5>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-18"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-18" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p>设<code>f[i][j]</code>为扎破<code>i+1 ~ j-1</code>号气球，最多获得的金币数</p>
<ul>
<li><code>i</code>和<code>j</code>不能扎破</li>
</ul>
</li>
<li>
<p><code>f[i][j] = max_{i &lt; k &lt; j}(f[i][k] + f[k][j] + a[i] * a[k] * a[j])</code></p>
</li>
<li>
<p>初始条件：<code>f[0][1] = f[1][2] = ... = f[N][N + 1] = 0</code></p>
<ul>
<li>当没有气球要扎破时，最多获得<code>0</code>枚金币</li>
</ul>
</li>
</ul>
<h5>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-18"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-18" class="subheading-anchor" aria-label="Permalink for this section"></a></h5><ul>
<li>
<p>设<code>f[i][j]</code>为扎破<code>i+1 ~ j-1</code>号气球，最多获得的金币数</p>
<ul>
<li><code>i</code>和<code>j</code>不能扎破</li>
</ul>
</li>
<li>
<p><code>f[i][j] = max_{i &lt; k &lt; j}(f[i][k] + f[k][j] + a[i] * a[k] * a[j])</code></p>
</li>
<li>
<p>区间动态规划：<strong>按照长度<code>j - i</code>从小到大的顺序去算</strong></p>
<ul>
<li><code>f[0][1], f[1][2], f[2][3], ..., f[N][N + 1]</code></li>
<li><code>f[0][2], f[1][3], f[2][4], ..., f[N - 1][N + 1]</code></li>
<li>&hellip;</li>
<li><code>f[0][N + 1]</code></li>
</ul>
</li>
<li>
<p>时间复杂度<code>O(N^3) </code></p>
</li>
<li>
<p>空间复杂度<code>O(N^2)</code></p>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-70"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">maxCoins</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">AA</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">AA</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">len</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">A</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">2</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">AA</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">n</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// AA: 3 2 8 7 9
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// A: 1 3 2 8 7 9 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">len</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">len</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">len</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// i ... k ... j
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">j</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="n">f</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">A</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">*</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span> <span class="c1">// n here has added 2 before
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-70"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Summary<span class="absolute -mt-20" id="summary-3"></span>
    <a href="#summary-3" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>区间型动态规划
<ul>
<li>状态用区间左右端点：<code>f[i][j]</code></li>
<li>有时需要逆向思考，从最后一个操作开始考虑，分成左右两个独立的空间</li>
</ul>
</li>
<li>如何发现是否是区间型动态规划
<ol>
<li>去头去尾</li>
<li>二分: Scramble String</li>
<li>消去型，其实也是二分，但是<strong>一定要倒着想</strong></li>
</ol>
</li>
</ul>
<h2>Chapter 18: 石头碰撞：背包型<span class="absolute -mt-20" id="chapter-18-石头碰撞背包型"></span>
    <a href="#chapter-18-%e7%9f%b3%e5%a4%b4%e7%a2%b0%e6%92%9e%e8%83%8c%e5%8c%85%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>
<p><a href="https://www.lintcode.com/problem/724/" target="_blank" rel="noopener">Lintcode 724 最小划分</a></p>
</li>
<li>
<p>分析也许和coding不一致，只能做参考</p>
<ul>
<li>使用<code>i</code>循环从<code>1</code>到<strong>石头总和 / 2</strong>大小的背包</li>
<li><code>dp[j]</code>代表将容量为<code>j</code>的01背包装满是否可行，如果可行，<code>|sum - j - j|</code>即为目前的碰撞结果</li>
<li>每装满一个大小为<code>x</code>的01背包，都要维护<code>|sum - 2x|</code>的最小值</li>
</ul>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-71"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">findMin</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="n">sum</span> <span class="o">+=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="o">--</span><span class="n">j</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">?</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">:</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">sum</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">dp</span><span class="p">[</span><span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-71"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 19: 合并金币：区间型<span class="absolute -mt-20" id="chapter-19-合并金币区间型"></span>
    <a href="#chapter-19-%e5%90%88%e5%b9%b6%e9%87%91%e5%b8%81%e5%8c%ba%e9%97%b4%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>
<p><a href="https://www.lintcode.com/problem/476/" target="_blank" rel="noopener">Lintcode 476 石子合并</a></p>
</li>
<li>
<p>这道题是一道区间dp的入门题，通过理解状态转移的过程，决定循环的要素。在这题里，我们需要先枚举区间长度，再枚举起点。这就是区间dp的精髓。让我们一起来亲手做一下这道题目吧~</p>
</li>
<li>
<p>我们令<code>dp[i][j]</code>为从 第<code>i</code>堆金币到第<code>j</code>堆金币所需的最小代价</p>
</li>
<li>
<p>区间<code>[i, j]</code>可以从以任意的<code>i &lt;= k &lt; j</code>为分割点所得的两个子区间得来</p>
</li>
<li>
<p><code>dp[i][j] = min(dp[i][j], dp[i][k] + dp[k + 1][j] + sum[i][j])</code></p>
</li>
<li>
<p><code>sum[i][j]</code>表示区间<code>[i, j]</code>的数字和，可以使用前缀和来维护</p>
</li>
</ul>
<ul>
<li>区间DP通用思路：
<ul>
<li>目标是求解在一个区间上的最优解，那么我把这个区间分割成一个个小区间，求解每个小区间的最优解，再合并小区间得到大区间即可</li>
</ul>
</li>
</ul>
<ul>
<li>本题思路：
<ul>
<li>枚举区间长度 len 为每次分割成的小区间长度（由短到长不断合并），内层枚举该长度下的可能起点，并按照 len 计算终点。然后在这个起点终点之间枚举分割点 k ，求解这段以 i 为起点。长度为 len 的小区间在某个 k 的最优解。</li>
</ul>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-72"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">stoneGame</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">sum</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// prefix sum
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">sum</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">len</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">len</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">least_sum</span> <span class="o">=</span> <span class="n">sum</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">sum</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">j</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// 当前区间由子区间得到
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">least_sum</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-72"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<ul>
<li><a href="https://www.lintcode.com/problem/593/" target="_blank" rel="noopener">Lintcode 593 Stone Game II</a></li>
<li><a href="https://www.lintcode.com/problem/168/" target="_blank" rel="noopener">Lintcode 168 Burst Ballon</a></li>
</ul>
<h2>Chapter 20: 外卖满减：01背包<span class="absolute -mt-20" id="chapter-20-外卖满减01背包"></span>
    <a href="#chapter-20-%e5%a4%96%e5%8d%96%e6%bb%a1%e5%87%8f01%e8%83%8c%e5%8c%85" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><p>
    <img src="../images_dp/20.1.png" alt="images" loading="lazy" /></p>
<ul>
<li>输入&amp;输出</li>
<li>输入：5 20 [18, 19, 17, 6, 7]</li>
<li>输出：23</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-73"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">vector</span> <span class="n">minimumPrice</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">X</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">price</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">total_price</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">total_price</span> <span class="o">+=</span> <span class="n">price</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 转化为容量为 total_price 的 01背包
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// dp[i] 为 true 表示可以选择总价恰好为 i 的物品
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">total_price</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">total_price</span><span class="p">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="n">price</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="o">--</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">|=</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="n">price</span><span class="p">[</span><span class="n">i</span><span class="p">]];</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 找到 &gt;= X 的最小价格
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">X</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">total_price</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-73"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Exercise Lintcode 92 backpack<span class="absolute -mt-20" id="exercise-lintcode-92-backpack"></span>
    <a href="#exercise-lintcode-92-backpack" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/92/" target="_blank" rel="noopener">Lintcode 92 Backpack</a></li>
</ul>
<h3>Exercise Lintcode 125 backpack II<span class="absolute -mt-20" id="exercise-lintcode-125-backpack-ii"></span>
    <a href="#exercise-lintcode-125-backpack-ii" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/125/" target="_blank" rel="noopener">Lintcode 125 Backpack</a></li>
</ul>
<h3>Exercise Lintcode 563 backpack V<span class="absolute -mt-20" id="exercise-lintcode-563-backpack-v"></span>
    <a href="#exercise-lintcode-563-backpack-v" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/563/" target="_blank" rel="noopener">Lintcode 563 Backpack</a></li>
</ul>
<h2>Chapter 21: 考试策略：0/0.5/1背包<span class="absolute -mt-20" id="chapter-21-考试策略0051背包"></span>
    <a href="#chapter-21-%e8%80%83%e8%af%95%e7%ad%96%e7%95%a50051%e8%83%8c%e5%8c%85" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>
<p><a href="https://www.lintcode.com/problem/273/" target="_blank" rel="noopener">Lintcode 273 考试策略</a></p>
</li>
<li>
<p>做一部分：(满足<code>p[i - 1] &lt;= j</code>): <code>part = dp[i - 1][j - p_time[i - 1]] + p_score[i - 1]</code></p>
</li>
<li>
<p>全做完：(满足<code>f[i - 1] &lt;= j</code>): <code>full = dp[i - 1][j - f_time[i - 1]] + f_score[i - 1]</code></p>
</li>
<li>
<p><code>dp[i][j]= max(part, full, dp[i - 1][j])</code></p>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-74"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">exam</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">p</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">part</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">f</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">full</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">120</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">part</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">full</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-74"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-75"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// 滚动数组优化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">exam</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">p</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">part</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">f</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">full</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">120</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">dp</span><span class="p">[(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">part</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">dp</span><span class="p">[(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">full</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">%</span> <span class="mi">2</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-75"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Exercise Lintcode 1538 卡牌游戏 II<span class="absolute -mt-20" id="exercise-lintcode-1538-卡牌游戏-ii"></span>
    <a href="#exercise-lintcode-1538-%e5%8d%a1%e7%89%8c%e6%b8%b8%e6%88%8f-ii" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/1538/" target="_blank" rel="noopener">Lintcode 1538 卡牌游戏 II</a></li>
</ul>
<h3>Exercise Lintcode 700 杆子分割<span class="absolute -mt-20" id="exercise-lintcode-700-杆子分割"></span>
    <a href="#exercise-lintcode-700-%e6%9d%86%e5%ad%90%e5%88%86%e5%89%b2" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/700/" target="_blank" rel="noopener">Lintcode 700 杆子分割</a></li>
</ul>
<h2>Chapter 22: 双序列动态规划<span class="absolute -mt-20" id="chapter-22-双序列动态规划"></span>
    <a href="#chapter-22-%e5%8f%8c%e5%ba%8f%e5%88%97%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>顾名思义，有两个序列/字符串，需要进行一些操作</li>
<li>每个序列本身是一维的</li>
<li>可以转化为二维动态规划</li>
</ul>
<h3>Example: Lintcode 77 最长公共子序列<span class="absolute -mt-20" id="example-lintcode-77-最长公共子序列"></span>
    <a href="#example-lintcode-77-%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/77/" target="_blank" rel="noopener">Lintcode 77 最长公共子序列</a></li>
</ul>
<h4>题目分析<span class="absolute -mt-20" id="题目分析-7"></span>
    <a href="#%e9%a2%98%e7%9b%ae%e5%88%86%e6%9e%90-7" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>公共子序列一定是对应的字符按顺序都相等</li>
<li>找到最长的对应对子，且对子连线不能相交</li>
</ul>
<p>
    <img src="../images_dp/22.1.png" alt="images 22.1" loading="lazy" /></p>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-19"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-19" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>设<code>A</code>长度是<code>m</code>，<code>B</code>长度是<code>n</code></p>
</li>
<li>
<p>现在我们考虑最优策略产生出的最长公共子序列（虽然还不知道是什么）</p>
</li>
<li>
<p>最后一步：观察<code>A[m - 1]</code>和<code>B[n - 1]</code>这两个字符是否作为一个对子在最优策略中</p>
</li>
<li>
<p>最长公共子序列也是公共子序列：长度是<code>L</code> -&gt; 选定了<code>L</code>个对应的<strong>对子</strong>
<strong>最长公共子序列</strong>
<strong>情况一：对子中没有A[m - 1]</strong>
<strong>推论：A和B的最长公共子序列就是 A 前 m - 1 个字符和 B 前 n 个字符的最长公共子序列</strong>

    <img src="../images_dp/22.2.png" alt="images 22.2" loading="lazy" /></p>
</li>
</ul>
<p><strong>情况二：对子中没有B[n - 1]</strong>
<strong>推论：A和B的最长公共子序列就是 A 前 m 个字符和 B 前 n - 1 个字符的最长公共子序列</strong>

    <img src="../images_dp/22.3.png" alt="images 22.3" loading="lazy" /></p>
<p><strong>情况三：对子中有 A[m - 1] - B[n - 1]</strong>
<strong>推论：A和B的最长公共子序列就是 A 前 m - 1 个字符和 B 前 n - 1 个字符的最长公共子序列 + A[m - 1]</strong>

    <img src="../images_dp/22.4.png" alt="images 22.4" loading="lazy" /></p>
<h4>子问题<span class="absolute -mt-20" id="子问题-15"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-15" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>要求<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 2]</code>的最长公共子序列，<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 1]</code>的最长公共子序列和<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 2]</code>的最长公共子序列</li>
<li>原来是求<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 1]</code>的最长公共子序列</li>
<li>子问题</li>
<li>状态：设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>[0 .. j - 1]</code>的最长公共子序列的长度</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-19"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-19" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>状态：设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>[0 .. j - 1]</code>的最长公共子序列的长度</li>
<li>要求<code>f[m][n]</code></li>
<li><code>f[i][j] = max(f[i - 1][j], f[i][j - 1], f[i - 1][j - 1] + 1 | A[i - 1] == B[j - 1])</code></li>
</ul>
<p>
    <img src="../images_dp/22.5.png" alt="images 22.5" loading="lazy" /></p>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-19"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-19" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>[0 .. j - 1]</code>的最长公共子序列的长度</li>
<li>转移方程：<code>f[i][j] = max(f[i - 1][j], f[i][j - 1], f[i - 1][j - 1] + 1 | A[i - 1] == B[j - 1])</code></li>
<li>初始条件：空串和任何串的最长公共子序列长度是<code>0</code>
<ul>
<li><code>f[0][j] = 0, j = 0 .. n</code></li>
<li><code>f[i][0] = 0, i = 0 .. m</code></li>
</ul>
</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-19"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-19" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0][0], f[0][1], ..., f[0][n]</code></li>
<li><code>f[1][0], f[1][1], ..., f[1][n]</code></li>
<li>&hellip;</li>
<li><code>f[m][0], f[m][1], ..., f[m][n]</code></li>
<li>答案是<code>f[m][n]</code></li>
<li>时间复杂度（计算步数）<code>O(MN)</code></li>
<li>空间复杂度（数组大小）<code>O(MN)</code>，可以用滚动数组优化空间至<code>O(N)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-76"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">longestCommonSubsequence</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">B</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-76"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>打印最长公共子序列<span class="absolute -mt-20" id="打印最长公共子序列"></span>
    <a href="#%e6%89%93%e5%8d%b0%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-77"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">longestCommonSubsequence</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">B</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">pi</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">pi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">pi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">pi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span> <span class="n">routine</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">p</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">pi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="o">--</span><span class="n">i</span><span class="p">;</span> <span class="c1">// not using A&#39;s tail
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">pi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="o">--</span><span class="n">j</span><span class="p">;</span> <span class="c1">// not using B&#39;s tail
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">routine</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="o">--</span><span class="n">p</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="o">--</span><span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="o">--</span><span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">p</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">];</span> <span class="o">++</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">routine</span><span class="p">[</span><span class="n">p</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-77"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Example: Lintcode 29 交叉字符串<span class="absolute -mt-20" id="example-lintcode-29-交叉字符串"></span>
    <a href="#example-lintcode-29-%e4%ba%a4%e5%8f%89%e5%ad%97%e7%ac%a6%e4%b8%b2" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/29/" target="_blank" rel="noopener">Lintcode 29 交叉字符串</a></li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-20"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-20" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>首先，如果 <code>X</code>的长度 不等于 <code>A</code>的长度 + <code>B</code>的长度，直接输出 False</li>
<li>设<code>A</code>长度是<code>m</code>，<code>B</code>长度是<code>n</code>，<code>X</code>的长度是<code>m + n</code></li>
<li>最后一步：假设<code>X</code>是由<code>A</code>和<code>B</code>交错形成的，那么<code>X</code>的最后一个字符<code>X[m + n - 1]</code>
<ul>
<li>要么是<code>A[m - 1]</code>
<ul>
<li>那么<code>X[0 .. m + n - 2]</code>是由<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 1]</code>交错形成的</li>
</ul>
</li>
<li>要么是<code>B[n - 1]</code>
<ul>
<li>那么<code>X[0 .. m + n - 2]</code>是由<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 2]</code>交错形成的</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4>子问题<span class="absolute -mt-20" id="子问题-16"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-16" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>要求<code>X[0 .. m + n - 1]</code>是否由<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 1]</code>交错形成</li>
<li>需要知道<code>X[0 .. m + n - 2]</code>是否由<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 1]</code>交错形成，以及<code>X[0 .. m + n - 2]</code>是否由<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 2]</code>交错形成</li>
<li>子问题</li>
<li>状态：设<code>f[s][i][j]</code>为<code>X</code>前<code>s</code>个字符是否由<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>交错形成</li>
<li>但是<code>s = i + j</code>，所以可以简化为：设<code>f[i][j]</code>为<code>X</code>前<code>i + j</code>个字符是否由<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>交错形成</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-20"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-20" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>X</code>前<code>i + j</code>个字符是否由<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>交错形成
<ul>
<li><code>f[i][j] = (f[i - 1][j] &amp;&amp; X[i + j - 1] == A[i - 1]) || (f[i][j - 1] &amp;&amp; X[i + j - 1] == B[j - 1])</code></li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/22.6.png" alt="images 22.6" loading="lazy" /></p>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-20"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-20" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>X</code>前<code>i + j</code>个字符是否由<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>交错形成
<ul>
<li><code>f[i][j] = (f[i - 1][j] &amp;&amp; X[i + j - 1] == A[i - 1]) || (f[i][j - 1] &amp;&amp; X[i + j - 1] == B[j - 1])</code></li>
</ul>
</li>
<li>初始条件：空串由<code>A</code>的空串和<code>B</code>的空串交错形成 -&gt; <code>f[0][0] = true</code></li>
<li>边界情况：如果<code>i = 0</code>，不考虑情况一；如果<code>j = 0</code>，不考虑情况二</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-20"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-20" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0][0], f[0][1], ..., f[0][m]</code></li>
<li><code>f[1][0], f[1][1], ..., f[1][m]</code></li>
<li>&hellip;</li>
<li><code>f[n][0], f[n][1], ..., f[n][m]</code></li>
<li>答案是<code>f[n][m]</code></li>
<li>时间复杂度（计算步数）<code>O(MN)</code></li>
<li>空间复杂度（数组大小）<code>O(MN)</code>，可以用滚动数组优化空间至<code>O(N)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-78"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">isInterleave</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">B</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">X</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">X</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">!=</span> <span class="n">n</span> <span class="o">+</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">X</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">X</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-78"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>滚动数组优化<span class="absolute -mt-20" id="滚动数组优化"></span>
    <a href="#%e6%bb%9a%e5%8a%a8%e6%95%b0%e7%bb%84%e4%bc%98%e5%8c%96" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-79"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">isInterleave</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">B</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">X</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">X</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">!=</span> <span class="n">n</span> <span class="o">+</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// first
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// second
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">old</span><span class="p">,</span> <span class="n">now</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// third
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">old</span> <span class="o">=</span> <span class="n">now</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">now</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">now</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// then change all f[i] to f[now]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// change all f[i - 1] to f[old]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">X</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">X</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-79"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Example: Lintcode 119 编辑距离<span class="absolute -mt-20" id="example-lintcode-119-编辑距离"></span>
    <a href="#example-lintcode-119-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/119/" target="_blank" rel="noopener">Lintcode 119 编辑距离</a></li>
<li>最小操作次数 == 最小编辑距离</li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-21"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-21" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>设<code>A</code>长度是<code>m</code>，<code>B</code>长度是<code>n</code></p>
</li>
<li>
<p><strong>全部操作完成后<code>A</code>的长度也是<code>n</code>，并且<code>A[n - 1] = B[n - 1]</code></strong></p>
</li>
<li>
<p>于是最优策略（以及所有合法策略）最终都是让<code>A</code>的最后一个字符变成<code>B</code>的最后一个字符</p>
</li>
<li>
<p>情况一：<code>A</code>在最后插入<code>B[n - 1]</code></p>
<ul>
<li>要将<code>A[0 .. m - 1]</code>变成<code>B[0 .. n - 2]</code></li>
</ul>
</li>
<li>
<p>情况二：<code>A</code>最后一个字符替换成<code>B[n - 1]</code></p>
<ul>
<li>要将<code>A[0 .. m - 2]</code>变成<code>B[0 .. n - 2]</code></li>
</ul>
</li>
<li>
<p>情况三：<code>A</code>删掉最后一个字符</p>
<ul>
<li>要将<code>A[0 .. m - 2]</code>变成<code>B[0 .. n - 1]</code></li>
</ul>
</li>
<li>
<p>情况四：<code>A</code>和<code>B</code>最后一个字符相等</p>
<ul>
<li>要将<code>A[0 .. m - 2]</code>变成<code>B[0 .. n - 2]</code></li>
</ul>
</li>
</ul>
<h4>子问题<span class="absolute -mt-20" id="子问题-17"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-17" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>要求<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 2]</code>的最小编辑距离，<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 1]</code>的最小编辑距离和<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 2]</code>的最小编辑距离</li>
<li>原来是求<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 1]</code>的最小编辑距离</li>
<li>子问题</li>
<li>状态：设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>的前<code>j</code>个字符<code>B[0 .. j - 1]</code>的最小编辑距离</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-21"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-21" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>的最小编辑距离</li>
<li>要求<code>f[m][n]</code>
<ul>
<li><code>f[i][j] = std::min(f[i][j - 1] + 1, f[i - 1][j - 1] + 1, f[i - 1][j] + 1, f[i - 1][j - 1] | A[i - 1] == B[j - 1])</code></li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/22.7.png" alt="images 22.7" loading="lazy" /></p>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-21"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-21" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>的最小编辑距离</p>
</li>
<li>
<p>要求<code>f[m][n]</code></p>
<ul>
<li><code>f[i][j] = std::min(f[i][j - 1] + 1, f[i - 1][j - 1] + 1, f[i - 1][j] + 1, f[i - 1][j - 1] | A[i - 1] == B[j - 1])</code></li>
</ul>
</li>
<li>
<p>初始条件：一个空串和一个长度为<code>L</code>的串的最小编辑距离是<code>L</code></p>
<ul>
<li><code>f[0][j] = j (j = 0, 1, 2, ..., n)</code></li>
<li><code>f[i][0] = i (j = 0, 1, 2, ..., m)</code></li>
</ul>
</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-21"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-21" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0][0], f[0][1], ..., f[0][n]</code></li>
<li><code>f[1][0], f[1][1], ..., f[1][n]</code></li>
<li>&hellip;</li>
<li><code>f[m][0], f[m][1], ..., f[m][n]</code></li>
<li>答案是<code>f[m][n]</code></li>
<li>时间复杂度（计算步数）<code>O(MN)</code></li>
<li>空间复杂度（数组大小）<code>O(MN)</code>，可以用滚动数组优化空间至<code>O(N)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-80"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minDistance</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">B</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// insert, insert, ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// delete, delete, ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// insert, delete, replace
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]),</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span> <span class="c1">// 情况四
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-80"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>滚动数组优化<span class="absolute -mt-20" id="滚动数组优化-1"></span>
    <a href="#%e6%bb%9a%e5%8a%a8%e6%95%b0%e7%bb%84%e4%bc%98%e5%8c%96-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-81"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minDistance</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">B</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// first
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// second
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">old</span><span class="p">,</span> <span class="n">now</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// third
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">old</span> <span class="o">=</span> <span class="n">now</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">now</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">now</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]),</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-81"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>编辑距离的实际用途<span class="absolute -mt-20" id="编辑距离的实际用途"></span>
    <a href="#%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb%e7%9a%84%e5%ae%9e%e9%99%85%e7%94%a8%e9%80%94" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ol>
<li>比较两个字符串</li>
<li>显示较错：input &ldquo;Chia&rdquo; 然后根据最小编辑距离1 显示结果&quot;China&quot;，然后根据最小编辑距离2 显示结果&quot;Chinaa&quot;, &hellip;</li>
</ol>
<h3>Example: Lintcode 154 Regular Expression Matching<span class="absolute -mt-20" id="example-lintcode-154-regular-expression-matching"></span>
    <a href="#example-lintcode-154-regular-expression-matching" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/154/" target="_blank" rel="noopener">Lintcode 154 Regular Expression Matching</a></li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-22"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-22" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>双序列型动态规划</p>
</li>
<li>
<p>设<code>A</code>长度是<code>m</code>，<code>B</code>长度是<code>n</code></p>
</li>
<li>
<p>现在我们考虑<code>A</code>和<code>B</code>如何匹配</p>
</li>
<li>
<p>最后一步：关注最后的字符</p>
</li>
<li>
<p>主要取决于正则表达式<code>B</code>中最后的字符<code>B[n - 1]</code>是什么</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是一个正常字符（非<code>.</code>非<code>*</code>），则必须<code>A[m - 1] = B[n - 1]</code>，能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 2]</code>是否匹配；否则不能匹配</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是<code>.</code>，则<code>A[m - 1]</code>一定是和<code>.</code>匹配，之后能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 2]</code>是否匹配</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是<code>*</code>，它代表<code>B[n - 2] = c</code>可以重复<code>0</code>次或多次，它们是一个整体<code>c*</code>，需要考虑<code>A[m - 1]</code>是<code>0</code>个<code>c</code>，还是多个<code>c</code>中的最后一个</p>
<ul>
<li><code>A[m - 1]</code>是<code>0</code>个<code>c</code>，能否匹配取决于<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 3]</code>是否匹配</li>
<li><code>A[m - 1]</code>是多个<code>c</code>中的最后一个，能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 1]</code>是否匹配
<ul>
<li>这种情况必须<code>A[m - 1] = c</code>或者<code>c = .</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4>子问题<span class="absolute -mt-20" id="子问题-18"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-18" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>要求<code>A</code>前<code>m</code>个字符和<code>B</code>前<code>n</code>个字符能否匹配，需要知道<code>A</code>前<code>m</code>个字符和<code>B</code>前<code>n - 1</code>个字符，<code>A</code>前<code>m - 1</code>个字符和<code>B</code>前<code>n</code>个字符以及<code>A</code>前<code>m</code>个字符和<code>B</code>前<code>n - 2</code>个字符能否匹配</li>
<li>子问题</li>
<li>状态：设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-22"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-22" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配
<ul>
<li><code>f[i][j] = </code>
<ul>
<li><code>f[i - 1][j - 1]</code>，如果<code>i &gt; 0</code>，并且<code>B[j - 1] = .</code>或者<code>A[i - 1] = B[j - 1]</code></li>
<li><code>f[i][j - 2] || (f[i - 1][j] &amp;&amp; (B[j - 2] == . || B[j - 2] == A[i - 1]))</code>，如果<code>B[j - 1] = *</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-22"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-22" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配</li>
<li>空串和空正则表达式匹配：<code>f[0][0] = true</code></li>
<li>空正则表达式不能匹配长度<code>&gt; 0</code>的串
<ul>
<li><code>f[1][0] = ... = f[m][0] = false</code></li>
</ul>
</li>
<li>注意：<code>f[0][1 .. n]</code>也用动态规划计算，但是因为没有<code>A[-1]</code>，所以只能用第二种情况中的<code>f[i][j - 2]</code></li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-22"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-22" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0][0], f[0][1], ..., f[0][n]</code></li>
<li><code>f[1][0], f[1][1], ..., f[1][n]</code></li>
<li>&hellip;</li>
<li><code>f[m][0], f[m][1], ..., f[m][n]</code></li>
<li>答案是<code>f[m][n]</code></li>
<li>时间复杂度（计算步数）<code>O(MN)</code></li>
<li>空间复杂度（数组大小）<code>O(MN)</code>，可以用滚动数组优化空间至<code>O(N)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-82"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">isMatch</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// i &gt; 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;*&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;.&#39;</span> <span class="o">||</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// c*
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="c1">// 0 c&#39;s
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">2</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// &gt;= 1 c&#39;s, c: p[j - 2]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;.&#39;</span> <span class="o">||</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-82"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Example: Lintcode 192 Wildcard Matching<span class="absolute -mt-20" id="example-lintcode-192-wildcard-matching"></span>
    <a href="#example-lintcode-192-wildcard-matching" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/192/" target="_blank" rel="noopener">Lintcode 192 Wildcard Matching</a></li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-23"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-23" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>双序列型动态规划</p>
</li>
<li>
<p>和<code>Regular Expression Matching</code>很类似，因为<code>.</code>和<code>?</code>作用相同，但是这题中<code>*</code>可以匹配<code>0</code>个或多个任意字符</p>
</li>
<li>
<p>设<code>A</code>长度是<code>m</code>，<code>B</code>长度是<code>n</code></p>
</li>
<li>
<p>现在我们考虑<code>A</code>和<code>B</code>如何匹配</p>
</li>
<li>
<p>最后一步：关注最后的字符</p>
</li>
<li>
<p>主要取决于<code>Wildcard B</code>中最后的字符<code>B[n - 1]</code>是什么</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是一个正常字符（非<code>?</code>非<code>*</code>），则必须<code>A[m - 1] = B[n - 1]</code>，能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 2]</code>是否匹配；否则不能匹配</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是<code>?</code>，则<code>A[m - 1]</code>一定是和<code>?</code>匹配，之后能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 2]</code>是否匹配</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是<code>*</code>，它可以匹配<code>0</code>个或任意多个字符，需要考虑<code>A[m - 1]</code>有没有被这个<code>*</code>匹配</p>
<ul>
<li><code>A[m - 1]</code>不被<code>*</code>匹配，能否匹配取决于<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 2]</code>是否匹配</li>
<li><code>A[m - 1]</code>被<code>*</code>匹配，能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 1]</code>是否匹配</li>
</ul>
</li>
</ul>
<h4>子问题<span class="absolute -mt-20" id="子问题-19"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-19" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>要求<code>A</code>前<code>m</code>个字符和<code>B</code>前<code>n</code>个字符能否匹配，需要知道<code>A</code>前<code>m - 1</code>个字符和<code>B</code>前<code>n - 1</code>个字符，<code>A</code>前<code>m</code>个字符和<code>B</code>前<code>n - 1</code>个字符以及<code>A</code>前<code>m - 1</code>个字符和<code>B</code>前<code>n</code>个字符能否匹配</li>
<li>子问题</li>
<li>状态：设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-23"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-23" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配
<ul>
<li><code>f[i][j] = </code>
<ul>
<li><code>f[i - 1][j - 1]</code>，如果<code>i &gt; 0</code>，并且<code>B[j - 1] = ?</code>或者<code>A[i - 1] = B[j - 1]</code></li>
<li><code>f[i - 1][j] || f[i][j - 1]</code>，如果<code>B[j - 1] = *</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-23"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-23" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配</li>
<li>空串和空<code>Wildcard</code>匹配：<code>f[0][0] = true</code></li>
<li>空<code>Wildcard</code>不能匹配长度<code>&gt; 0</code>的串
<ul>
<li><code>f[1][0] = ... = f[m][0] = false</code></li>
</ul>
</li>
<li>注意：<code>f[0][1 .. n]</code>也用动态规划计算，但是因为没有<code>A[-1]</code>，所以只能用第二种情况中的<code>f[i][j - 1]</code></li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-23"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-23" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0][0], f[0][1], ..., f[0][n]</code></li>
<li><code>f[1][0], f[1][1], ..., f[1][n]</code></li>
<li>&hellip;</li>
<li><code>f[m][0], f[m][1], ..., f[m][n]</code></li>
<li>答案是<code>f[m][n]</code></li>
<li>时间复杂度（计算步数）<code>O(MN)</code></li>
<li>空间复杂度（数组大小）<code>O(MN)</code>，可以用滚动数组优化空间至<code>O(N)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-83"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">isMatch</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">B</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// j &gt; 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;*&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;?&#39;</span> <span class="o">||</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// * represents 0 character
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-83"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Example: Lintcode 668 Ones and Zeroes：双背包<span class="absolute -mt-20" id="example-lintcode-668-ones-and-zeroes双背包"></span>
    <a href="#example-lintcode-668-ones-and-zeroes%e5%8f%8c%e8%83%8c%e5%8c%85" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/668/" target="_blank" rel="noopener">Lintcode 668 Ones and Zeroes</a></li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-24"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-24" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>最后一步：最优策略组成了最多的<code>01串</code>，其中有没有最后一个字符串<code>S_{T - 1}</code></li>
<li>情况一：没有<code>S_{T - 1}</code>
<ul>
<li>需要知道前<code>T - 1</code>个<code>01串</code>中，用<code>m</code>个<code>0</code>和<code>n</code>个<code>1</code>最多能组成多少个<code>01串</code></li>
</ul>
</li>
<li>情况二：有<code>S_{T - 1}</code>
<ul>
<li>设第<code>T - 1</code>个<code>01串</code>中有<code>a_{T - 1}</code>个<code>0</code>，<code>b_{T - 1}</code>个<code>1</code></li>
<li>需要知道前<code>T - 1</code>个<code>01串</code>中，用<code>m - a_{T - 1}</code>个<code>0</code>和<code>n - b_{T - 1}</code>个<code>1</code>最多能组成多少个<code>01串</code></li>
</ul>
</li>
<li>子问题</li>
<li><code>0</code>和<code>1</code>的个数在变化，如何记录？
<ul>
<li>直接放入状态</li>
<li>状态：设<code>f[i][j][k]</code>为前<code>i</code>个<code>01串</code>最多能有多少个被<code>j</code>个<code>0</code>和<code>k</code>个<code>1</code>组成</li>
</ul>
</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-24"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-24" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j][k]</code>为前<code>i</code>个<code>01串</code>最多能有多少个被<code>j</code>个<code>0</code>和<code>k</code>个<code>1</code>组成</li>
<li>设<code>S_i</code>中有<code>a_i</code>个<code>0</code>，<code>b_i</code>个<code>1</code>
<ul>
<li><code>f[i][j][k] = max(f[i - 1][j][k], f[i - 1][j - a_{i - 1}][k - b_{i - 1}] + 1 | j &gt;= a_{i - 1} &amp;&amp; k &gt;= b_{i - 1})</code></li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/22.8.png" alt="images" loading="lazy" /></p>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-24"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-24" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j][k]</code>为前<code>i</code>个<code>01串</code>最多能有多少个被<code>j</code>个<code>0</code>和<code>k</code>个<code>1</code>组成</li>
<li>设<code>S_i</code>中有<code>a_i</code>个<code>0</code>，<code>b_i</code>个<code>1</code>
<ul>
<li><code>f[i][j][k] = max(f[i - 1][j][k], f[i - 1][j - a_{i - 1}][k - b_{i - 1}] + 1 | j &gt;= a_{i - 1} &amp;&amp; k &gt;= b_{i - 1})</code></li>
</ul>
</li>
<li>初始条件：<code>f[0][0 ~ m][0 ~ n] = 0</code>
<ul>
<li>无论有多少<code>0</code>和<code>1</code>，前<code>0</code>个<code>01串</code>最多能组成<code>0</code>个</li>
</ul>
</li>
<li>边界情况：<code>f[i - 1][j - a_{i - 1}][k - b_{i - 1}] + 1</code>必须<code>j &gt;= a_{i - 1} &amp;&amp; k &gt;= b_{i - 1}</code></li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-24"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-24" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0][0][0], f[0][0][1], ..., f[0][0][n], f[0][1][0], ..., f[0][1][n], ..., f[0][m][n]</code></li>
<li><code>f[1][0][0], f[1][0][1], ..., f[1][0][n], f[1][1][0], ..., f[1][1][n], ..., f[1][m][n]</code></li>
<li>&hellip;</li>
<li><code>f[T][0][0], f[T][0][1], ..., f[T][0][n], f[T][1][0], ..., f[T][1][n], ..., f[T][m][n]</code></li>
<li>答案是<code>max(f[T][0][0], f[T][0][1], ..., f[T][m][n])</code></li>
<li>时间复杂度：<code>O(Tmn)</code></li>
<li>空间复杂度：<code>O(Tmn)</code>，可以用滚动数组优化空间至<code>O(mn)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-84"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">findMaxForm</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">T</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">cnt0</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">cnt1</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">T</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">cnt0</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">cnt1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;0&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="o">++</span><span class="n">cnt0</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="o">++</span><span class="n">cnt1</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">T</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">T</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// j 0&#39;s, k 1&#39;s
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="c1">// do not take A[i - 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// take A[i - 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;=</span> <span class="n">cnt0</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">k</span> <span class="o">&gt;=</span> <span class="n">cnt1</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">cnt0</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]][</span><span class="n">k</span> <span class="o">-</span> <span class="n">cnt1</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">ans</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">T</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-84"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Example: Lintcode 118 Distinct Subsequences<span class="absolute -mt-20" id="example-lintcode-118-distinct-subsequences"></span>
    <a href="#example-lintcode-118-distinct-subsequences" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p><a href="https://www.lintcode.com/problem/118/" target="_blank" rel="noopener">Lintcode 118 Distinct Subsequences</a></p>
</li>
<li>
<p>类似于最长公共子序列</p>
</li>
<li>
<p><code>B</code>在<code>A</code>中出现多少次 -&gt; <code>B</code>的每个字符都要在<code>A</code>中出现</p>
</li>
<li>
<p><code>B</code>的“尾巴”是否和<code>A</code>的“尾巴”结成对子</p>
</li>
<li>
<p>设<code>f[i][j]</code>为<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>在<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>中出现多少次</p>
</li>
<li>
<p><code>f[i][j] = f[i - 1][j - 1] | A[i - 1] == B[j - 1] + f[i - 1][j]</code></p>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-85"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">numDistinct</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-85"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 23: 毕业旅行<span class="absolute -mt-20" id="chapter-23-毕业旅行"></span>
    <a href="#chapter-23-%e6%af%95%e4%b8%9a%e6%97%85%e8%a1%8c" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>
<p><a href="https://www.lintcode.com/problem/816/" target="_blank" rel="noopener">Lintcode 816 TSP</a></p>
</li>
<li>
<p>TSP问题（旅行商问题）是 NP 问题非常典型的代表</p>
</li>
<li>
<p>Traveling salesman problem</p>
</li>
</ul>
<h3>Solution 1: 排列型DFS<span class="absolute -mt-20" id="solution-1-排列型dfs"></span>
    <a href="#solution-1-%e6%8e%92%e5%88%97%e5%9e%8bdfs" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>需要开数组存储哪些位置/元素已经被访问</li>
<li>递归中用循环选择下一个符合条件的位置/元素</li>
<li>循环内：
<ul>
<li>标记访问</li>
<li>递归</li>
<li><strong>标记未访问</strong></li>
</ul>
</li>
</ul>
<h4>分析<span class="absolute -mt-20" id="分析"></span>
    <a href="#%e5%88%86%e6%9e%90" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>DFS</li>
<li>相当于所有城市全排列，但是第一个城市固定是<code>1</code>，需要找到代价最小的路径（全排列）</li>
<li>需要记录当前的路径（包括上一个城市）</li>
<li>搜索过程中可以剪枝：当前路径长度已经 &gt;= 当前最优解即退出</li>
</ul>
<h4>AC<span class="absolute -mt-20" id="ac"></span>
    <a href="#ac" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-86"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCost</span><span class="p">(</span><span class="kt">int</span> <span class="n">nn</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">costs</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// costs: [[i, j, d]] i----j cost is d
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">n</span> <span class="o">=</span> <span class="n">nn</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">g</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mh">0x3f3f3f3f</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">costs</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">x</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">y</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">g</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">],</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="n">g</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">],</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">done</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">done</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="c1">// 第0个城市搞过了
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">dfs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">// 第1个城市; 前一个城市是0; 当前花费时间是0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// level is the level-th city
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// previous city p
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// current cost c
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">level</span> <span class="o">==</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">&lt;</span> <span class="n">result</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// next city i, from p
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// p--&gt;i must have a road
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">g</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mh">0x3f3f3f3f</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">dfs</span><span class="p">(</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="o">+</span> <span class="n">g</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">g</span><span class="p">;</span> <span class="c1">// g[i][j] is the cost to go from city i to j (&lt;---&gt; 双向)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">done</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-86"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Optimize: Pruning<span class="absolute -mt-20" id="optimize-pruning"></span>
    <a href="#optimize-pruning" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-87"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCost</span><span class="p">(</span><span class="kt">int</span> <span class="n">nn</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">costs</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">n</span> <span class="o">=</span> <span class="n">nn</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">g</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mh">0x3f3f3f3f</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">costs</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">x</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">y</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">g</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">],</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="n">g</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">],</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">done</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">done</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">dfs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 1. pruning!!!
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="n">result</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">level</span> <span class="o">==</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// 2. pruning, remove this branch
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// c &lt; result
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">result</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">g</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mh">0x3f3f3f3f</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">dfs</span><span class="p">(</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="o">+</span> <span class="n">g</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">g</span><span class="p">;</span> <span class="c1">// g[i][j] is the cost to go from city i to j (&lt;---&gt; 双向)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">done</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-87"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Solution 2: 状态压缩型动态规划???<span class="absolute -mt-20" id="solution-2-状态压缩型动态规划"></span>
    <a href="#solution-2-%e7%8a%b6%e6%80%81%e5%8e%8b%e7%bc%a9%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>设城市数为<code>n</code>，则有<code>2^n</code>个子集合</li>
<li>时间复杂度：枚举全部集合<code>2^n</code>，起点<code>n</code>，子问题<code>n</code>。时间复杂度为<code>O(n^2 * 2^n)</code></li>
<li>空间复杂度：DP数组规模为<code>n * (2^n)</code>。空间复杂度为<code>O(n * 2^n)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-88"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCost</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">roads</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">inf</span> <span class="o">=</span> <span class="mi">1000000000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">graph</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">ConstructGraph</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">roads</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// state_size represent the number of cities
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">state_size</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">state_size</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">state_size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">inf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">state</span> <span class="o">&lt;</span> <span class="n">state_size</span><span class="p">;</span> <span class="n">state</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">((</span><span class="n">state</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">prev_state</span> <span class="o">=</span> <span class="n">state</span> <span class="o">^</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">((</span><span class="n">prev_state</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">prev_state</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">graph</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">minimal_cost</span> <span class="o">=</span> <span class="n">inf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">minimal_cost</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">minimal_cost</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">state_size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">minimal_cost</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">void</span> <span class="n">ConstructGraph</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">graph</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">roads</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">inf</span> <span class="o">=</span> <span class="mi">1000000000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">graph</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">inf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">roads</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">roads</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">b</span> <span class="o">=</span> <span class="n">roads</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">roads</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="n">graph</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">graph</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">],</span> <span class="n">c</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">graph</span><span class="p">[</span><span class="n">b</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">graph</span><span class="p">[</span><span class="n">b</span><span class="p">][</span><span class="n">a</span><span class="p">],</span> <span class="n">c</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-88"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 24: 双色塔<span class="absolute -mt-20" id="chapter-24-双色塔"></span>
    <a href="#chapter-24-%e5%8f%8c%e8%89%b2%e5%a1%94" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li><a href="https://www.lintcode.com/problem/269/" target="_blank" rel="noopener">Lintcode 269 双色塔</a></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-89"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">twoColorsTower</span><span class="p">(</span><span class="kt">int</span> <span class="n">red</span><span class="p">,</span> <span class="kt">int</span> <span class="n">green</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-89"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 25: 编辑距离<span class="absolute -mt-20" id="chapter-25-编辑距离"></span>
    <a href="#chapter-25-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><h3>Example: Lintcode 119 编辑距离<span class="absolute -mt-20" id="example-lintcode-119-编辑距离-1"></span>
    <a href="#example-lintcode-119-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/119/" target="_blank" rel="noopener">Lintcode 119 编辑距离</a></li>
<li>最小操作次数 == 最小编辑距离</li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-25"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-25" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>设<code>A</code>长度是<code>m</code>，<code>B</code>长度是<code>n</code></p>
</li>
<li>
<p><strong>全部操作完成后<code>A</code>的长度也是<code>n</code>，并且<code>A[n - 1] = B[n - 1]</code></strong></p>
</li>
<li>
<p>于是最优策略（以及所有合法策略）最终都是让<code>A</code>的最后一个字符变成<code>B</code>的最后一个字符</p>
</li>
<li>
<p>情况一：<code>A</code>在最后插入<code>B[n - 1]</code></p>
<ul>
<li>要将<code>A[0 .. m - 1]</code>变成<code>B[0 .. n - 2]</code></li>
</ul>
</li>
<li>
<p>情况二：<code>A</code>最后一个字符替换成<code>B[n - 1]</code></p>
<ul>
<li>要将<code>A[0 .. m - 2]</code>变成<code>B[0 .. n - 2]</code></li>
</ul>
</li>
<li>
<p>情况三：<code>A</code>删掉最后一个字符</p>
<ul>
<li>要将<code>A[0 .. m - 2]</code>变成<code>B[0 .. n - 1]</code></li>
</ul>
</li>
<li>
<p>情况四：<code>A</code>和<code>B</code>最后一个字符相等</p>
<ul>
<li>要将<code>A[0 .. m - 2]</code>变成<code>B[0 .. n - 2]</code></li>
</ul>
</li>
</ul>
<h4>子问题<span class="absolute -mt-20" id="子问题-20"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-20" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>要求<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 2]</code>的最小编辑距离，<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 1]</code>的最小编辑距离和<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 2]</code>的最小编辑距离</li>
<li>原来是求<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 1]</code>的最小编辑距离</li>
<li>子问题</li>
<li>状态：设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>的前<code>j</code>个字符<code>B[0 .. j - 1]</code>的最小编辑距离</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-25"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-25" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>的最小编辑距离</li>
<li>要求<code>f[m][n]</code>
<ul>
<li><code>f[i][j] = std::min(f[i][j - 1] + 1, f[i - 1][j - 1] + 1, f[i - 1][j] + 1, f[i - 1][j - 1] | A[i - 1] == B[j - 1])</code></li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/22.7.png" alt="images 22.7" loading="lazy" /></p>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-25"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-25" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>的最小编辑距离</p>
</li>
<li>
<p>要求<code>f[m][n]</code></p>
<ul>
<li><code>f[i][j] = std::min(f[i][j - 1] + 1, f[i - 1][j - 1] + 1, f[i - 1][j] + 1, f[i - 1][j - 1] | A[i - 1] == B[j - 1])</code></li>
</ul>
</li>
<li>
<p>初始条件：一个空串和一个长度为<code>L</code>的串的最小编辑距离是<code>L</code></p>
<ul>
<li><code>f[0][j] = j (j = 0, 1, 2, ..., n)</code></li>
<li><code>f[i][0] = i (j = 0, 1, 2, ..., m)</code></li>
</ul>
</li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-25"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-25" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0][0], f[0][1], ..., f[0][n]</code></li>
<li><code>f[1][0], f[1][1], ..., f[1][n]</code></li>
<li>&hellip;</li>
<li><code>f[m][0], f[m][1], ..., f[m][n]</code></li>
<li>答案是<code>f[m][n]</code></li>
<li>时间复杂度（计算步数）<code>O(MN)</code></li>
<li>空间复杂度（数组大小）<code>O(MN)</code>，可以用滚动数组优化空间至<code>O(N)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-90"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minDistance</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">B</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// insert, insert, ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// delete, delete, ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// insert, delete, replace
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]),</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span> <span class="c1">// 情况四
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-90"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>滚动数组优化<span class="absolute -mt-20" id="滚动数组优化-2"></span>
    <a href="#%e6%bb%9a%e5%8a%a8%e6%95%b0%e7%bb%84%e4%bc%98%e5%8c%96-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-91"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minDistance</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">B</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// first
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// second
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">old</span><span class="p">,</span> <span class="n">now</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// third
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">old</span> <span class="o">=</span> <span class="n">now</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">now</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">now</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]),</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">old</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">now</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-91"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>编辑距离的实际用途<span class="absolute -mt-20" id="编辑距离的实际用途-1"></span>
    <a href="#%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb%e7%9a%84%e5%ae%9e%e9%99%85%e7%94%a8%e9%80%94-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ol>
<li>比较两个字符串</li>
<li>显示较错：input &ldquo;Chia&rdquo; 然后根据最小编辑距离1 显示结果&quot;China&quot;，然后根据最小编辑距离2 显示结果&quot;Chinaa&quot;, &hellip;</li>
</ol>
<h3>Example: Lintcode 154 Regular Expression Matching<span class="absolute -mt-20" id="example-lintcode-154-regular-expression-matching-1"></span>
    <a href="#example-lintcode-154-regular-expression-matching-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/154/" target="_blank" rel="noopener">Lintcode 154 Regular Expression Matching</a></li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-26"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-26" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>双序列型动态规划</p>
</li>
<li>
<p>设<code>A</code>长度是<code>m</code>，<code>B</code>长度是<code>n</code></p>
</li>
<li>
<p>现在我们考虑<code>A</code>和<code>B</code>如何匹配</p>
</li>
<li>
<p>最后一步：关注最后的字符</p>
</li>
<li>
<p>主要取决于正则表达式<code>B</code>中最后的字符<code>B[n - 1]</code>是什么</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是一个正常字符（非<code>.</code>非<code>*</code>），则必须<code>A[m - 1] = B[n - 1]</code>，能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 2]</code>是否匹配；否则不能匹配</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是<code>.</code>，则<code>A[m - 1]</code>一定是和<code>.</code>匹配，之后能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 2]</code>是否匹配</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是<code>*</code>，它代表<code>B[n - 2] = c</code>可以重复<code>0</code>次或多次，它们是一个整体<code>c*</code>，需要考虑<code>A[m - 1]</code>是<code>0</code>个<code>c</code>，还是多个<code>c</code>中的最后一个</p>
<ul>
<li><code>A[m - 1]</code>是<code>0</code>个<code>c</code>，能否匹配取决于<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 3]</code>是否匹配</li>
<li><code>A[m - 1]</code>是多个<code>c</code>中的最后一个，能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 1]</code>是否匹配
<ul>
<li>这种情况必须<code>A[m - 1] = c</code>或者<code>c = .</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4>子问题<span class="absolute -mt-20" id="子问题-21"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-21" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>要求<code>A</code>前<code>m</code>个字符和<code>B</code>前<code>n</code>个字符能否匹配，需要知道<code>A</code>前<code>m</code>个字符和<code>B</code>前<code>n - 1</code>个字符，<code>A</code>前<code>m - 1</code>个字符和<code>B</code>前<code>n</code>个字符以及<code>A</code>前<code>m</code>个字符和<code>B</code>前<code>n - 2</code>个字符能否匹配</li>
<li>子问题</li>
<li>状态：设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-26"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-26" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配
<ul>
<li><code>f[i][j] = </code>
<ul>
<li><code>f[i - 1][j - 1]</code>，如果<code>i &gt; 0</code>，并且<code>B[j - 1] = .</code>或者<code>A[i - 1] = B[j - 1]</code></li>
<li><code>f[i][j - 2] || (f[i - 1][j] &amp;&amp; (B[j - 2] == . || B[j - 2] == A[i - 1]))</code>，如果<code>B[j - 1] = *</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-26"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-26" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配</li>
<li>空串和空正则表达式匹配：<code>f[0][0] = true</code></li>
<li>空正则表达式不能匹配长度<code>&gt; 0</code>的串
<ul>
<li><code>f[1][0] = ... = f[m][0] = false</code></li>
</ul>
</li>
<li>注意：<code>f[0][1 .. n]</code>也用动态规划计算，但是因为没有<code>A[-1]</code>，所以只能用第二种情况中的<code>f[i][j - 2]</code></li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-26"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-26" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0][0], f[0][1], ..., f[0][n]</code></li>
<li><code>f[1][0], f[1][1], ..., f[1][n]</code></li>
<li>&hellip;</li>
<li><code>f[m][0], f[m][1], ..., f[m][n]</code></li>
<li>答案是<code>f[m][n]</code></li>
<li>时间复杂度（计算步数）<code>O(MN)</code></li>
<li>空间复杂度（数组大小）<code>O(MN)</code>，可以用滚动数组优化空间至<code>O(N)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-92"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">isMatch</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// i &gt; 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;*&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;.&#39;</span> <span class="o">||</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// c*
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="c1">// 0 c&#39;s
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">2</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// &gt;= 1 c&#39;s, c: p[j - 2]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;.&#39;</span> <span class="o">||</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-92"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Example: Lintcode 192 Wildcard Matching<span class="absolute -mt-20" id="example-lintcode-192-wildcard-matching-1"></span>
    <a href="#example-lintcode-192-wildcard-matching-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/192/" target="_blank" rel="noopener">Lintcode 192 Wildcard Matching</a></li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-27"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-27" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>
<p>双序列型动态规划</p>
</li>
<li>
<p>和<code>Regular Expression Matching</code>很类似，因为<code>.</code>和<code>?</code>作用相同，但是这题中<code>*</code>可以匹配<code>0</code>个或多个任意字符</p>
</li>
<li>
<p>设<code>A</code>长度是<code>m</code>，<code>B</code>长度是<code>n</code></p>
</li>
<li>
<p>现在我们考虑<code>A</code>和<code>B</code>如何匹配</p>
</li>
<li>
<p>最后一步：关注最后的字符</p>
</li>
<li>
<p>主要取决于<code>Wildcard B</code>中最后的字符<code>B[n - 1]</code>是什么</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是一个正常字符（非<code>?</code>非<code>*</code>），则必须<code>A[m - 1] = B[n - 1]</code>，能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 2]</code>是否匹配；否则不能匹配</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是<code>?</code>，则<code>A[m - 1]</code>一定是和<code>?</code>匹配，之后能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 2]</code>是否匹配</p>
</li>
<li>
<p>如果<code>B[n - 1]</code>是<code>*</code>，它可以匹配<code>0</code>个或任意多个字符，需要考虑<code>A[m - 1]</code>有没有被这个<code>*</code>匹配</p>
<ul>
<li><code>A[m - 1]</code>不被<code>*</code>匹配，能否匹配取决于<code>A[0 .. m - 1]</code>和<code>B[0 .. n - 2]</code>是否匹配</li>
<li><code>A[m - 1]</code>被<code>*</code>匹配，能否匹配取决于<code>A[0 .. m - 2]</code>和<code>B[0 .. n - 1]</code>是否匹配</li>
</ul>
</li>
</ul>
<h4>子问题<span class="absolute -mt-20" id="子问题-22"></span>
    <a href="#%e5%ad%90%e9%97%ae%e9%a2%98-22" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>要求<code>A</code>前<code>m</code>个字符和<code>B</code>前<code>n</code>个字符能否匹配，需要知道<code>A</code>前<code>m - 1</code>个字符和<code>B</code>前<code>n - 1</code>个字符，<code>A</code>前<code>m</code>个字符和<code>B</code>前<code>n - 1</code>个字符以及<code>A</code>前<code>m - 1</code>个字符和<code>B</code>前<code>n</code>个字符能否匹配</li>
<li>子问题</li>
<li>状态：设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-27"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-27" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配
<ul>
<li><code>f[i][j] = </code>
<ul>
<li><code>f[i - 1][j - 1]</code>，如果<code>i &gt; 0</code>，并且<code>B[j - 1] = ?</code>或者<code>A[i - 1] = B[j - 1]</code></li>
<li><code>f[i - 1][j] || f[i][j - 1]</code>，如果<code>B[j - 1] = *</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-27"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-27" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j]</code>为<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>和<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>能否匹配</li>
<li>空串和空<code>Wildcard</code>匹配：<code>f[0][0] = true</code></li>
<li>空<code>Wildcard</code>不能匹配长度<code>&gt; 0</code>的串
<ul>
<li><code>f[1][0] = ... = f[m][0] = false</code></li>
</ul>
</li>
<li>注意：<code>f[0][1 .. n]</code>也用动态规划计算，但是因为没有<code>A[-1]</code>，所以只能用第二种情况中的<code>f[i][j - 1]</code></li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-27"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-27" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0][0], f[0][1], ..., f[0][n]</code></li>
<li><code>f[1][0], f[1][1], ..., f[1][n]</code></li>
<li>&hellip;</li>
<li><code>f[m][0], f[m][1], ..., f[m][n]</code></li>
<li>答案是<code>f[m][n]</code></li>
<li>时间复杂度（计算步数）<code>O(MN)</code></li>
<li>空间复杂度（数组大小）<code>O(MN)</code>，可以用滚动数组优化空间至<code>O(N)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-93"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">bool</span> <span class="n">isMatch</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">B</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// j &gt; 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;*&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;?&#39;</span> <span class="o">||</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// * represents 0 character
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-93"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Example: Lintcode 668 Ones and Zeroes：双背包<span class="absolute -mt-20" id="example-lintcode-668-ones-and-zeroes双背包-1"></span>
    <a href="#example-lintcode-668-ones-and-zeroes%e5%8f%8c%e8%83%8c%e5%8c%85-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/668/" target="_blank" rel="noopener">Lintcode 668 Ones and Zeroes</a></li>
</ul>
<h4>动态规划组成部分一：确定状态<span class="absolute -mt-20" id="动态规划组成部分一确定状态-28"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%80%e7%a1%ae%e5%ae%9a%e7%8a%b6%e6%80%81-28" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>最后一步：最优策略组成了最多的<code>01串</code>，其中有没有最后一个字符串<code>S_{T - 1}</code></li>
<li>情况一：没有<code>S_{T - 1}</code>
<ul>
<li>需要知道前<code>T - 1</code>个<code>01串</code>中，用<code>m</code>个<code>0</code>和<code>n</code>个<code>1</code>最多能组成多少个<code>01串</code></li>
</ul>
</li>
<li>情况二：有<code>S_{T - 1}</code>
<ul>
<li>设第<code>T - 1</code>个<code>01串</code>中有<code>a_{T - 1}</code>个<code>0</code>，<code>b_{T - 1}</code>个<code>1</code></li>
<li>需要知道前<code>T - 1</code>个<code>01串</code>中，用<code>m - a_{T - 1}</code>个<code>0</code>和<code>n - b_{T - 1}</code>个<code>1</code>最多能组成多少个<code>01串</code></li>
</ul>
</li>
<li>子问题</li>
<li><code>0</code>和<code>1</code>的个数在变化，如何记录？
<ul>
<li>直接放入状态</li>
<li>状态：设<code>f[i][j][k]</code>为前<code>i</code>个<code>01串</code>最多能有多少个被<code>j</code>个<code>0</code>和<code>k</code>个<code>1</code>组成</li>
</ul>
</li>
</ul>
<h4>动态规划组成部分二：转移方程<span class="absolute -mt-20" id="动态规划组成部分二转移方程-28"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%ba%8c%e8%bd%ac%e7%a7%bb%e6%96%b9%e7%a8%8b-28" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j][k]</code>为前<code>i</code>个<code>01串</code>最多能有多少个被<code>j</code>个<code>0</code>和<code>k</code>个<code>1</code>组成</li>
<li>设<code>S_i</code>中有<code>a_i</code>个<code>0</code>，<code>b_i</code>个<code>1</code>
<ul>
<li><code>f[i][j][k] = max(f[i - 1][j][k], f[i - 1][j - a_{i - 1}][k - b_{i - 1}] + 1 | j &gt;= a_{i - 1} &amp;&amp; k &gt;= b_{i - 1})</code></li>
</ul>
</li>
</ul>
<p>
    <img src="../images_dp/22.8.png" alt="images" loading="lazy" /></p>
<h4>动态规划组成部分三：初始条件和边界情况<span class="absolute -mt-20" id="动态规划组成部分三初始条件和边界情况-28"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e4%b8%89%e5%88%9d%e5%a7%8b%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%83%85%e5%86%b5-28" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>设<code>f[i][j][k]</code>为前<code>i</code>个<code>01串</code>最多能有多少个被<code>j</code>个<code>0</code>和<code>k</code>个<code>1</code>组成</li>
<li>设<code>S_i</code>中有<code>a_i</code>个<code>0</code>，<code>b_i</code>个<code>1</code>
<ul>
<li><code>f[i][j][k] = max(f[i - 1][j][k], f[i - 1][j - a_{i - 1}][k - b_{i - 1}] + 1 | j &gt;= a_{i - 1} &amp;&amp; k &gt;= b_{i - 1})</code></li>
</ul>
</li>
<li>初始条件：<code>f[0][0 ~ m][0 ~ n] = 0</code>
<ul>
<li>无论有多少<code>0</code>和<code>1</code>，前<code>0</code>个<code>01串</code>最多能组成<code>0</code>个</li>
</ul>
</li>
<li>边界情况：<code>f[i - 1][j - a_{i - 1}][k - b_{i - 1}] + 1</code>必须<code>j &gt;= a_{i - 1} &amp;&amp; k &gt;= b_{i - 1}</code></li>
</ul>
<h4>动态规划组成部分四：计算顺序<span class="absolute -mt-20" id="动态规划组成部分四计算顺序-28"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e5%9b%9b%e8%ae%a1%e7%ae%97%e9%a1%ba%e5%ba%8f-28" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li><code>f[0][0][0], f[0][0][1], ..., f[0][0][n], f[0][1][0], ..., f[0][1][n], ..., f[0][m][n]</code></li>
<li><code>f[1][0][0], f[1][0][1], ..., f[1][0][n], f[1][1][0], ..., f[1][1][n], ..., f[1][m][n]</code></li>
<li>&hellip;</li>
<li><code>f[T][0][0], f[T][0][1], ..., f[T][0][n], f[T][1][0], ..., f[T][1][n], ..., f[T][m][n]</code></li>
<li>答案是<code>max(f[T][0][0], f[T][0][1], ..., f[T][m][n])</code></li>
<li>时间复杂度：<code>O(Tmn)</code></li>
<li>空间复杂度：<code>O(Tmn)</code>，可以用滚动数组优化空间至<code>O(mn)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-94"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">findMaxForm</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">T</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">cnt0</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">cnt1</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">T</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">cnt0</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">cnt1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;0&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="o">++</span><span class="n">cnt0</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="o">++</span><span class="n">cnt1</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">T</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">T</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// j 0&#39;s, k 1&#39;s
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="c1">// do not take A[i - 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// take A[i - 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;=</span> <span class="n">cnt0</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">k</span> <span class="o">&gt;=</span> <span class="n">cnt1</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">cnt0</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]][</span><span class="n">k</span> <span class="o">-</span> <span class="n">cnt1</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">ans</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">T</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-94"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Example: Lintcode 118 Distinct Subsequences<span class="absolute -mt-20" id="example-lintcode-118-distinct-subsequences-1"></span>
    <a href="#example-lintcode-118-distinct-subsequences-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p><a href="https://www.lintcode.com/problem/118/" target="_blank" rel="noopener">Lintcode 118 Distinct Subsequences</a></p>
</li>
<li>
<p>类似于最长公共子序列</p>
</li>
<li>
<p><code>B</code>在<code>A</code>中出现多少次 -&gt; <code>B</code>的每个字符都要在<code>A</code>中出现</p>
</li>
<li>
<p><code>B</code>的“尾巴”是否和<code>A</code>的“尾巴”结成对子</p>
</li>
<li>
<p>设<code>f[i][j]</code>为<code>B</code>前<code>j</code>个字符<code>B[0 .. j - 1]</code>在<code>A</code>前<code>i</code>个字符<code>A[0 .. i - 1]</code>中出现多少次</p>
</li>
<li>
<p><code>f[i][j] = f[i - 1][j - 1] | A[i - 1] == B[j - 1] + f[i - 1][j]</code></p>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-95"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">numDistinct</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-95"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 23: 毕业旅行<span class="absolute -mt-20" id="chapter-23-毕业旅行-1"></span>
    <a href="#chapter-23-%e6%af%95%e4%b8%9a%e6%97%85%e8%a1%8c-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>
<p><a href="https://www.lintcode.com/problem/816/" target="_blank" rel="noopener">Lintcode 816 TSP</a></p>
</li>
<li>
<p>TSP问题（旅行商问题）是 NP 问题非常典型的代表</p>
</li>
<li>
<p>Traveling salesman problem</p>
</li>
</ul>
<h3>Solution 1: 排列型DFS<span class="absolute -mt-20" id="solution-1-排列型dfs-1"></span>
    <a href="#solution-1-%e6%8e%92%e5%88%97%e5%9e%8bdfs-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>需要开数组存储哪些位置/元素已经被访问</li>
<li>递归中用循环选择下一个符合条件的位置/元素</li>
<li>循环内：
<ul>
<li>标记访问</li>
<li>递归</li>
<li><strong>标记未访问</strong></li>
</ul>
</li>
</ul>
<h4>分析<span class="absolute -mt-20" id="分析-1"></span>
    <a href="#%e5%88%86%e6%9e%90-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ul>
<li>DFS</li>
<li>相当于所有城市全排列，但是第一个城市固定是<code>1</code>，需要找到代价最小的路径（全排列）</li>
<li>需要记录当前的路径（包括上一个城市）</li>
<li>搜索过程中可以剪枝：当前路径长度已经 &gt;= 当前最优解即退出</li>
</ul>
<h4>AC<span class="absolute -mt-20" id="ac-1"></span>
    <a href="#ac-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-96"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCost</span><span class="p">(</span><span class="kt">int</span> <span class="n">nn</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">costs</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// costs: [[i, j, d]] i----j cost is d
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">n</span> <span class="o">=</span> <span class="n">nn</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">g</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mh">0x3f3f3f3f</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">costs</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">x</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">y</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">g</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">],</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="n">g</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">],</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">done</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">done</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="c1">// 第0个城市搞过了
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">dfs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">// 第1个城市; 前一个城市是0; 当前花费时间是0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// level is the level-th city
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// previous city p
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// current cost c
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">level</span> <span class="o">==</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">&lt;</span> <span class="n">result</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// next city i, from p
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// p--&gt;i must have a road
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">g</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mh">0x3f3f3f3f</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">dfs</span><span class="p">(</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="o">+</span> <span class="n">g</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">g</span><span class="p">;</span> <span class="c1">// g[i][j] is the cost to go from city i to j (&lt;---&gt; 双向)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">done</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-96"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h4>Optimize: Pruning<span class="absolute -mt-20" id="optimize-pruning-1"></span>
    <a href="#optimize-pruning-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-97"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCost</span><span class="p">(</span><span class="kt">int</span> <span class="n">nn</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">costs</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">n</span> <span class="o">=</span> <span class="n">nn</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">g</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mh">0x3f3f3f3f</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">costs</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">x</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">y</span> <span class="o">=</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">g</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">],</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="n">g</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">],</span> <span class="n">costs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">done</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">done</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">dfs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 1. pruning!!!
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="n">result</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">level</span> <span class="o">==</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// 2. pruning, remove this branch
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// c &lt; result
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">result</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">g</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mh">0x3f3f3f3f</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">dfs</span><span class="p">(</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="o">+</span> <span class="n">g</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="n">done</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">g</span><span class="p">;</span> <span class="c1">// g[i][j] is the cost to go from city i to j (&lt;---&gt; 双向)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">done</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-97"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h3>Solution 2: 状态压缩型动态规划???<span class="absolute -mt-20" id="solution-2-状态压缩型动态规划-1"></span>
    <a href="#solution-2-%e7%8a%b6%e6%80%81%e5%8e%8b%e7%bc%a9%e5%9e%8b%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>设城市数为<code>n</code>，则有<code>2^n</code>个子集合</li>
<li>时间复杂度：枚举全部集合<code>2^n</code>，起点<code>n</code>，子问题<code>n</code>。时间复杂度为<code>O(n^2 * 2^n)</code></li>
<li>空间复杂度：DP数组规模为<code>n * (2^n)</code>。空间复杂度为<code>O(n * 2^n)</code></li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-98"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">minCost</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">roads</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">inf</span> <span class="o">=</span> <span class="mi">1000000000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">graph</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">ConstructGraph</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">roads</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// state_size represent the number of cities
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">state_size</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">state_size</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">state_size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">inf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">state</span> <span class="o">&lt;</span> <span class="n">state_size</span><span class="p">;</span> <span class="n">state</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">((</span><span class="n">state</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">prev_state</span> <span class="o">=</span> <span class="n">state</span> <span class="o">^</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">((</span><span class="n">prev_state</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="n">f</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">prev_state</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">graph</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">minimal_cost</span> <span class="o">=</span> <span class="n">inf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">minimal_cost</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">minimal_cost</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">state_size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">minimal_cost</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">void</span> <span class="n">ConstructGraph</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">graph</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">roads</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">inf</span> <span class="o">=</span> <span class="mi">1000000000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">graph</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">inf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">roads</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">roads</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">b</span> <span class="o">=</span> <span class="n">roads</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">roads</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="n">graph</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">graph</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">],</span> <span class="n">c</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">graph</span><span class="p">[</span><span class="n">b</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">graph</span><span class="p">[</span><span class="n">b</span><span class="p">][</span><span class="n">a</span><span class="p">],</span> <span class="n">c</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-98"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 24: 双色塔<span class="absolute -mt-20" id="chapter-24-双色塔-1"></span>
    <a href="#chapter-24-%e5%8f%8c%e8%89%b2%e5%a1%94-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li>
<p><a href="https://www.lintcode.com/problem/269/" target="_blank" rel="noopener">Lintcode 269 双色塔</a></p>
</li>
<li>
<p>求<em>方案总数</em>和<em>可行性</em>的问题 <strong>很有</strong> 可能是动态规划，求最大最小值其次</p>
</li>
<li>
<p>求<em>方案总数</em>的问题 <strong>99%</strong> 都是动态规划</p>
</li>
</ul>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-99"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">twoColorsTower</span><span class="p">(</span><span class="kt">int</span> <span class="n">red</span><span class="p">,</span> <span class="kt">int</span> <span class="n">green</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-99"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<h2>Chapter 25: 编辑距离<span class="absolute -mt-20" id="chapter-25-编辑距离-1"></span>
    <a href="#chapter-25-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><ul>
<li><a href="#example-lintcode-119-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bb" >Click on this link</a></li>
</ul>
<h3>(Really Important) The most relevant problem<span class="absolute -mt-20" id="really-important-the-most-relevant-problem"></span>
    <a href="#really-important-the-most-relevant-problem" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>LCS: Longest common subsequences</li>
<li>LIS: Longest increasing subsequences</li>
</ul>
<h3>Relevant Problems<span class="absolute -mt-20" id="relevant-problems"></span>
    <a href="#relevant-problems" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li><a href="https://www.lintcode.com/problem/640/" target="_blank" rel="noopener">Lintcode 640 一次编辑距离</a></li>
<li><a href="https://www.lintcode.com/problem/623/" target="_blank" rel="noopener">Lintcode 623 K步编辑</a></li>
</ul>
<h2>Chapter 26: 动态规划难题专场<span class="absolute -mt-20" id="chapter-26-动态规划难题专场"></span>
    <a href="#chapter-26-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e9%9a%be%e9%a2%98%e4%b8%93%e5%9c%ba" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><h3>Lintcode 752 Rogue Knight Sven<span class="absolute -mt-20" id="lintcode-752-rogue-knight-sven"></span>
    <a href="#lintcode-752-rogue-knight-sven" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><hr>
<h2>Others Note<span class="absolute -mt-20" id="others-note"></span>
    <a href="#others-note" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><hr>
<h3>动态规划的题型<span class="absolute -mt-20" id="动态规划的题型"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%9a%84%e9%a2%98%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p>坐标型：Triangle, Unique Paths, Jump Game</p>
</li>
<li>
<p>前缀型：</p>
<ul>
<li>匹配型：Longest Increasing Subsequence, Wildcard Matching</li>
<li>划分型：Word Break</li>
</ul>
</li>
<li>
<p>区间型：Stone Game</p>
</li>
<li>
<p>背包型：Backpack series</p>
</li>
<li>
<p>博弈型：Coins in a Line</p>
</li>
<li>
<p>状态压缩型：Traveling Salesman Problem</p>
</li>
<li>
<p>树型：Binary Tree Maximum Path Sum</p>
</li>
<li>
<p>图型：（面试基本没考过）</p>
</li>
<li>
<p>常见DP类型：</p>
<ul>
<li>
<p>坐标型（20%）</p>
</li>
<li>
<p>序列型（20%）</p>
</li>
<li>
<p>划分型（20%）</p>
</li>
<li>
<p>区间型（15%）</p>
</li>
<li>
<p>背包型（10%）</p>
</li>
<li>
<p>博弈型（5%）</p>
</li>
<li>
<p>最长序列型（5%）</p>
</li>
<li>
<p>综合型（5%）</p>
</li>
</ul>
</li>
</ul>
<p>left: 清华动态规划专题课</p>
<ul>
<li>美团：最长公共子序列</li>
<li>微软：最长上升子序列</li>
<li>阿里巴巴、腾讯：最长回文子串</li>
<li>猿辅导：零钱兑换II</li>
</ul>
<ul>
<li>第一章 动态规划了入门</li>
<li>第二章 动态规划初探+坐标型动态规划+位操作型动态规划</li>
<li>第九章 序列型动态规划</li>
<li>第十六章 划分型，博弈型和背包型动态规划</li>
<li>第十七章 背包型动态规划和区间型动态规划</li>
<li>第二十二章 双序列动态规划</li>
</ul>
<p>right: 国内大厂高频动规题详解</p>
<h3>简历: 最好一页<span class="absolute -mt-20" id="简历-最好一页"></span>
    <a href="#%e7%ae%80%e5%8e%86-%e6%9c%80%e5%a5%bd%e4%b8%80%e9%a1%b5" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ol>
<li>清楚简洁，简明扼要，但不要太花里胡哨。不要有错字，错词或者语法错误</li>
<li>Project &amp; Experience: 一定要和申请的职位相关</li>
</ol>
<ul>
<li>写清楚Contribution。避免写成产品介绍，主要写我做了什么，必要的时候写用了什么工具。e.g. I drove &hellip;, drove &hellip;, design &hellip;</li>
<li><strong>可以放一些数字</strong>: reduce pipline time by 51.7%</li>
<li>选最喜欢，最擅长，贡献最大的三个projects</li>
</ul>
<ol start="3">
<li>倒背如流细节</li>
</ol>
<hr>
<h3>How to use heap in c++<span class="absolute -mt-20" id="how-to-use-heap-in-c"></span>
    <a href="#how-to-use-heap-in-c" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-100"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;set&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define assertm(exp, msg) assert(((void)msg, exp))
</span></span></span><span class="line"><span class="cl"><span class="cp">#define print(input) for (auto&amp; elem : input) std::cout &lt;&lt; elem &lt;&lt; std::endl
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">auto</span> <span class="n">cmp</span> <span class="o">=</span> <span class="p">[](</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">.</span><span class="n">second</span><span class="p">;};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">set</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">,</span> <span class="k">decltype</span><span class="p">(</span><span class="n">cmp</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">heap</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">auto</span> <span class="n">it</span> <span class="o">=</span> <span class="n">heap</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">it</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">next</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">it</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">prev</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;size: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">heap</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">31</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">auto</span> <span class="n">it2</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">find_if</span><span class="p">(</span><span class="n">heap</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">heap</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="p">[</span><span class="o">&amp;</span><span class="n">index</span><span class="p">](</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">first</span> <span class="o">==</span> <span class="n">index</span><span class="p">;});</span>
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">it2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">it</span> <span class="o">=</span> <span class="n">heap</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;size: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">heap</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-100"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
<hr>
<h2>Others Note<span class="absolute -mt-20" id="others-note-1"></span>
    <a href="#others-note-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h2><hr>
<h3>动态规划的题型<span class="absolute -mt-20" id="动态规划的题型-1"></span>
    <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%9a%84%e9%a2%98%e5%9e%8b-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ul>
<li>
<p>坐标型：Triangle, Unique Paths, Jump Game</p>
</li>
<li>
<p>前缀型：</p>
<ul>
<li>匹配型：Longest Increasing Subsequence, Wildcard Matching</li>
<li>划分型：Word Break</li>
</ul>
</li>
<li>
<p>区间型：Stone Game</p>
</li>
<li>
<p>背包型：Backpack series</p>
</li>
<li>
<p>博弈型：Coins in a Line</p>
</li>
<li>
<p>状态压缩型：Traveling Salesman Problem</p>
</li>
<li>
<p>树型：Binary Tree Maximum Path Sum</p>
</li>
<li>
<p>图型：（面试基本没考过）</p>
</li>
<li>
<p>常见DP类型：</p>
<ul>
<li>坐标型（20%）</li>
<li>序列型（20%）</li>
<li>划分型（20%）</li>
<li>区间型（15%）</li>
<li>背包型（10%）</li>
<li>最长序列型（5%）</li>
<li>博弈型（5%）</li>
<li>综合型（5%）</li>
</ul>
</li>
</ul>
<p>left: 清华动态规划专题课</p>
<ul>
<li>美团：最长公共子序列</li>
<li>微软：最长上升子序列</li>
<li>阿里巴巴、腾讯：最长回文子串</li>
<li>猿辅导：零钱兑换II</li>
</ul>
<ul>
<li>第一章 动态规划了入门</li>
<li>第二章 动态规划初探+坐标型动态规划+位操作型动态规划</li>
<li>第九章 序列型动态规划</li>
<li>第十六章 划分型，博弈型和背包型动态规划</li>
<li>第十七章 背包型动态规划和区间型动态规划</li>
<li>第二十二章 双序列动态规划</li>
</ul>
<p>right: 国内大厂高频动规题详解</p>
<h3>简历: 最好一页<span class="absolute -mt-20" id="简历-最好一页-1"></span>
    <a href="#%e7%ae%80%e5%8e%86-%e6%9c%80%e5%a5%bd%e4%b8%80%e9%a1%b5-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ol>
<li>清楚简洁，简明扼要，但不要太花里胡哨。不要有错字，错词或者语法错误</li>
<li>Project &amp; Experience: 一定要和申请的职位相关</li>
</ol>
<ul>
<li>写清楚Contribution。避免写成产品介绍，主要写我做了什么，必要的时候写用了什么工具。e.g. I drove &hellip;, drove &hellip;, design &hellip;</li>
<li><strong>可以放一些数字</strong>: reduce pipline time by 51.7%</li>
<li>选最喜欢，最擅长，贡献最大的三个projects</li>
</ul>
<ol start="3">
<li>倒背如流细节</li>
</ol>
<hr>
<h3>How to use heap in c++<span class="absolute -mt-20" id="how-to-use-heap-in-c-1"></span>
    <a href="#how-to-use-heap-in-c-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-101"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;set&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define assertm(exp, msg) assert(((void)msg, exp))
</span></span></span><span class="line"><span class="cl"><span class="cp">#define print(input) for (auto&amp; elem : input) std::cout &lt;&lt; elem &lt;&lt; std::endl
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">auto</span> <span class="n">cmp</span> <span class="o">=</span> <span class="p">[](</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">.</span><span class="n">second</span><span class="p">;};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">set</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">,</span> <span class="k">decltype</span><span class="p">(</span><span class="n">cmp</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">heap</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">auto</span> <span class="n">it</span> <span class="o">=</span> <span class="n">heap</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">it</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">next</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">it</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">prev</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;size: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">heap</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">31</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">auto</span> <span class="n">it2</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">find_if</span><span class="p">(</span><span class="n">heap</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">heap</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="p">[</span><span class="o">&amp;</span><span class="n">index</span><span class="p">](</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">first</span> <span class="o">==</span> <span class="n">index</span><span class="p">;});</span>
</span></span><span class="line"><span class="cl">  <span class="n">heap</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">it2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">it</span> <span class="o">=</span> <span class="n">heap</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;size: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">heap</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button
      class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50"
      title="Copy code"
      data-clipboard-target="#code-block-101"
    >
      <div class="group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4"></div>
      <div class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4"></div>
    </button>
  </div>
</div>
        </div>
        <div class="mt-16"></div>
        <div class="mb-8 flex items-center border-t pt-8 dark:border-neutral-800 contrast-more:border-neutral-400 dark:contrast-more:border-neutral-400 print:hidden"><a
        href="/blog/segment_tree/"
        title="Segment Tree &amp; Binary Index Tree"
        class="flex max-w-[50%] items-center gap-1 py-4 text-base font-medium text-gray-600 transition-colors [word-break:break-word] hover:text-primary-600 dark:text-gray-300 md:text-lg ltr:pr-4 rtl:pl-4"
      ><svg class="inline h-5 shrink-0 ltr:rotate-180" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg>Segment Tree &amp; Binary Index Tree</a><a
        href="/blog/note_recursion/"
        title="Recursion"
        class="flex max-w-[50%] items-center gap-1 py-4 text-base font-medium text-gray-600 transition-colors [word-break:break-word] hover:text-primary-600 dark:text-gray-300 md:text-lg ltr:ml-auto ltr:pl-4 ltr:text-right rtl:mr-auto rtl:pr-4 rtl:text-left"
      >Recursion<svg class="inline h-5 shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg></a></div>
        
      </main>
    </article>
  </div>

      <footer class="hextra-footer bg-gray-100 pb-[env(safe-area-inset-bottom)] dark:bg-neutral-900 print:bg-transparent">
    <div class='mx-auto flex gap-2 py-2 px-4 max-w-screen-xl'><button
  title="Change theme"
  data-theme="light"
  class="theme-toggle group h-7 rounded-md px-2 text-left text-xs font-medium text-gray-600 transition-colors dark:text-gray-400 hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-primary-100/5 dark:hover:text-gray-50"
  type="button"
  aria-label="Toggle Dark Mode"
>
  <div class="flex items-center gap-2 capitalize"><svg height=12 class="group-data-[theme=light]:hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span class="group-data-[theme=light]:hidden">Light</span><svg height=12 class="group-data-[theme=dark]:hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg><span class="group-data-[theme=dark]:hidden">Dark</span></div>
</button>
</div>
  <hr class="dark:border-neutral-800" />
  <div
    class='max-w-screen-xl mx-auto flex justify-center py-12 pl-[max(env(safe-area-inset-left),1.5rem)] pr-[max(env(safe-area-inset-right),1.5rem)] text-gray-600 dark:text-gray-400 md:justify-start'
  >
    <div class="flex w-full flex-col items-center sm:items-start"><div class="font-semibold"><a class="flex text-sm items-center gap-1 text-current" target="_blank" rel="noopener noreferrer" title="Hextra GitHub Homepage" href="https://github.com/imfing/hextra">
    <span
      >Powered by Hextra<svg height=1em class="inline-block ml-1 align-text-bottom" viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="m 105.50024,22.224647 c -9.59169,-5.537563 -21.40871,-5.537563 -31.000093,0 L 39.054693,42.689119 C 29.463353,48.226675 23.55484,58.460531 23.55484,69.535642 v 40.928918 c 0,11.07542 5.908513,21.3092 15.499853,26.84652 l 35.445453,20.46446 c 9.591313,5.53732 21.408404,5.53732 31.000094,0 l 35.44507,-20.46446 c 9.59131,-5.53732 15.49985,-15.7711 15.49985,-26.84652 V 69.535642 c 0,-11.075111 -5.90854,-21.308967 -15.49985,-26.846523 z M 34.112797,85.737639 c -1.384445,2.397827 -1.384445,5.352099 0,7.749927 l 24.781554,42.922974 c 1.38437,2.39783 3.942853,3.87496 6.711592,3.87496 h 49.563107 c 2.76905,0 5.3273,-1.47713 6.71144,-3.87496 l 24.78194,-42.922974 c 1.38414,-2.397828 1.38414,-5.3521 0,-7.749927 L 121.88049,42.814746 c -1.38414,-2.397828 -3.94239,-3.874964 -6.71144,-3.874964 H 65.605944 c -2.768739,0 -5.327223,1.477059 -6.711592,3.874964 z" style="stroke-width:0.774993" /></svg></span>
  </a></div>
    </div>
  </div>
</footer>
    
  </body>
  <script defer src="/js/main.min.f23221a8e57adcb5aa6d050e2100d1c595ff19e697545505940d1c1f002de248.js" integrity="sha256-8jIhqOV63LWqbQUOIQDRxZX/GeaXVFUFlA0cHwAt4kg="></script>

<script defer src="/lib/flexsearch/flexsearch.bundle.min.0425860527cc9968f9f049421c7a56b39327d475e2e3a8f550416be3a9134327.js" integrity="sha256-BCWGBSfMmWj58ElCHHpWs5Mn1HXi46j1UEFr46kTQyc="></script>
  <script defer src="/en.search.min.9afdc7c586c6f971dd94df10b989f10faaf38e5702571fd8cfc9ff9135c2d495.js" integrity="sha256-mv3HxYbG&#43;XHdlN8QuYnxD6rzjlcCVx/Yz8n/kTXC1JU="></script>
<link type="text/css" rel="stylesheet" href="/lib/katex/katex.min.df9ef84e97d38557de02183e238f8ddfd10988b37741492e12c3157bc856011e.css" integrity="sha256-3574TpfThVfeAhg&#43;I4&#43;N39EJiLN3QUkuEsMVe8hWAR4=" />
  <script defer src="/lib/katex/katex.min.d4f0ea25c4ccb7986b229d6427794b7063cf3209b0376cf5a64bfc4dd7918c95.js" integrity="sha256-1PDqJcTMt5hrIp1kJ3lLcGPPMgmwN2z1pkv8TdeRjJU="></script>
  <script defer src="/lib/katex/auto-render.min.9cb8dacfc086c2966c9ec4ba54f4a2dc43b7cbe2b33cec1a2743d886c7fb47a7.js" integrity="sha256-nLjaz8CGwpZsnsS6VPSi3EO3y&#43;KzPOwaJ0PYhsf7R6c="></script>
  <script defer src="/lib/katex/mhchem.min.f0ca03df194b8c3d6017ff455db6a0ef98857905663fa311a6cded788b15340b.js" integrity="sha256-8MoD3xlLjD1gF/9FXbag75iFeQVmP6MRps3teIsVNAs="></script>
  <script>
    
    document.addEventListener("DOMContentLoaded", function () {
      renderMathInElement(document.body, {
        delimiters: [
          { left: "$$", right: "$$", display: true },
          { left: "$", right: "$", display: false },
          { left: "\\(", right: "\\)", display: false },
          { left: "\\[", right: "\\]", display: true },
        ],
        throwOnError: false,
      });
    });
  </script>


</html>
